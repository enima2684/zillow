webpackJsonp([1],[,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(277);t.ActivityCalendar=a.ActivityCalendar;var i=n(1011);t.AddDataSourceModal=i.AddDataSourceModal;var s=n(1012);t.AntiForgeryInput=s.AntiForgeryInput;var o=n(1015);t.AutoFormContainer=o.AutoFormContainer;var r=n(278);t.withAntiForgeryHeader=r.withAntiForgeryHeader;var l=n(1013);t.ApolloComponent=l.ApolloComponent;var c=n(69);t.Avatar=c.Avatar;var p=n(166);t.Badge=p.Badge;var u=n(167);t.Banner=u.Banner;var d=n(62);t.Breakpoints=d.Breakpoints,t.MediaQuery=d.MediaQuery;var m=n(38);t.BlockLink=m.BlockLink;var h=n(81);t.Button=h.Button;var g=n(46);t.ButtonAutoWidth=g.ButtonAutoWidth;var f=n(110);t.ButtonRoundEdged=f.ButtonRoundEdged;var v=n(111);t.Checkbox=v.Checkbox;var _=n(212);t.CityLookup=_.CityLookup;var b=n(213);t.CodeMirrorEditor=b.CodeMirrorEditor;var E=n(7);t.CollapsibleContentBox=E.CollapsibleContentBox;var y=n(421);t.CommentListContainer=y.CommentListContainer;var C=n(279);t.CompetitionCard=C.CompetitionCard;var w=n(280);t.Confirm=w.Confirm;var S=n(7);t.ContentBox=S.ContentBox;var N=n(6);t.Current=N.Current;var T=n(1034);t.addDataSource=T.addDataSource,t.removeDataSource=T.removeDataSource,t.getDataSources=T.getDataSources;var k=n(112);t.EditStateToggleButton=k.EditStateToggleButton;var M=n(138);t.FileUploader=M.FileUploader,t.BackgroundFileUploader=M.BackgroundFileUploader;var x=n(1043);t.FileList=x.FileList;var I=n(113);t.FilePreviewList=I.FilePreviewList;var D=n(1037);t.Forum=D.Forum;var P=n(210);t.ForumMessageContent=P.ForumMessageContent;var U=n(99);t.InlineTextEditor=U.InlineTextEditor;var O=n(1048);t.isValidEmail=O.isValidEmail;var A=n(1049);t.isValidUrl=A.isValidUrl;var L=n(1051);t.JobListContainer=L.JobListContainer;var R=n(427);t.LoadingText=R.LoadingText;var F=n(61);t.MarkdownConverter=F.MarkdownConverter;var B=n(100);t.MarkdownEditor=B.MarkdownEditor;var V=n(114);t.Modal=V.Modal;var j=n(82);t.numberWithCommas=j.numberWithCommas;var H=n(216);t.OffCanvasContainer=H.OffCanvasContainer;var K=n(1053);t.Ordinal=K.Ordinal;var z=n(1054);t.OrganizationCard=z.OrganizationCard;var q=n(168);t.OverflowX=q.OverflowX;var W=n(50);t.PageHeader=W.PageHeader,t.PageHeaderCallToAction=W.PageHeaderCallToAction,t.PageHeaderNav=W.PageHeaderNav,t.PageHeaderBottomRow=W.PageHeaderBottomRow,t.PageHeaderTopRow=W.PageHeaderTopRow;var G=n(24);t.PageMessages=G.PageMessages;var J=n(1056);t.parseQueryString=J.parseQueryString;var Q=n(36);t.Pluralize=Q.Pluralize;var Y=n(429);t.Progress=Y.Progress,t.progressUtils=Y.progressUtils;var X=n(63);t.SelectBox=X.SelectBox;var $=n(139);t.SmartListContainer=$.SmartListContainer;var Z=n(19);t.TimeAgo=Z.TimeAgo;var ee=n(1072);t.Timer=ee.Timer;var te=n(83);t.ToolTip=te.ToolTip;var ne=n(430);t.ToolTipMultiLine=ne.ToolTipMultiLine;var ae=n(115);t.VoteButton=ae.VoteButton;var ie=n(169);t.slugify=ie.slugify,t.deslugify=ie.deslugify},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Current=window.Kaggle.Current},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=function(t){function n(e){var n=t.call(this,e)||this;return n.toggleCollapsed=function(){n.setState({isCollapsed:!n.state.isCollapsed})},n.state={isCollapsed:n.props.initiallyCollapsed},n.collapsedClass="fa fa-"+(n.props.collapsedIconFontAwesomeClass||"plus-square-o"),n.expandedClass="fa fa-"+(n.props.expandedIconFontAwesomeClassedIcon||"minus-square-o"),n.props.titleHref&&console.warn("titleHref not supported in CollapsibleContentBox"),n.props.title||console.warn("Untitled CollapsibleContentBox not supported"),n}return a.__extends(n,t),n.prototype.render=function(){var t="content-box__expand-toggle "+(this.state.isCollapsed?this.collapsedClass:this.expandedClass);return e.createElement("div",{className:i("content-box",this.props.containerClassName)},this.props.showLoader?e.createElement("div",{className:"content-box__loader-overlay"},e.createElement("div",{className:"content-box__loader-icon fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"}),e.createElement("div",{className:"content-box__loader-message"},this.props.loaderMessage||"Please wait...")):"",e.createElement("div",{className:"content-box__title-bar--collapsible",onClick:this.toggleCollapsed},e.createElement("div",{className:t}),e.createElement("div",{className:"content-box__title"},this.props.title),this.props.titleBarRightSide?e.createElement("div",{className:"content-box__right-side"},this.props.titleBarRightSide):null),this.state.isCollapsed?null:e.createElement("div",{className:i("content-box__content-section",this.props.contentClassName)},this.props.subTitleBar?e.createElement("div",{className:"content-box__subtitle-bar"},this.props.subTitleBar):null,this.props.children))},n}(e.Component);t.CollapsibleContentBox=s;var o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=e.createElement("div",{className:"content-box__title-bar"},e.createElement("div",{className:"content-box__title"},this.props.title),this.props.titleBarRightSide?e.createElement("div",{className:"content-box__right-side"},this.props.titleBarRightSide):null);return this.props.title?e.createElement("div",{className:i("content-box",{"content-box--grow":this.props.growVertically},this.props.containerClassName)},this.props.showLoader?e.createElement("div",{className:"content-box__loader-overlay"},e.createElement("div",{className:"content-box__loader-icon fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"}),e.createElement("div",{className:"content-box__loader-message"},this.props.loaderMessage||"Please wait...")):"",this.props.titleHref?e.createElement("a",{className:"content-box__title-bar--link",href:this.props.titleHref},t):this.props.onTitleClick?e.createElement("div",{className:"content-box__title-bar--link",onClick:this.props.onTitleClick},t):e.createElement("div",null,t),e.createElement("div",{className:i("content-box__content-section",this.props.contentClassName)},this.props.subTitleBar?e.createElement("div",{className:"content-box__subtitle-bar"},this.props.subTitleBar):null,this.props.children)):e.createElement("div",{className:i("content-box","content-box--no-title",this.props.containerClassName)},e.createElement("div",{className:i("content-box__content-section content-box__content-section--no-title",this.props.borderless?"content-box__content-section--no-border":null,this.props.contentClassName)},e.createElement("div",{className:"content-box__simple-content-box"},e.createElement("div",{className:"content-box__simple-content"},this.props.children))))},n}(e.Component);t.ContentBox=o}).call(t,n(0))},,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(44),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props.time?(new Date).getTime()-new Date(this.props.time.toString()).getTime():0,n=null;switch(this.props.maxGranularity){case"hour":n=t<36e5?"in the past hour":null;break;case"day":n=t<864e5?"in the past day":null;break;default:var a=this.props.condense?"now":"just now";n=Math.abs(t)<=1e4?a:null}var s=new Date<new Date(this.props.time);return this.props.futureDateMessage&&s&&(n=this.props.futureDateMessage),this.props.condense?i.updateLocale("en",{relativeTime:{future:"in %s",past:"%s",s:"~10s",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}):i.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}}),e.createElement("span",{className:this.props.className,title:n||new Date(this.props.time.toString()).toString()},n||i(this.props.time).fromNow(!0)+" "+(s?this.props.hideToGo?"":this.props.toGoOverride||"to go":this.props.hideAgo?"":this.props.agoOverride||"ago"))},n}(e.Component);t.TimeAgo=s}).call(t,n(0))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(45),i=function(){function e(){}return e.error=function(e,t){this.pushAndNotifyListeners("error",e,t)},e.info=function(e,t){this.pushAndNotifyListeners("info",e,t)},e.warning=function(e,t){this.pushAndNotifyListeners("warning",e,t)},e.success=function(e,t){this.pushAndNotifyListeners("success",e,t)},e.site=function(e,t){this.pushAndNotifyListeners("site",e,t)},e.clear=function(){this.messages=this.messages.filter(function(e){return e.isPersistent}),this.notifyListeners()},e.set=function(e){this.clear(),this.add(e),this.notifyListeners()},e.add=function(e){e&&(this.messages=this.messages.concat(e),this.notifyListeners())},e.remove=function(e){this.messages=this.messages.filter(function(t){return t.id!==e}),this.notifyListeners()},e.addListener=function(e){this.listeners.push(e),this.notifyListeners()},e.removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.pushAndNotifyListeners=function(e,t,n){n&&n.clear&&this.clear(),t&&(this.messages.push("string"==typeof t?{type:e,message:t,faIcon:n&&n.faIcon}:a.extend(t,{type:e})),this.notifyListeners())},e.notifyListeners=function(){for(var e=0,t=this.listeners;e<t.length;e++){(0,t[e])(this.messages)}},e}();i.messages=window.Kaggle.PageMessages||[],i.listeners=[],t.PageMessages=i},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a){this.title=e,this.description=t,this.examples=n,this.staticMarkup=a}return e}();t.default=a},,,,,,,function(e,t,n){"use strict";(function(e,a,i,s){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1);!function(t){function n(e){return[e.method,e.headers.get("Content-Type"),e.headers.get("Accept")]}function a(e){var t=e[0],n=e[1],a=e[2],i=new Headers;return n&&i.append("Content-Type",n),a&&i.append("Accept",a),{method:t,headers:i}}function i(e){var t=new h(e),n=t.fetch;return n.cast=function(t){return new h(e).fetch(t)},n.route=e[2],n.with=function(e){return i(t.opts.with(e).condense())},n.when=function(e){return i(t.opts.when(e).condense())},n.finally=function(e){return i(t.opts.finally(e).condense())},n.clearWith=function(){return i(t.opts.clearWith().condense())},n.clearWhen=function(){return i(t.opts.clearWhen().condense())},n.clearFinally=function(){return i(t.opts.clearFinally().condense())},n.clear=function(){return i(t.opts.clear().condense())},n.useDebug=function(e){return void 0===e&&(e=!0),i(t.opts.useDebug(e).condense())},n.withHeaders=function(e){return n.with(l.Req.withHeaders(e))},n.withHeader=function(e,t){return n.with(l.Req.withHeader(e,t))},n}function s(e){var t=new g(e),n=t.fetch;return n.cast=function(t,n){return void 0===n&&(n=null),new g(e).fetch(t,n)},n.route=e[2],n.with=function(e){return s(t.opts.with(e).condense())},n.when=function(e){return s(t.opts.when(e).condense())},n.finally=function(e){return s(t.opts.finally(e).condense())},n.clearWith=function(){return s(t.opts.clearWith().condense())},n.clearWhen=function(){return s(t.opts.clearWhen().condense())},n.clearFinally=function(){return s(t.opts.clearFinally().condense())},n.clear=function(){return s(t.opts.clear().condense())},n.useDebug=function(e){return void 0===e&&(e=!0),s(t.opts.useDebug(e).condense())},n.withHeaders=function(e){return n.with(l.Req.withHeaders(e))},n.withHeader=function(e,t){return n.with(l.Req.withHeader(e,t))},n}var o=function(){function e(){}return e}();o.Redirects=[202,301,302];var l;!function(e){var n=function(){function e(){}return e}();n.withHeader=function(e,t){return function(n,a,i,s){var o=new Headers(a.headers);return o.set(e,t),i(n,r.__assign({},a,{headers:o}))}},n.withHeaders=function(e){return function(t,n,a,i){for(var s=new Headers(n.headers),o=0,l=Object.entries(e);o<l.length;o++){var c=l[o],p=c[0],u=c[1];s.set(p,u)}return a(t,r.__assign({},n,{_headers:s}))}},n.withJSON=n.withHeaders({"Content-Type":"application/json",Accept:"application/json"}),n.withCredentials=function(e){return function(t,n,a){return a(t,r.__assign({},n,{credentials:e}))}},n.withRedirect=function(e){return function(t,n,a){return a(t,r.__assign({},n,{redirect:e}))}},n.defaults=[n.withCredentials("same-origin"),n.withRedirect("follow")],e.Req=n;var a=function(){function e(){}return e}();a.redirect=function(e,t,n){if(!o.Redirects.includes(e.status)||!e.headers.has("Location"))return t(e);var a=e.headers.get("Location");return n.debug&&n.debug("fetch received response status "+e.status+": redirecting to "+a),window.location.assign(a),null},a.enforceStatuses=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n){if(!e.includes(t.status))throw new Error("[Middleware.Res.enforceStatuses] response had a disallowed status | "+t.status+": "+t.statusText);return n(t)}},a.enforceOk=function(e,t,n){if(!e.ok)throw new Error("[Middleware.Res.enforceOk] response was not ok | "+e.status+": "+e.statusText);return t(e)},a.errorReporting=function(e,t,n){if(!e.ok){var a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return console.trace?console.trace.apply(console,[e].concat(t)):console.log.apply(console,[e].concat(t))},i=[e.status,e.statusText,e.type,e.url].filter(function(e){return void 0!==e&&null!==e}).join(" | ");return e.text().then(function(e){a(i+"\n"+e)}).catch(function(e){a(i+"\nDecoding Error:\n"+e.toString())}),null}return t(e)},a.defaults=[a.redirect,a.enforceOk],e.Res=a;var i=function(){function e(){}return e}();i.backgroundTask=function(e,n,a){return"object"==typeof e&&null!==e&&Object.defineProperty(e,"backgroundTask",{value:{signalR:function(){return t.signalRProgress(e)}},enumerable:!0,configurable:!1,writable:!1}),n(e)},i.defaults=function(e){return[]},e.Finalizer=i}(l=t.Middleware||(t.Middleware={}));var c=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.debug?console.debug.apply(console,[e].concat(t)):console.log.apply(console,[e].concat(t))},p=function(){function e(e){var t=e.debug,n=e.background,a=this;this.condense=function(){return[a.debug,a.background]},this.debug=t,this.background=n}return e}();p.expand=function(e){var t=e||[],n=t[0],a=void 0!==n&&n,i=t[1];return new p({debug:a,background:void 0!==i&&i})};var u=function(){function e(t){var i=this;this.withHeaders=function(e){var t=r.__assign({},i.init.headers,e),n=r.__assign({},i.init,{headers:t});return i.partialClone({init:n})},this.with=function(e){var t=i.requestMiddlewares.concat([e]);return i.partialClone({requestMiddlewares:t})},this.when=function(e){var t=[e].concat(i.responseMiddlewares);return i.partialClone({responseMiddlewares:t})},this.finally=function(e){var t=[e].concat(i.finalizerMiddlewares);return i.partialClone({finalizerMiddlewares:t})},this.clearWith=function(){return i.partialClone({requestMiddlewares:[]})},this.clearWhen=function(){return i.partialClone({responseMiddlewares:[]})},this.clearFinally=function(){return i.partialClone({finalizerMiddlewares:[]})},this.clear=function(){return i.partialClone({requestMiddlewares:[],responseMiddlewares:[],finalizerMiddlewares:[]})},this.useDebug=function(e){return void 0===e&&(e=!0),i.partialClone({flags:new p(r.__assign({},i.flags,{debug:e}))})},this.condense=function(e){return void 0===e&&(e=i),[n(e.init),e.flags.condense(),e.routeTemplate,e.routeKeys,e.queryKeys,e.bodyKeys,e.responseType,e.requestMiddlewares,e.responseMiddlewares,e.finalizerMiddlewares]},this.partialClone=function(t){return void 0===t&&(t={}),t.init||(t.init=i.init),t.flags||(t.flags=i.flags),t.routeTemplate||(t.routeTemplate=i.routeTemplate),t.routeKeys||(t.routeKeys=i.routeKeys),t.queryKeys||(t.queryKeys=i.queryKeys),t.responseType||(t.responseType=i.responseType),t.requestMiddlewares||(t.requestMiddlewares=i.requestMiddlewares),t.responseMiddlewares||(t.responseMiddlewares=i.responseMiddlewares),t.finalizerMiddlewares||(t.finalizerMiddlewares=i.finalizerMiddlewares),new e(i.condense(t))};var s=t[0],o=t[1],u=t[2],d=t[3],m=t[4],h=t[5],g=t[6],f=t[7],v=t[8],_=t[9],b=a(s),E=b.headers,y=r.__rest(b,["headers"]);this.init=Object.freeze(r.__assign({},y,{headers:Object.freeze(E)})),this.flags=Object.freeze(p.expand(o)),this.routeTemplate=Object.freeze(u),this.routeKeys=Object.freeze(d),this.queryKeys=Object.freeze(m),this.bodyKeys=Object.freeze(h),this.responseType=Object.freeze(g),this.requestMiddlewares=Object.freeze(f||l.Req.defaults),this.responseMiddlewares=Object.freeze(v||l.Res.defaults),this.finalizerMiddlewares=Object.freeze(_||l.Finalizer.defaults(this.flags)),this.flags.debug&&(this.debug=c)}return e}(),d=function(){function e(e){var t=this;this.reverse=function(e){var n=t.opts,a=n.routeTemplate,i=n.routeKeys,s=e.includes("#")?e.split("#"):[e,null],o=s[0],l=(s[1],o.includes("?")?o.split("?"):[o,null]),c=l[0],p=(l[1],t.routeStripper.exec(c)),u=(p[0],p.slice(1));if(t.opts.routeKeys.length!==u.length)throw new Error("Route does not match.\n\trouteTemplate: "+a+"\n\turl: "+e+"\n\trouteKeys: "+JSON.stringify(i)+"\n\trouteValues: "+JSON.stringify(u));return{route:i.reduce(function(t,n,s){var o=u[s];if("null"===o||"undefined"===o)throw new Error("Received url with null or undefined values.\n\trouteTemplate: "+a+"\n\turl: "+e+"\n\trouteKeys: "+JSON.stringify(i)+"\n\trouteValues: "+JSON.stringify(u)+"\n\tFailed on ["+n+"]: "+o);return r.__assign({},t,(l={},l[n]=o,l));var l},{}),query:{}}},this.opts=e;var n=this.opts.routeKeys.reduce(function(e,t,n){return e.replace("{"+n+"}","([^/$]+)")},this.opts.routeTemplate);this.routeStripper=new RegExp(n);var a=this.opts.queryKeys.map(function(e,t){return e+"=([^&$]+)"}).join("&");this.queryStripper=new RegExp(a)}return e}(),m=function(){function e(e){var t=this;this.createRequestInfo=function(e){if("string"==typeof e){if(t.opts.debug){var n=t.reverser.reverse(e);t.opts.debug("reversed route\n\turl: "+e+"\n\trouteInfo:"+JSON.stringify(n))}return e}var a=Object.keys(e),i=a.filter(function(e){return t.opts.routeKeys.includes(e)}),s=a.filter(function(e){return t.opts.queryKeys.includes(e)}),o=function(t){var n=e[t];return"string"==typeof n?n:n.toString()},r=""+function(){return i.reduce(function(e,t,n){return e.replace("{"+n+"}",o(t))},t.opts.routeTemplate)}()+function(){return s.length>0?"?"+s.map(function(t){return t+"="+e[t]}).join("&"):""}();if(!t.validUrl.test(r))throw new Error(t.toString()+": One or more route parameters was not correctly replaced in routeTemplate '"+t.opts.routeTemplate+"' => '"+r+"'");return r},this.applyRequestMiddleware=function(e,n,a){void 0===a&&(a=0);var i=t.opts.requestMiddlewares;return i.length==a?[e,n]:(0,i[a])(e,n,function(e,n){return t.applyRequestMiddleware(e,n,a+1)},t.opts)},this.applyResponseMiddleware=function(e,n){void 0===n&&(n=0);var a=t.opts.responseMiddlewares;return a.length==n?e:(0,a[n])(e,function(e){return void 0!==e&&null!==e?t.applyResponseMiddleware(e,n+1):(t.opts.debug&&t.opts.debug("response handling exited early"),null)},t.opts)},this.applyFinalizerMiddleware=function(e,n){void 0===n&&(n=0);var a=t.opts.finalizerMiddlewares;return a.length==n?e:(0,a[n])(e,function(e){return t.applyFinalizerMiddleware(e,n+1)},t.opts)},this.handleResponse=function(e){var n=t.applyResponseMiddleware(e);return null===n?(t.opts.debug&&t.opts.debug("response handling exited early"),Promise.resolve(null)):n[t.opts.responseType]().then(function(e){return t.applyFinalizerMiddleware(e)})},this.createFetchArgs=function(e,n){var a=t.applyRequestMiddleware(e,t.opts.init);return[a[0],a[1]]},this.toString=function(){return"ActionOpts: "+t.opts.routeTemplate},this.opts=new u(e),this.validUrl=/[^{}]/,this.opts.debug&&(this.reverser=new d(this.opts),this.opts.debug("Action: "+this.opts.routeTemplate))}return e}(),h=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.fetch=function(t){var a=n.createRequestInfo(t),i=n.createFetchArgs(a,t),s=i[0],o=i[1];return e(s,o).then(function(e){return n.handleResponse(e)})},n}return r.__extends(n,t),n}(m),g=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.fetch=function(t,a){void 0===a&&(a=null);var i=n.createRequestInfo(t),s=n.createFetchArgs(i,t),o=s[0],r=s[1];return r.body=n.createBody(a),window.fetchArgs=[i,r],e(o,r).then(function(e){return n.handleResponse(e)})},n.pascalCase=function(e){if(null===e||void 0===e)return e;if("object"!=typeof e)return e;if(Array.isArray(e))return e;var t=Object.keys(e);return 0===t.length?e:t.reduce(function(t,a){return r.__assign({},t,(i={},i[a.charAt(0).toUpperCase()+a.substr(1)]=n.pascalCase(e[a]),i));var i},{})},n.createBody=function(e){var t=n.opts,a=t.init,i=(t.bodyKeys,a.headers.get("Content-Type"));if(null===i)return e;if("string"==typeof e)return e;if(i.includes("application/json"))return"object"==typeof e?JSON.stringify(Array.isArray(e)?e:n.pascalCase(e)):{};if(i.includes("application/octet-stream")){if(!(e instanceof Blob))throw new Error('Expected body type of "Blob", received "'+("object"==typeof e?JSON.stringify(e):e)+'"');return e}if(i.includes("multipart/form-data")){if(!(e instanceof FormData))throw new Error('Expected body type of "FormData", received "'+("object"==typeof e?JSON.stringify(e):e)+'"');return e}throw new Error('Fetch init contains an unimplemented "Content-Type" header: "'+i+'"')},n}return r.__extends(n,t),n}(m);t.fetchAction=i,t.fetchBodyAction=s}(o||(o={})),function(e){function t(e){return t=function(t){function n(n){var i=t.call(this,n)||this;return i.fetch=function(t){var n=i.props.withHeaders;if(i.fetchMounted){var a=Object.keys(t).some(function(e){return t[e]!==i.props.route[e]}),s=n?e.withHeaders(n):e;if(i.props.with)for(var o=0,r=i.props.with;o<r.length;o++){var l=r[o];s=s.with(l)}if(i.props.when)for(var c=0,p=i.props.when;c<p.length;c++){var l=p[c];s=s.when(l)}if(i.props.finally)for(var u=0,d=i.props.finally;u<d.length;u++){var l=d[u];s=s.finally(l)}s(t).then(function(e){return i.fetchMounted&&i.setState(e,function(){i.fetchMounted&&a&&i.forceUpdate()})})}},i.createContext=function(){return{route:i.props.route,preview:function(){return a.createElement(c,{children:i.state})},update:function(e){return void 0===e&&(e=i.props.route),i.fetch(e)}}},i.fetchMounted=!1,i.state=null,i}return r.__extends(n,t),n.prototype.componentDidMount=function(){var e=this.props,t=(e.children,e.route);this.fetchMounted=!0,this.fetch(t)},n.prototype.componentWillUnmount=function(){this.fetchMounted=!1},n.prototype.componentWillReceiveProps=function(e){var t=this.props.route?Object.keys(this.props.route):[],n=e.route?Object.keys(e.route):[];if(t.length!==n.length)this.fetch(e.route);else for(var a=0,i=t;a<i.length;a++){var s=i[a];if(this.props.route[s]!==e[s]){this.fetch(e.route);break}}},n.prototype.render=function(){return this.state?this.props.children(this.state,this.createContext()):null},n}(a.PureComponent),t.defaultProps={children:function(e){return a.createElement(c,{children:e})}},t;var t}function n(e){return function(e){function t(t){var n=e.call(this,t)||this;return n.onProgress=function(e){console.info("SignalR: notifyProgress",e),n.setState(e)},n.subscribe=function(){n.unsubscribe&&n.unsubscribe();var e=s.hubConnection(),t=e.createHubProxy("backgroundTaskHub");console.info("SignalR: hubProxy",t),t.on("notifyProgress",n.onProgress),e.logging=!0,e.start().done(function(){console.info("SignalR: started")}),n.unsubscribe=function(){t.off("notifyProgress",n.onProgress),e.stop(),console.info("SignalR: stopped")}},n.state=null,n}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(){var e=this.props.children;return this.state?e(this.state):null},t}(a.PureComponent)}if(void 0===a.PureComponent)throw new Error("React.PureComponent does not exist! Upgrade to latest react library.");if(void 0===i)throw new Error("jQuery does not exist! It is required for SignalR support.");if(void 0===i.signalR)throw new Error("jQuery.signalR does not exist! It is required for SignalR support.");e.fetchActionComponent=t,e.signalRProgress=n;var o={fontSize:"1.25em",fontStyle:"italic"},l={backgroundColor:"white",fontFamily:"'Atlas Grotesk', sans-serif",border:"1px solid #DEDFE0",borderRadius:4,fontSize:"0.75rem",padding:"5px 24px",overflow:"scroll",maxHeight:"25rem",lineHeight:"1.5rem"},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.children;return a.createElement("pre",{style:l},a.createElement("h2",{style:o},"React Api Placeholder"),JSON.stringify(e,null,4))},t}(a.Component)}(o||(o={})),t.Admin={hardDeleteSubmission:o.fetchBodyAction([["DELETE",null,"application/json"],[null,!1],"/admin/submission/{0}",["submissionId"],[],null,"json",null,null,null]),getRawMetricsQueryOutput:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/admin/metricsquery/{0}.json",["queryId"],[],null,"json",null,null,null]),getProductMetricsQueries:o.fetchBodyAction([["POST","application/json","application/json"],[null,!1],"/admin/metricsquery.json",[],[],null,"json",null,null,null]),getSegmentedTaskProgress:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/admin/segmented/tasks/{0}/progress",["id"],["source"],null,"json",null,null,null]),cancelSegmentedTask:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/admin/segmented/tasks/{0}/cancel",["taskId"],["source"],null,"json",null,null,null]),databaseCpuUtilization:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/admin/db/cpu-utilization.json",[],[],null,"json",null,null,null]),databaseCpuTime:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/admin/db/cpu-time.json",[],[],null,"json",null,null,null]),databaseQueryWallOfShame:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/admin/db/qwos.json",[],["startTime","endTime"],null,"json",null,null,null]),databaseQueryDetails:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/admin/db/query-details.json",[],["batchQueryHandle"],null,"json",null,null,null]),getEvaluationSummary:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/c/{0}/evaluation/summary.json",["id"],[],null,"json",null,null,null]),getEvaluationAlgorithmSummary:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/evaluation/algorithm/{0}/summary.json",["id"],[],null,"json",null,null,null]),deleteDescendantSteps:o.fetchBodyAction([["DELETE",null,"application/json"],[null,!1],"/admin/c/{0}/evaluation/steps/{1}/descendants",["competitionId","stepId"],[],null,"json",null,null,null]),queueSolutionUpdate:o.fetchBodyAction([["POST",null,"application/json"],[null,!0],"/admin/c/{0}/evaluation/solution",["competitionId"],["fileName"],null,"json",null,null,null]),getSolutionColumnMapping:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/admin/c/{0}/evaluation/solution/mappings",["competitionId"],[],null,"json",null,null,null]),queueSolutionMappingUpdate:o.fetchBodyAction([["POST","application/json","application/json"],[null,!0],"/admin/c/{0}/evaluation/solution/mappings",["competitionId"],[],null,"json",null,null,null]),queueSubmissionUpdate:o.fetchBodyAction([["POST",null,"application/json"],[null,!0],"/admin/c/{0}/evaluation/submission",["competitionId"],["fileName"],null,"json",null,null,null]),getSubmissionColumnMapping:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/admin/c/{0}/evaluation/submission/mappings",["competitionId"],[],null,"json",null,null,null]),queueSubmissionMappingUpdate:o.fetchBodyAction([["POST","application/json","application/json"],[null,!0],"/admin/c/{0}/evaluation/submission/mappings",["competitionId"],[],null,"json",null,null,null]),submissionsPoll:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/admin/submissions.json",[],[],null,"json",null,null,null])},t.ReactAdmin={GetRawMetricsQueryOutput:o.fetchActionComponent(t.Admin.getRawMetricsQueryOutput),GetSegmentedTaskProgress:o.fetchActionComponent(t.Admin.getSegmentedTaskProgress),CancelSegmentedTask:o.fetchActionComponent(t.Admin.cancelSegmentedTask),DatabaseCpuUtilization:o.fetchActionComponent(t.Admin.databaseCpuUtilization),DatabaseCpuTime:o.fetchActionComponent(t.Admin.databaseCpuTime),DatabaseQueryWallOfShame:o.fetchActionComponent(t.Admin.databaseQueryWallOfShame),DatabaseQueryDetails:o.fetchActionComponent(t.Admin.databaseQueryDetails),GetEvaluationSummary:o.fetchActionComponent(t.Admin.getEvaluationSummary),GetEvaluationAlgorithmSummary:o.fetchActionComponent(t.Admin.getEvaluationAlgorithmSummary),GetSolutionColumnMapping:o.fetchActionComponent(t.Admin.getSolutionColumnMapping),GetSubmissionColumnMapping:o.fetchActionComponent(t.Admin.getSubmissionColumnMapping),SubmissionsPoll:o.fetchActionComponent(t.Admin.submissionsPoll)},t.BlobFiles={createInboxBlob:o.fetchBodyAction([["POST",null,"application/json"],[null,!1],"/blobs/inbox/{0}",["entityName"],["fileName","contentLength","lastModifiedDateUtc"],null,"json",null,null,null]),downloadBlobFile:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/blobs/download/{0}/{1}/{2}",["entityName","entityId","fileName"],[],null,"json",null,null,null]),processInboxBlobChunk:o.fetchBodyAction([["POST",null,"application/json"],[null,!1],"/blobs/inbox/{0}/{1}/{2}/{3}",["entityName","guid","contentLength?","userReportedLastModifiedDate?"],[],null,"json",null,null,null])},t.ReactBlobFiles={DownloadBlobFile:o.fetchActionComponent(t.BlobFiles.downloadBlobFile)},t.Competitions={createCompetition:o.fetchBodyAction([["POST","application/json","application/json"],[null,!1],"/c/create.json",[],[],null,"json",null,null,null]),saveSettings:o.fetchBodyAction([["POST","application/json","application/json"],[null,!1],"/c/{0}/settings.json",["id"],[],null,"json",null,null,null]),getTeams:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/c/{0}/teams.json",["id"],["filter"],null,"json",null,null,null]),getSubmissionsByTeam:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/c/{0}/team-submissions.json",["id"],["teamId"],null,"json",null,null,null]),getCompetitionJson:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/c/{0}.json",["id"],[],null,"json",null,null,null]),postSubmission:o.fetchBodyAction([["POST",null,"application/json"],[null,!1],"/c/{0}/submission.json",["id"],["submissionDescription"],null,"json",null,null,null]),postBenchmark:o.fetchBodyAction([["POST",null,"application/json"],[null,!1],"/c/{0}/benchmarks.json",["id"],["submissionDescription"],null,"json",null,null,null])},t.ReactCompetitions={GetTeams:o.fetchActionComponent(t.Competitions.getTeams),GetSubmissionsByTeam:o.fetchActionComponent(t.Competitions.getSubmissionsByTeam),GetCompetitionJson:o.fetchActionComponent(t.Competitions.getCompetitionJson)},t.Scripts={updateSourceIpynb:o.fetchBodyAction([["POST","application/json","application/json"],[null,!1],"/{0}/{1}/{2}/ipynb.json",["userName","kernelSlug","scriptVersionId"],["newContent"],null,"json",null,null,null]),reportNotebookError:o.fetchBodyAction([["POST","application/json","application/json"],[null,!1],"/kernels/nberr",[],[],null,"json",null,null,null]),scriptVersionDiff:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/kernels/diff/{0}/{1}",["leftScriptVersionId","rightScriptVersionId"],[],null,"json",null,null,null]),cancelScript:o.fetchBodyAction([["POST",null,"application/json"],[null,!1],"/kernels/cancel",[],["scriptVersionId"],null,"json",null,null,null]),basicKernelStatus:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/kernels/statmin.json",[],["id"],null,"json",null,null,null])},t.ReactScripts={ScriptVersionDiff:o.fetchActionComponent(t.Scripts.scriptVersionDiff),BasicKernelStatus:o.fetchActionComponent(t.Scripts.basicKernelStatus)},t.Users={getOrganizations:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/user-organizations",[],["filter"],null,"json",null,null,null]),followUser:o.fetchBodyAction([["PUT",null,"application/json"],[null,!1],"/{0}/follow.json",["userName"],[],null,"json",null,null,null]),unfollowUser:o.fetchBodyAction([["PUT",null,"application/json"],[null,!1],"/{0}/unfollow.json",["userName"],[],null,"json",null,null,null]),getActivity:o.fetchAction([["GET","application/json","application/json"],[null,!1],"/{0}/activity.json",["userName"],["userId"],null,"json",null,null,null])},t.ReactUsers={GetOrganizations:o.fetchActionComponent(t.Users.getOrganizations),GetActivity:o.fetchActionComponent(t.Users.getActivity)}}).call(t,n(32),n(0),n(3),n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOTEBOOK_REQUEST_WORKER="NOTEBOOK_REQUEST_WORKER",t.NOTEBOOK_RENDER_HTML="NOTEBOOK_RENDER_HTML",t.NOTEBOOK_CANCEL_SCRIPTRUN="NOTEBOOK_CANCEL_SCRIPTRUN",t.NOTEBOOK_INVESTIGATE_EARLY_STOP="NOTEBOOK_INVESTIGATE_EARLY_STOP",t.requestWorker=function(){return{type:t.NOTEBOOK_REQUEST_WORKER}},t.renderHtml=function(e,n){return{type:t.NOTEBOOK_RENDER_HTML,scriptRunId:e,notebook:n}},t.cancelScriptRun=function(e){return{type:t.NOTEBOOK_CANCEL_SCRIPTRUN,scriptRunId:e}},t.investigateEarlyStop=function(e){return{type:t.NOTEBOOK_INVESTIGATE_EARLY_STOP,scriptRunId:e}},t.NOTEBOOK_UPDATE_DATASOURCES_AND_RESTART="NOTEBOOK_UPDATE_DATASOURCES_AND_RESTART",t.updateDataSourcesAndRestart=function(e,n){return{type:t.NOTEBOOK_UPDATE_DATASOURCES_AND_RESTART,dataSources:e,currentScriptRunId:n}},t.NOTEBOOK_START_SESSION="NOTEBOOK_START_SESSION",t.NOTEBOOK_SAVE_FILE="NOTEBOOK_SAVE_FILE",t.NOTEBOOK_CANCEL_EXECUTION="NOTEBOOK_CANCEL_EXECUTION",t.startSession=function(e){return{type:t.NOTEBOOK_START_SESSION,url:e}},t.saveFile=function(e){return{type:t.NOTEBOOK_SAVE_FILE,newContent:e}},t.cancelExecution=function(){return{type:t.NOTEBOOK_CANCEL_EXECUTION}},t.NOTEBOOK_KERNEL_SESSION_STARTED="NOTEBOOK_KERNEL_SESSION_STARTED",t.NOTEBOOK_UPDATE_KERNEL_INFO="NOTEBOOK_UPDATE_KERNEL_INFO",t.NOTEBOOK_EXECUTE_CELL="NOTEBOOK_EXECUTE_CELL",t.NOTEBOOK_EXECUTE_ALL="NOTEBOOK_EXECUTE_ALL",t.NOTEBOOK_REQUEST_AUTOCOMPLETE="NOTEBOOK_REQUEST_AUTOCOMPLETE",t.notebookKernelSessionStarted=function(){return{type:t.NOTEBOOK_KERNEL_SESSION_STARTED}},t.updateKernelInfo=function(){return{type:t.NOTEBOOK_UPDATE_KERNEL_INFO}},t.executeCell=function(e,n){return{type:t.NOTEBOOK_EXECUTE_CELL,cellIndex:e,content:n}},t.executeAll=function(){return{type:t.NOTEBOOK_EXECUTE_ALL}},t.autocompleteRequest=function(e,n,a){return{type:t.NOTEBOOK_REQUEST_AUTOCOMPLETE,cellContents:e,cursorPosition:n,callback:a}},t.NOTEBOOK_IPYNB_DOWNLOAD="NOTEBOOK_IPYNB_DOWNLOAD",t.ipynbDownload=function(){return{type:t.NOTEBOOK_IPYNB_DOWNLOAD}},t.NOTEBOOK_NEW_SCRIPT_RUN="NOTEBOOK_NEW_SCRIPT_RUN",t.NOTEBOOK_KERNEL_HAS_STOPPED="NOTEBOOK_KERNEL_HAS_STOPPED",t.NOTEBOOK_CONNECTION_FAILED="NOTEBOOK_CONNECTION_FAILED",t.NOTEBOOK_IS_SAVED="NOTEBOOK_IS_SAVED",t.NOTEBOOK_STOP_EDITING_TITLE="NOTEBOOK_STOP_EDITING_TITLE",t.NOTEBOOK_RESTART_KERNEL="NOTEBOOK_RESTART_KERNEL",t.NOTEBOOK_APPEND_CELL_OUTPUT="NOTEBOOK_APPEND_CELL_OUTPUT",t.newScriptRun=function(e,n){return{type:t.NOTEBOOK_NEW_SCRIPT_RUN,scriptId:e,scriptRunId:n}},t.kernelHasStopped=function(e){return{type:t.NOTEBOOK_KERNEL_HAS_STOPPED,scriptRunId:e}},t.notebookConnectionFailed=function(e){return{type:t.NOTEBOOK_CONNECTION_FAILED,description:e}},t.notebookIsSaved=function(e){return{type:t.NOTEBOOK_IS_SAVED,saveDate:e}},t.stopEditingTitle=function(){return{type:t.NOTEBOOK_STOP_EDITING_TITLE}},t.restartKernel=function(e){return{type:t.NOTEBOOK_RESTART_KERNEL,currentScriptRunId:e}},t.appendCellOutput=function(e,n){return{type:t.NOTEBOOK_APPEND_CELL_OUTPUT,cellIndex:e,output:n}},t.NOTEBOOK_RESTART_KERNEL_FOR_USER="NOTEBOOK_RESTART_KERNEL_FOR_USER",t.restartKernelForUser=function(e){return{type:t.NOTEBOOK_RESTART_KERNEL_FOR_USER,currentScriptRunId:e}},t.NOTEBOOK_UPDATE_KERNEL_STATUS="NOTEBOOK_UPDATE_KERNEL_STATUS",t.NOTEBOOK_CHANGE_CELL_TYPE="NOTEBOOK_CHANGE_CELL_TYPE",t.NOTEBOOK_UPDATE_CONTENTS="NOTEBOOK_UPDATE_CONTENTS",t.NOTEBOOK_ACTIVATE_CELL="NOTEBOOK_ACTIVATE_CELL",t.NOTEBOOK_DELETE_CELL="NOTEBOOK_DELETE_CELL",t.NOTEBOOK_ADD_CELL_ABOVE="NOTEBOOK_ADD_CELL_ABOVE",t.NOTEBOOK_ADD_CELL_BELOW="NOTEBOOK_ADD_CELL_BELOW",t.NOTEBOOK_SET_EXECUTION_STATUS="NOTEBOOK_SET_EXECUTION_STATUS",t.NOTEBOOK_CLEAR_CELL_OUTPUT="NOTEBOOK_CLEAR_CELL_OUTPUT",t.NOTEBOOK_SET_EXECUTION_COUNT="NOTEBOOK_SET_EXECUTION_COUNT",t.NOTEBOOK_UPDATE_DATASOURCES="NOTEBOOK_UPDATE_DATASOURCES",t.NOTEBOOK_SET_TITLE_ERROR="NOTEBOOK_SET_TITLE_ERROR",t.NOTEBOOK_START_EDITING_TITLE="NOTEBOOK_START_EDITING_TITLE",t.NOTEBOOK_CANCEL_EDITING_TITLE="NOTEBOOK_CANCEL_EDITING_TITLE",t.NOTEBOOK_UPDATE_TITLE="NOTEBOOK_UPDATE_TITLE",t.NOTEBOOK_IS_DIRTY="NOTEBOOK_IS_DIRTY",t.NOTEBOOK_CHANGE_LANGUAGE="NOTEBOOK_CHANGE_LANGUAGE",t.NOTEBOOK_REPLACE_CONTENTS="NOTEBOOK_REPLACE_CONTENTS",t.NOTEBOOK_SET_KERNEL_INFO="NOTEBOOK_SET_KERNEL_INFO",t.NOTEBOOK_SET_KEYBOARD_SHORTCUT_COMMAND_MODE="NOTEBOOK_SET_KEYBOARD_SHORTCUT_COMMAND_MODE",t.NOTEBOOK_COULD_NOT_FETCH_FROM_WORKER="NOTEBOOK_COULD_NOT_FETCH_FROM_WORKER",t.NOTEBOOK_ADD_MARKDOWN_AT_START="NOTEBOOK_ADD_MARKDOWN_AT_START",t.NOTEBOOK_SET_ALL_CELLS_TO_IDLE="NOTEBOOK_SET_ALL_CELLS_TO_IDLE",t.NOTEBOOK_NEW_CONNECTION="NOTEBOOK_NEW_CONNECTION",t.NOTEBOOK_NEW_JUPYTER_SESSION="NOTEBOOK_NEW_JUPYTER_SESSION",t.NOTEBOOK_TOGGLE_KERNEL_INFO="NOTEBOOK_TOGGLE_KERNEL_INFO",t.NOTEBOOK_ADD_SCRIPT_TIP="NOTEBOOK_ADD_SCRIPT_TIP",t.setKernelStatus=function(e){return{type:t.NOTEBOOK_UPDATE_KERNEL_STATUS,status:e}},t.changeCellType=function(e){return{type:t.NOTEBOOK_CHANGE_CELL_TYPE,newCellType:e}},t.updateContents=function(e,n){return{type:t.NOTEBOOK_UPDATE_CONTENTS,cellUuid:e,content:n}},t.activate=function(e){return{type:t.NOTEBOOK_ACTIVATE_CELL,cellIndex:e}},t.deleteCell=function(){return{type:t.NOTEBOOK_DELETE_CELL}},t.addAbove=function(){return{type:t.NOTEBOOK_ADD_CELL_ABOVE}},t.addBelow=function(){return{type:t.NOTEBOOK_ADD_CELL_BELOW}},t.setExecutionStatus=function(e,n){return{type:t.NOTEBOOK_SET_EXECUTION_STATUS,cellIndex:e,newStatus:n}},t.clearCellOutput=function(e){return{type:t.NOTEBOOK_CLEAR_CELL_OUTPUT,cellIndex:e}},t.setExecutionCount=function(e,n){return{type:t.NOTEBOOK_SET_EXECUTION_COUNT,cellIndex:e,executionCount:n}},t.updateDataSources=function(e,n,a){return{type:t.NOTEBOOK_UPDATE_DATASOURCES,dataSources:e,imageUrl:n,imageClickUrl:a}},t.setTitleError=function(e){return{type:t.NOTEBOOK_SET_TITLE_ERROR,hasError:e}},t.startEditingTitle=function(){return{type:t.NOTEBOOK_START_EDITING_TITLE}},t.cancelEditingTitle=function(){return{type:t.NOTEBOOK_CANCEL_EDITING_TITLE}},t.updateTitle=function(e){return{type:t.NOTEBOOK_UPDATE_TITLE,newTitle:e}},t.notebookIsDirty=function(){return{type:t.NOTEBOOK_IS_DIRTY}},t.changeLanguage=function(e){return{type:t.NOTEBOOK_CHANGE_LANGUAGE,newLanguageId:e}},t.replaceContents=function(e){return{type:t.NOTEBOOK_REPLACE_CONTENTS,newContent:e}},t.setKernelInfo=function(e){return{type:t.NOTEBOOK_SET_KERNEL_INFO,languageInfo:e}},t.setKeyboardShortcutCommandMode=function(e){return{type:t.NOTEBOOK_SET_KEYBOARD_SHORTCUT_COMMAND_MODE,isInCommandMode:e}},t.couldNotFetchNotebookFromWorker=function(){return{type:t.NOTEBOOK_COULD_NOT_FETCH_FROM_WORKER}},t.addMarkdownAtStart=function(){return{type:t.NOTEBOOK_ADD_MARKDOWN_AT_START}},t.setAllCellsToIdle=function(){return{type:t.NOTEBOOK_SET_ALL_CELLS_TO_IDLE}},t.newConnection=function(e){return{type:t.NOTEBOOK_NEW_CONNECTION,connection:e}},t.newJupyterSession=function(e){return{type:t.NOTEBOOK_NEW_JUPYTER_SESSION,session:e}},t.showKernelInfo=function(){return{type:t.NOTEBOOK_TOGGLE_KERNEL_INFO,showInfo:!0}},t.hideKernelInfo=function(){return{type:t.NOTEBOOK_TOGGLE_KERNEL_INFO,showInfo:!1}},t.addScriptTip=function(e,n){return{type:t.NOTEBOOK_ADD_SCRIPT_TIP,cellIndex:e,tip:n}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(94),s=n(82),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.formattedNumber=function(e){return s.numberWithCommas(e)},n.prototype.render=function(){return this.props.formatNumber?e.createElement("span",null,s.numberWithCommas(this.props.count)+" "+i(this.props.word,this.props.count)):e.createElement("span",null,i(this.props.word,this.props.count,!0))},n}(e.Component);t.Pluralize=o}).call(t,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=n(3),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;window.setTimeout(function(){s(e.container).find("a:not(.block-link__anchor)").each(function(e,t){var n=s(t);"auto"===n.css("z-index")&&("static"===n.css("position")&&n.css("position","relative"),n.css("z-index","2"),n.css("pointer-events","auto"))})})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:i("block-link",this.props.className,this.props.borderless?null:"block-link--bordered"),ref:function(e){return t.container=e}},e.createElement("a",{className:"block-link__anchor",href:this.props.href,onClick:this.props.onClick}),this.props.children)},n}(e.Component);t.BlockLink=o}).call(t,n(0))},,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.classNames,a=t.isDisabled,s=t.href,o=t.onClick,r=t.target,l=t.text,c=t.size;return e.createElement("a",{className:i("button-auto-width"+("s"==c?"--s":"xs"==c?"--xs":""),n),disabled:a,href:s,onClick:a||!o?null:function(e){return o(e)},target:r},l)},n}(e.Component);t.ButtonAutoWidth=s}).call(t,n(0))},,,,function(e,t,n){"use strict";(function(e){function a(e,t){return t?e+" "+e+"--"+t:e}function i(e,t){return t?e+"--"+t:e}function s(e,t,n,a){return void 0===t&&(t=null),void 0===n&&(n=""),void 0===a&&(a=null),{count:null==a?null:r.numberWithCommas(a),title:e.toLowerCase(),href:n,text:t||e,tab:e.toLowerCase()}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(5),l=n(1055),c=n(8);t.buildLink=s;var p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.renderIcon=function(){return this.props.faIcon&&e.createElement("i",{key:this.props.faIcon,className:"pageheader__page-message-icon fa "+this.props.faIcon})},n.prototype.render=function(){var t=null;if(this.props.message&&""!==this.props.message)t=e.createElement("span",{key:this.props.type,className:c("pageheader__pagemessagecontent","pageheader__pagemessagecontent--"+this.props.type,{"pageheader__pagemessagecontent--custom-icon":!!this.props.faIcon})},this.renderIcon(),e.createElement("span",null,this.props.message));else{if(!this.props.htmlMessage||""===this.props.htmlMessage)return null;t=e.createElement("span",{key:this.props.type,className:c("pageheader__pagemessagecontent","pageheader__pagemessagecontent--"+this.props.type,{"pageheader__pagemessagecontent--custom-icon":!!this.props.faIcon})},this.renderIcon(),e.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.htmlMessage}}))}return e.createElement("div",{className:c("pageheader__pagemessage","pageheader__pagemessage--"+this.props.type)},t)},n}(e.Component);t.PageMessageComponent=p;var u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"pageheader"},e.createElement("div",{className:c("pageheader__container",this.props.backgroundClass)},this.props.children))},n}(e.Component);t.PageHeader=u;var d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"pageheader__fork-section"},e.createElement("div",{className:"pageheader__forked-symbol"},"L"),e.createElement("span",null,"forked from",e.createElement("span",{className:"pageheader__subtitle-link"}," ",e.createElement("a",{href:this.props.forkParentUrl},this.props.forkParentTitle))," by ",e.createElement("span",{className:"pageheader__subtitle-link"},e.createElement("a",{href:this.props.forkParentAuthorUrl},this.props.forkParentAuthorDisplayName)," "),e.createElement("a",{href:this.props.forkDiffUrl,className:"pageheader__diff"},"(",e.createElement("span",{className:"pageheader__diff-inserted"},"+",this.props.forkDiffLinesInserted),"/",e.createElement("span",{className:"pageheader__diff-deleted"},"-",this.props.forkDiffLinesDeleted),"/",e.createElement("span",{className:"pageheader__diff-changed"},"~",this.props.forkDiffLinesChanged),") ")))},n}(e.Component);t.PageHeaderForkInfo=d;var m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){var t=e.createElement("a",{href:this.props.userUrl,className:"pageheader__author-name"},this.props.userName),n=null,a=null;this.props.versionLink&&(n=e.createElement("span",null," · ",this.props.versionLink),a=e.createElement("span",null,this.props.versionLink," · "));var i=null;return this.props.dateUpdated&&(i=e.createElement("time",{dateTime:this.props.dateUpdated.toString(),title:this.props.dateUpdated.toString()},"last ",this.props.runTimeVerb," ",e.createElement(r.TimeAgo,{time:this.props.dateUpdated}))),this.props.showUserName&&this.props.showDateUpdated&&this.props.dateUpdated?e.createElement("span",null,"by ",t,n," · ",i):this.props.showUserName?e.createElement("span",null,"by ",t,n):this.props.showDateUpdated&&this.props.dateUpdated?e.createElement("span",null,a,i):null},n}(e.Component);t.PageHeaderUserNameAndRunTime=m;var h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){var t=this.props.nodeId||null;return e.createElement("div",{className:"pageheader__top--safe",id:t},this.props.children)},n}(e.Component);t.PageHeaderTopRowSafe=h;var g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){var t,n;this.props.isEditingHeaderInfo?(t=this.props.title,n=this.props.subtitle):(t=this.props.titleUrl?e.createElement("a",{href:this.props.titleUrl,className:a("pageheader__title",this.props.modifier)},this.props.title):e.createElement("div",{className:a("pageheader__title",this.props.modifier),onClick:this.props.onTitleClick||null},this.props.title),n=e.createElement("a",{href:this.props.titleUrl,className:a("pageheader__subtitle",this.props.modifier)},e.createElement("p",null,this.props.subtitle),this.props.forkInfo?this.props.forkInfo:null));var i=this.props.nodeId||null;return e.createElement("div",{className:a("pageheader__top",this.props.modifier),id:i},e.createElement("a",{href:this.props.titleUrl,className:a("pageheader__top-overlay",this.props.modifier)}),this.props.coverImageUrl&&e.createElement("div",{className:a("pageheader__top-image",this.props.modifier)},e.createElement("a",{href:this.props.coverImageClickUrl,target:"_blank"},e.createElement("img",{src:this.props.coverImageUrl}))),t,this.props.editHeaderButton&&this.props.canEdit?this.props.editHeaderButton:null,n,this.props.children)},n}(e.Component);t.PageHeaderTopRow=g;var f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:i("pageheader__"+this.props.classNameElement,this.props.classNameModifier)},e.createElement("a",{href:this.props.targetUrl},e.createElement("img",{src:this.props.imageUrl})),this.props.thumbnailOverlay?this.props.thumbnailOverlay:null)},n}(e.Component);t.PageHeaderThumbnail=f;var v=function(t){function n(e){var n=t.call(this,e)||this;return n.state={lockOverflowDropdown:!1,showOverflowDropdown:!1},n}return o.__extends(n,t),n.prototype.handleNavClick=function(e,t){e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1==e.button||this.props.changeActiveTab&&(e.preventDefault(),this.props.changeActiveTab(t))},n.prototype.getLinkText=function(e){return e.text+(e.count?" ("+e.count+")":e.showZeroCountExplicitly?" (0)":"")},n.prototype.render=function(){var t=this;return e.createElement("nav",{className:a("pageheader__nav",this.props.classNameModifier)},e.createElement(r.MediaQuery,{minWidth:0,maxWidth:r.Breakpoints.tabletMax},e.createElement("div",{className:"pageheader__nav-wrapper"},this.props.menuLinks||this.props.overflowMenuLinks?(this.props.menuLinks?this.props.menuLinks:[]).concat(this.props.overflowMenuLinks).filter(function(e){return null!=e}).map(function(n,a){return e.createElement("a",{key:"pageheader__left-link--"+a,href:n.href||n.tab,title:n.title,className:c("pageheader__left-links","pageheader__left-links--with-onclick",(n.text||"").toUpperCase()===(t.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(e){return n.actionCallback?n.actionCallback(e):n.tab?t.handleNavClick(e,n.text):""},"data-link-text":t.getLinkText(n),id:"pageheader-nav-item--"+r.slugify(n.title)},t.getLinkText(n))}):null,e.createElement("div",{className:"pageheader__right-links-wrapper"},this.props.rightMenuLinks?this.props.rightMenuLinks.map(function(n,a){return e.createElement("a",{key:"pageheader__right-link--"+a,href:n.href,title:n.title,className:c("pageheader__right-links","pageheader__right-links--with-onclick",n.text.toUpperCase()==t.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",n.tab&&n.tab.toUpperCase()==t.props.activeTab.toUpperCase()?"pageheader__right-links--selected":""),onClick:n.actionCallback?function(e){return n.actionCallback(e)}:n.tab?function(e){return t.handleNavClick(e,n.tab)}:!n.href&&n.text?function(e){return t.handleNavClick(e,n.text)}:null,"data-link-text":t.getLinkText(n),id:"pageheader-nav-item--"+r.slugify(n.title)},n.text)}):null))),e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},e.createElement("div",{className:"pageheader__nav-wrapper"},this.props.menuLinks?this.props.menuLinks.filter(function(e){return null!=e}).map(function(n,a){return e.createElement("a",{key:"pageheader__left-link--"+a,href:n.href||n.tab,title:n.title,className:c("pageheader__left-links","pageheader__left-links--with-onclick",(n.text||"").toUpperCase()===(t.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(e){return n.actionCallback?n.actionCallback(e):n.tab?t.handleNavClick(e,n.text):""},"data-link-text":t.getLinkText(n),id:"pageheader-nav-item--"+r.slugify(n.title)},t.getLinkText(n))}):null,this.props.overflowMenuLinks&&this.props.overflowMenuLinks.length?e.createElement("div",{onMouseEnter:function(){t.state.lockOverflowDropdown||t.setState({showOverflowDropdown:!0})},onMouseLeave:function(){t.state.lockOverflowDropdown||t.setState({showOverflowDropdown:!1})}},e.createElement("a",{key:"pageheader__left-link--"+(this.props.menuLinks?this.props.menuLinks.length:0),title:"More",className:c("pageheader__left-links","pageheader__left-links--with-onclick","pageheader__more-link",this.state.lockOverflowDropdown?"pageheader__left-links--selected":""),"data-link-text":"More"},e.createElement("p",{className:"pageheader__more-link-wrapper"},"More"),this.state.showOverflowDropdown?e.createElement("div",{className:"pageheader__nav-overflow"},this.props.overflowMenuLinks.map(function(n,a){return e.createElement("span",{key:"pageheader__overflow-link--"+a,className:"pageheader__overflow-link-wrapper"},e.createElement("a",{href:n.href||n.tab,title:n.title,className:c("pageheader__left-links","pageheader__overflow-links",(n.text||"").toUpperCase()===(t.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(e){return n.actionCallback?n.actionCallback(e):n.tab?t.handleNavClick(e,n.tab):""},"data-link-text":t.getLinkText(n),id:"pageheader-nav-item--"+r.slugify(n.title)},t.getLinkText(n)))})):null)):null,e.createElement("div",{className:"pageheader__right-links-wrapper"},this.props.rightMenuLinks?this.props.rightMenuLinks.map(function(n,a){return e.createElement("a",{key:"pageheader__right-link--"+a,href:n.href,title:n.title,className:c("pageheader__right-links","pageheader__right-links--with-onclick",n.text.toUpperCase()==t.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",n.tab&&n.tab.toUpperCase()==t.props.activeTab.toUpperCase()?"pageheader__right-links--selected":""),onClick:n.actionCallback?function(e){return n.actionCallback(e)}:n.tab?function(e){return t.handleNavClick(e,n.tab)}:!n.href&&n.text?function(e){return t.handleNavClick(e,n.text)}:null,"data-link-text":t.getLinkText(n),id:"pageheader-nav-item--"+r.slugify(n.title)},n.text)}):null))))},n}(e.Component);t.PageHeaderNav=v;var _=function(t){function n(e){var n=t.call(this,e)||this;return n.onPageMessagesUpdated=function(e){n.setState({pageMessages:e})},n.state={pageMessages:[]},n}return o.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){JSON.stringify(this.props.pageMessages)!==JSON.stringify(e.pageMessages)&&(r.PageMessages.clear(),r.PageMessages.add(e.pageMessages))},n.prototype.componentDidMount=function(){r.PageMessages.addListener(this.onPageMessagesUpdated),r.PageMessages.add(this.props.pageMessages)},n.prototype.componentWillUnmount=function(){r.PageMessages.removeListener(this.onPageMessagesUpdated)},n.prototype.render=function(){return e.createElement(l.StickyScroll,{stickyClassName:"pageheader__sticky--stuck",scrollingClassName:"pageheader__sticky--scrolling",className:"pageheader__sticky"},e.createElement("div",{className:"pageheader__bottom"+(this.state.pageMessages&&this.state.pageMessages.length>0?"--with-pagemessages":"")},this.props.children),e.createElement("div",null,null!=this.state.pageMessages?this.state.pageMessages.map(function(t,n){return e.createElement(p,o.__assign({key:"pageheader__pagemessage--"+n},t))}):""),e.createElement("div",{className:"pageheader__transition"}))},n}(e.Component);t.PageHeaderBottomRow=_;var b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("a",{className:this.props.isActive?"pageheader__calltoaction--active":this.props.isMuted?"pageheader__calltoaction--muted":"pageheader__calltoaction",href:this.props.href?this.props.href:null,onClick:function(e){return t.props.onClick(e)},title:this.props.title},this.props.text)},n}(e.Component);t.PageHeaderCallToAction=b}).call(t,n(0))},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Unknown=0]="Unknown",e[e.Initializing=1]="Initializing",e[e.Requested=2]="Requested",e[e.Queued=3]="Queued",e[e.Starting=4]="Starting",e[e.Running=5]="Running",e[e.Error=6]="Error",e[e.Stopped=7]="Stopped",e[e.DownloadingData=8]="DownloadingData",e[e.LostHeartbeat=9]="LostHeartbeat",e[e.Reconnecting=10]="Reconnecting",e[e.RenderingHtml=11]="RenderingHtml",e[e.RestartingKernel=12]="RestartingKernel"}(t.KernelStatus||(t.KernelStatus={}))},function(e,t,n){"use strict";(function(e,a){function i(e){switch(e){case r.Html:return"text/html";case r.Markdown:default:return"text/markdown"}}function s(e){switch(e){case"":case"text/html":return r.Html;case"text/plain":case"text/markdown":case"text/x-markdown":return r.Markdown;default:return r.Html}}function o(e){return i(s(e))}Object.defineProperty(t,"__esModule",{value:!0});var r,l=n(1),c=n(8),p=n(284);!function(e){e[e.Html=0]="Html",e[e.Markdown=1]="Markdown"}(r=t.MarkdownConverterMimeTypes||(t.MarkdownConverterMimeTypes={})),t.mimeTypeToString=i,t.stringToMimeType=s,t.translateMimeType=o;var u=function(t){function n(e){var n=t.call(this,e)||this;return n.converter=new a.getSanitizingConverter,n}return l.__extends(n,t),n.prototype.createSanitizedMarkup=function(){var e=s(this.props.mimeType)==r.Html,t=this.props.content&&e?this.props.content:this.props.content?this.converter.makeHtml(this.props.content):"";return this.props.insertNofollow&&(t=t.replace(/(<a .*?href=".*?".*?)(>)/g,'$1 rel="nofollow"$2')),{__html:t}},n.prototype.componentDidMount=function(){p.Render(this.props.content,this.renderedDiv)},n.prototype.componentDidUpdate=function(){p.Render(this.props.content,this.renderedDiv)},n.prototype.render=function(){var t=this;return e.createElement("div",{className:c("markdown-converter__text--rendered",this.props.contentClassName),ref:function(e){t.renderedDiv=e},dangerouslySetInnerHTML:this.createSanitizedMarkup()})},n}(e.Component);t.MarkdownConverter=u}).call(t,n(0),n(78))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);t.Breakpoints={mobileMax:480,tabletMin:481,tabletMax:768,desktopMin:769,desktopMax:1024,desktopLargeMin:1025};var i=function(e){function t(t){var n=e.call(this,t)||this;return n.onResize=function(){n.setState({windowWidth:window.innerWidth})},n.state={windowWidth:window.innerWidth},n}return a.__extends(t,e),t.prototype.componentWillMount=function(){window.addEventListener("resize",this.onResize,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},t.prototype.componentDidMount=function(){this.onResize()},t.prototype.render=function(){var e,t=this.state.windowWidth;return e=this.props.maxWidth?t>=this.props.minWidth&&t<=this.props.maxWidth:t>=this.props.minWidth,e?this.props.children:null},t}(e.Component);t.MediaQuery=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=n(204),o=function(t){function n(e){var n=t.call(this,e)||this;return n.state={selectedValue:n.props.value},n}return a.__extends(n,t),n.prototype.change=function(e){var t=this,n=e.value;this.setState({selectedValue:n},function(){return t.props.onChange(n)})},n.prototype.render=function(){var t=this;return e.createElement(s,a.__assign({},this.props,{className:i("KaggleSelect",this.props.className),onChange:function(e){return t.change(e)},clearable:!!this.props.clearable&&this.props.clearable}))},n}(e.Component);t.SelectBox=o;var r=function(t){function n(e){var n=t.call(this,e)||this;return n.state={selectedValue:n.props.value},n}return a.__extends(n,t),n.prototype.change=function(e){var t=this,n=e.value;this.setState({selectedValue:n},function(){return t.props.onChange(n)})},n.prototype.render=function(){var t=this;return e.createElement(s.Async,a.__assign({},this.props,{className:i("KaggleSelect",this.props.className),onChange:function(e){return t.change(e)},clearable:!!this.props.clearable&&this.props.clearable}))},n}(e.Component);t.SelectBoxAsync=r}).call(t,n(0))},,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(83),s=37,o=function(t){function n(e){var n=t.call(this,e)||this;return n.width=e.width||s,n.borderRadius=n.width/10,n.margin=e.tierMargin?e.tierMargin:n.width/20,n}return a.__extends(n,t),n.prototype.renderAvatar=function(){return e.createElement("a",{className:"avatar",href:this.props.userUrl,style:{width:this.width}},e.createElement("img",{className:"avatar__thumbnail",src:this.props.thumbnailUrl,alt:this.props.displayName,width:this.width,height:this.width,style:{borderRadius:this.borderRadius}}),this.props.tier?e.createElement("img",{className:"avatar__tier",src:"/static/images/avatier/avatier-"+this.props.tier+"@2x.png",style:{marginTop:this.margin},width:this.width}):null)},n.prototype.render=function(){return this.props.hideTooltop?this.renderAvatar():e.createElement(i.ToolTip,{className:this.props.className,tipText:this.props.displayName},this.renderAvatar())},n}(e.Component);t.Avatar=o}).call(t,n(0))},,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AboutHeader=function(t){var n=t.heading,a=t.subheading,i=t.background;return e.createElement("div",{className:"about-page__header"},e.createElement("div",{className:"about-page__header-inside",style:{backgroundImage:"url("+i+")"}},e.createElement("h1",{className:"about-page__heading",style:{maxWidth:"24rem"},dangerouslySetInnerHTML:{__html:n}}),e.createElement("h2",{className:"about-page__subheading",style:{maxWidth:"26rem"}},a)))}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=function(t){function n(e){return t.call(this,e)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("a",{id:this.props.id,href:this.props.href,className:i("button__anchor-wrapper",this.props.containerClassNames?this.props.containerClassNames:null,this.props.isSmall?"button__anchor-wrapper--small":null),onClick:this.props.isDisabled||!this.props.onClick?null:function(e){return t.props.onClick(e)},target:this.props.target},e.createElement("div",{className:i("button",this.props.toggleable?"button--toggleable":null,this.props.isSmall?"button--small":null,this.props.toggleable&&!this.props.toggled?"button--inactive":null,this.props.isDisabled?"button--disabled":null,this.props.classNames?this.props.classNames:null)},e.createElement("span",null,this.props.text)))},n}(e.Component);t.Button=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.numberWithCommas=a;var s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){return e.createElement("span",null,a(this.props.number))},n}(e.Component);t.FormatNumber=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("span",{className:i("tooltip",{"tooltip--left":this.props.alignLeft},this.props.className),"data-tooltip":this.props.tipText,"data-tooltip-size":this.props.size},this.props.children)},n}(e.Component);t.ToolTip=s}).call(t,n(0))},,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(e){var n=t.call(this,e)||this;return n.handleKeyPress=function(e){if(n.props.rejectedCharacterRegExp){String.fromCharCode(e.which).match(n.props.rejectedCharacterRegExp)&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())}},n.handleKeyDown=function(e){return"Enter"==e.key&&n.props.isToggleable?void n.handleSave():"Escape"==e.key&&n.props.isToggleable?void n.handleCancel():void 0},n.handleSave=function(){n.setState({isEditing:!1}),n.props.onSaveCallback&&n.props.onSaveCallback(n.state.content)},n.handleCancel=function(){n.setState({isEditing:!1})},n.handleEdit=function(){n.setState({isEditing:!0},function(){n.inputBox.focus()})},n.state={content:n.props.value||"",isEditing:!n.props.isToggleable},n}return a.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){this.setState({content:e.value||""})},n.prototype.handleChange=function(e){var t=this;this.setState({content:e.target.value},function(){t.props.onChangeCallback&&t.props.onChangeCallback(t.state.content)})},n.prototype.renderInput=function(){var t=this;return e.createElement("input",{ref:function(e){t.inputBox=e},className:"inline-text-editor__input "+this.props.className,value:this.state.content,placeholder:this.props.placeholder,onChange:function(e){return t.handleChange(e)},onFocus:this.props.onGainFocusCallback,onBlur:this.props.onLoseFocusCallback,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,id:this.props.id})},n.prototype.renderReadOnly=function(){return e.createElement("div",{className:(this.state.content?"":"inline-text-editor__placeholder")+" "+(this.props.readOnlyClassName||"")+" inline-text-editor__readonly",onClick:this.handleEdit},this.state.content||this.props.placeholder)},n.prototype.render=function(){return this.props.isToggleable?e.createElement("div",{className:"inline-text-editor__toggle-container"},this.state.isEditing?this.renderInput():this.renderReadOnly(),this.state.isEditing?e.createElement("span",{className:"fa fa-floppy-o inline-text-editor__button",onClick:this.handleSave}):e.createElement("span",{className:"fa fa-pencil inline-text-editor__button",onClick:this.handleEdit})):this.renderInput()},n}(e.Component);t.InlineTextEditor=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(8),o=n(393),r=n(78);n(601);var l=function(t){function n(e){var n=t.call(this,e)||this;return n.handleButtonClick=function(){var e=n;setTimeout(function(){var t=a(".wmd-prompt-dialog input:button[value='OK']");t.length?t.on("click",function(){return e.handleChange(e.textArea.value)}):e.handleChange(e.textArea.value)},10)},n.handleKeyDown=function(e){38===e.keyCode&&n.props.onMoveUp?n.handleUpArrow(e):40===e.keyCode&&n.props.onMoveDown?n.handleDownArrow(e):n.props.onKeyPress&&n.props.onKeyPress(e)},n.state={content:n.props.defaultValue?n.props.defaultValue:"",hasFocus:n.props.hasFocus},n.textAreaId="wmd-input"+(n.props.suffix||""),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){this.props.shouldSanitizeHtml?this.converter=new r.Converter:this.converter=r.getSanitizingConverter(),this.editor=new r.Editor(this.converter,this.props.suffix?this.props.suffix:void 0,{strings:{imagedialog:'<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg "optional title"'}}),this.editor.run(),this.props.hasFocus&&a(this.textArea).focus()},n.prototype.componentWillUnmount=function(){},n.prototype.componentWillReceiveProps=function(e){var t=this;void 0!==e.defaultValue&&e.defaultValue!=this.props.defaultValue&&(this.textArea.value=e.defaultValue,this.editor.refreshPreview()),e.hasFocus&&!this.props.hasFocus&&window.setTimeout(function(){a(t.textArea).focus()})},n.prototype.createHtml=function(){return{__html:this.converter.makeHtml(this.state.content)}},n.prototype.updateTextState=function(e){this.state.content!==e&&this.props.onChangeCallback(e)},n.prototype.handleChange=function(e){var t=this;this.props.onChangeImmediate&&this.props.onChangeImmediate(e),this.setState(a.extend({},this.state,{content:e}),function(){t.props.onChangeCallback(t.state.content)})},n.prototype.setFocus=function(e){this.setState(a.extend({},this.state,{hasFocus:e}))},n.prototype.renderPreview=function(){return this.props.showPreview?this.props.renderPreview?this.props.renderPreview(this.state.content,this.converter.makeHtml(this.state.content)):e.createElement("div",{id:"wmd-preview"+(this.props.suffix||""),className:"wmd-panel wmd-preview post-text-styling"}):null},n.prototype.clearContents=function(){this.textArea&&(this.textArea.value="")},n.prototype.handleUpArrow=function(e){1===this.textArea.value.substr(0,this.textArea.selectionStart).split("\n").length&&(e.preventDefault(),this.props.onMoveUp())},n.prototype.handleDownArrow=function(e){this.textArea.value.substr(0,this.textArea.selectionStart).split("\n").length===this.textArea.value.split("\n").length&&(e.preventDefault(),this.props.onMoveDown())},n.prototype.render=function(){var t=this;return e.createElement("div",{className:s("markdown-editor",this.props.collapsedMode&&"markdown-editor__collapsed",this.props.compact?"markdown-editor__compact":null)},e.createElement("div",{tabIndex:0,className:"wmd-panel",onFocus:function(){t.setFocus(!0)},onBlur:function(){t.setFocus(!1)}},e.createElement("div",{id:"wmd-button-bar"+(this.props.suffix||""),className:!this.state.hasFocus&&!this.props.alwaysShowToolbar||this.props.hideToolbar||this.props.collapsedMode||this.props.showPreview?"wmd-button-bar--disabled":null,onClick:this.handleButtonClick}),this.props.collapsedMode||e.createElement("a",{href:"http://commonmark.org/help/",target:"__blank",className:s("markdown-editor__help",!this.state.hasFocus&&!this.props.alwaysShowToolbar||this.props.showPreview?"markdown-editor__help--disabled":null,{"markdown-editor__help--left":this.props.hideToolbar})},!this.props.compact&&e.createElement("img",{src:"/static/images/markdown.png"}),!this.props.compact&&" Styling with Markdown supported"),e.createElement(o.default,{ref:function(e){t.textArea=e},defaultValue:this.state.content,onChange:function(e){return t.handleChange(e.currentTarget.value)},name:"rawMarkdown",className:s("wmd-input",this.props.editorClassName,this.props.showPreview?"wmd-input--disabled":null),id:this.textAreaId,minRows:this.props.collapsedMode?1:this.props.minRows,maxRows:this.props.collapsedMode?1:this.props.maxRows,rows:this.props.rows,placeholder:this.props.placeholder,onFocus:this.props.onInputFocus&&this.props.onInputFocus,onKeyDown:this.props.onMoveDown||this.props.onMoveUp?this.handleKeyDown:null,onBlur:this.props.onBlur})),this.renderPreview())},n}(e.Component);t.MarkdownEditor=l}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.callToAction=function(){var t=this;return this.props.emptyListCreateNewUrl||this.props.emptyListCreateNewAction?e.createElement("a",{href:this.props.emptyListCreateNewUrl||"javascript:void(0)",onClick:function(){return t.props.emptyListCreateNewAction()}},this.props.emptyListCreateNewText):null},n.prototype.render=function(){var t=this;return this.props.listItems&&this.props.listItems.length?e.createElement("div",{className:i("teaser-list","teaser-list--"+(this.props.minItemHeight||3)+"-item-height")},this.props.listItems.map(function(e,n){return t.props.listItemRenderer(e,n)})):e.createElement("div",{className:i("teaser-list","teaser-list--"+(this.props.minItemHeight||1)+"-item-height")},e.createElement("div",{className:"teaser-list__empty-list"},e.createElement("span",{className:"teaser-list__empty-list-message"},this.props.emptyListMessage),this.callToAction()))},n}(e.Component);t.TeaserList=s}).call(t,n(0))},,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("a",{onClick:this.props.onClick,href:this.props.href,className:this.props.className||(this.props.primary?"button-round-edged button-round-edged--primary":"button-round-edged")},this.props.icon&&e.createElement("i",{className:"button-round-edged__icon "+this.props.icon}),this.props.text)},n}(e.Component);t.ButtonRoundEdged=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(8),o=function(t){function n(e){var n=t.call(this,e)||this;return n.handleClick=function(e){n.props.isGreedy&&e.stopPropagation();var t=!n.state.isChecked;n.setState({isChecked:t}),n.props.onChange(t)},n.state={isChecked:!!n.props.isChecked},n}return i.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){this.setState(a.extend({},{isChecked:e.isChecked}))},n.prototype.render=function(){var t=this;return e.createElement("div",{className:s("checkbox",this.props.isEditable&&this.props.textIsClickable?"checkbox--clickable":"")},e.createElement("span",{className:s("checkbox__box",this.props.isEditable&&!this.props.textIsClickable?"checkbox__box--clickable":"",this.props.isEditable?"":"checkbox__box--static",this.state.isChecked?"checkbox__box--checked":"checkbox__box--unchecked"),onClick:this.props.isEditable?this.handleClick:null}),e.createElement("span",{className:"checkbox__label",onClick:this.props.isEditable&&this.props.textIsClickable?this.handleClick:null},this.props.text),this.props.formInputName?e.createElement("input",{ref:function(e){return t.formInput=e},type:"hidden",name:this.props.formInputName,value:this.state.isChecked.toString()}):null)},n}(e.Component);t.Checkbox=o}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(110),s=function(t){function n(e){var n=t.call(this,e)||this;return n.onCancel=function(){n.props.cancelCallback(n.props.sectionName,n.props.cancelPropName)},n.onToggle=function(){n.props.toggleCallback(n.props.sectionName)},n.state={isEditing:e.isEditing},n}return a.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){this.setState({isEditing:e.isEditing})},n.prototype.render=function(){var t=e.createElement(i.ButtonRoundEdged,{onClick:this.onToggle,className:this.props.className||"edit-state-toggle-button",text:this.state.isEditing?this.props.saveButtonText||"Save":this.props.editButtonText||"Edit"});return this.state.isEditing&&this.props.cancelCallback&&this.props.cancelPropName?e.createElement("div",{className:"edit-state-toggle-button__multiple-button-container"},e.createElement("a",{onClick:this.onCancel,className:"edit-state-toggle-button--cancel"},"cancel"),t):t},n}(e.Component);t.EditStateToggleButton=s;var o=function(t){function n(e){var n=t.call(this,e)||this;return n.state={isEditing:e.isEditing||!1},n}return a.__extends(n,t),n.prototype.onButtonClick=function(){this.setState({isEditing:!this.state.isEditing})},n.prototype.render=function(){var t=this.onButtonClick.bind(this);return e.createElement(s,{isEditing:!1,sectionName:"isEditing",toggleCallback:function(){return t()}})},n}(e.Component);t.EditStateToggleButtonExample=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){function i(e){switch("."==e.substring(0,1)?e.substring(1):e){case"csv":return"fa fa-table";case"sqlite":return"fa fa-database";case"sqlitetable":return"fa fa-table";case"png":case"jpg":case"gif":return"fa fa-picture-o";case"txt":case"json":return"fa fa-file-text-o";case"zip":case"7z":case"gz":case"tar":return"fa fa-file-zip-o";default:return"fa fa-file-o"}}function s(e){switch("."==e.substring(0,1)?e.substring(1):e){case"csv":return 0;case"json":return 1;case"sqlite":return 2;case"sqlitetable":return 3;case"txt":return 4;case"png":case"jpg":case"gif":return 5;case"zip":case"7z":case"gz":case"tar":return 10;default:return 6}}Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),l=n(5),c=n(45),p=n(128),u=n(393),d=n(1766);!function(e){e[e.Image=0]="Image",e[e.Csv=1]="Csv",e[e.File=2]="File",e[e.Text=3]="Text",e[e.Archive=4]="Archive",e[e.Json=5]="Json",e[e.Sqlite=6]="Sqlite"}(o=t.FilePreviewDisplayType||(t.FilePreviewDisplayType={}));var m=function(t){function n(n){var a=t.call(this,n)||this;return a.getDefaultExpandedDataSources=function(){return a.props.initialExpandedDataSourcesState?a.props.initialExpandedDataSourcesState.expandedDataSources:a.hasAtLeastOneDataSource()?a.props.dataSources.map(function(e){return!0}):[!0]},a.getDefaultActiveDataSource=function(){return a.props.initialExpandedDataSourcesState?a.props.initialExpandedDataSourcesState.activeDataSource:a.hasAtLeastOneDataSource()?a.props.dataSources[0]:null},a.getDefaultIsShowingDatasource=function(){return a.props.initialExpandedDataSourcesState?a.props.initialExpandedDataSourcesState.isShowingDataSourcePreview:l.Current.hasMultipleDataSources&&null!=a.props.dataSources},a.setActiveFile=function(e){var t=a.props.dataSources&&c.find(a.props.dataSources,function(t){return c.includes(t.files,e)});a.setState({activeFile:e,activeDataSource:t,isShowingDataSourcePreview:!1}),a.updatePassedUpState({activeFile:e,activeDataSource:t,isShowingDataSourcePreview:!1})},a.hasAtLeastOneDataSource=function(){var e=a.props.dataSources;return e&&e.length>=1},a.handleFileContentUpdated=function(e){var t=null==a.state.fileContentCache?[]:a.state.fileContentCache.filter(function(t){return t.fileName!=e.fileName});t.push(e),a.setState({fileContentCache:t})},a.truncateText=function(e){return e.length>20?e.substring(0,20)+"…":e},a.setDataSourceVisibility=function(e,t){var n=a.props.dataSources.findIndex(function(t){return t.sourceId===e.sourceId&&t.sourceType===e.sourceType});e=a.props.dataSources[n];var i=a.state.expandedDataSources,s=void 0!==t?t:!i[n];i[n]=s;var o=s&&!(e.files&&e.files.some(function(e){return e.fileName===a.state.activeFile})),r=(o?a.getDefaultFile(n):a.state.activeFile,s?e:a.state.activeDataSource);a.setState({expandedDataSources:i,activeFile:null,activeDataSource:r,isShowingDataSourcePreview:!0}),a.updatePassedUpState({expandedDataSources:i,activeFile:null,activeDataSource:r,isShowingDataSourcePreview:!0})},a.toggleDataSourceVisibility=function(e){var t=a.props.dataSources.findIndex(function(t){return t.sourceId===e.sourceId&&t.sourceType===e.sourceType}),n=a.state.expandedDataSources;n[t]=!n[t],a.setState({expandedDataSources:n}),a.updatePassedUpState({expandedDataSources:n})},a.setDataSourcePreview=function(e){var t=a.props.dataSources.findIndex(function(t){return t.sourceId===e.sourceId&&t.sourceType===e.sourceType}),n=e,i=a.state.expandedDataSources;i[t]=!0,a.setState({activeFile:null,activeDataSource:n,expandedDataSources:i,isShowingDataSourcePreview:!0}),a.updatePassedUpState({activeFile:null,activeDataSource:n,expandedDataSources:i,isShowingDataSourcePreview:!0})},a.checkPathChange=function(e){if(a.mounted){var t=a.props.dataSources.length;2===t&&1===e&&l.PageMessages.info('Data file paths changed to "../input/dataset-slug/"',{clear:!0}),1===t&&-1===e&&l.PageMessages.info('Data file paths changed to "../input/"',{clear:!0})}},a.onAddDataSourceClicked=function(){a.setState({showAddDataSource:!0})},a.onAddDataSourceClosed=function(){a.setState({showAddDataSource:!1})},a.onDataSourceAdded=function(e){var t=a.props,n=t.onDataSourceAdded;t.dataSources;return n&&n(e).then(function(){a.setDataSourceVisibility(e,!0),a.checkPathChange(1),a.setState({showAddDataSource:!1})})},a.onDataSourceRemoved=function(e,t){a.props.onDataSourceRemoved&&a.props.onDataSourceRemoved(t).then(function(){var e=a.props.dataSources;e.length>0&&a.setDataSourceVisibility(e[0],!0),a.checkPathChange(-1)}),e.stopPropagation()},a.renderDataSource=function(t,n){var i=(t.files.map(function(e){return e.contentLengthInBytes}).reduce(function(e,t){return e+t},0),a.state.expandedDataSources[n]),s=a.state.isShowingDataSourcePreview&&a.state.activeDataSource.slug===t.slug;return e.createElement("div",{key:n},e.createElement("div",{className:"file-preview-list__list-data-source-header "+(s?"file-preview-list__list-data-source-header--selected":"")},e.createElement("i",{className:"file-preview-list__list-data-source-caret fa fa-caret-"+(i?"down":"right"),onClick:function(){return a.toggleDataSourceVisibility(t)}}),e.createElement("div",{className:"file-preview-list__list-data-source-data",onClick:function(){a.setDataSourcePreview(t)}},e.createElement("div",{className:"file-preview-list__list-data-source-name",title:t.name},a.truncateText(t.name)))),i&&e.createElement("div",{className:"file-preview-list__list-data-source-files"},t.files.map(a.renderDataSourceFile)))},a.renderDataSourceFile=function(t,n){return e.createElement("div",{key:n,className:"file-preview-list__list-item"+(t.fileName===(a.state.activeFile&&a.state.activeFile.fileName)?" file-preview-list__list-item--active":"")+(".sqlitetable"==t.fileType?" file-preview-list__list-item--indented":""),onClick:function(){return a.setActiveFile(t)}},e.createElement("div",{className:"file-preview-list__icon"},e.createElement("span",{className:i(t.fileType)})),e.createElement("div",{className:"file-preview-list__filename",title:t.fileName},a.truncateText(t.fileName),t.validationError?e.createElement("span",{className:"file-preview-list__validation-error"},e.createElement("span",{title:t.validationError,className:"fa fa-warning"})):null))},a.getFiles=function(){return a.state.hasMultipleDataSources?c.flatten(c.pluck(a.props.dataSources,"files")):a.props.files},a.handleMetadataChange=function(e,t,n){var i=(a.state.fileContentCache||[]).filter(function(t){return t.fileName===e})[0];if(!i)return void l.Current.warn("Ignoring metadata update; cache invalid");i.columns[t]=n;var s=(a.state.fileContentCache||[]).filter(function(t){return t.fileName!==e});s.push(i),a.setState({fileContentCache:s}),a.props.onMetadataChange(e,t,n)},a.handleSaveFileDescription=function(){a.setState({activeFile:a.props.files.filter(function(e){return e.fileName==a.state.activeFile.fileName})[0]})},a.state={hasMultipleDataSources:l.Current.hasMultipleDataSources,activeFile:a.getDefaultFile(),expandedDataSources:a.getDefaultExpandedDataSources(),activeDataSource:a.getDefaultActiveDataSource(),isShowingDataSourcePreview:a.getDefaultIsShowingDatasource(),showAddDataSource:!1},a}return r.__extends(n,t),n.prototype.componentDidReceiveProps=function(e){!this.state.activeFile&&this.props.files&&this.props.files.length>0&&this.setState({activeFile:this.props.files[0]})},n.prototype.updatePassedUpState=function(e){if(this.props.passUpExpandedDataSourcesState){var t=Object.assign(this.state,e);this.props.passUpExpandedDataSourcesState(t)}},n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.getDefaultFile=function(e){if(void 0===e&&(e=0),this.props.initialExpandedDataSourcesState)return this.props.initialExpandedDataSourcesState.activeFile;if(l.Current.hasMultipleDataSources&&this.props.dataSources)return null;var t=this.props,n=t.dataSources,a=t.files;return n&&n.length>0&&n[e].files.length>0?n[e].files[0]:a&&a.length>0&&a[0]},n.prototype.render=function(){var t=this,n=this.props,a=n.files,o=n.scriptVersionId,c=n.dataSources;if(!(a||c&&0!==c.length))return null;var p=a?a.slice():[];p.sort(function(e,t){var n=e.fileName.split("."),a=t.fileName.split("."),i=n[n.length-1],o=a[a.length-1],r=s(e.fileType||i),l=s(t.fileType||o);return r<l?-1:l<r?1:e.fileName.toLowerCase()<t.fileName.toLowerCase()?-1:e.fileName.toLowerCase()>t.fileName.toLowerCase()?1:0});var u=l.Current.hasMultipleDataSources&&c?e.createElement("div",{className:"file-preview-list__list file-preview-list__list--data-sources"},c.map(this.renderDataSource),!this.props.disableEditing&&e.createElement(l.ButtonAutoWidth,{text:"Add a Data Source",classNames:"file-preview-list__list-add-button",onClick:this.onAddDataSourceClicked})):e.createElement("div",{className:"file-preview-list__list"},p.map(function(n){return e.createElement("div",{className:"file-preview-list__list-item"+(n.fileName===(t.state.activeFile&&t.state.activeFile.fileName)?" file-preview-list__list-item--active":"")+(".sqlitetable"==n.fileType?" file-preview-list__list-item--indented":""),onClick:function(){t.setActiveFile(n)},key:"file-list-"+n.fileName+(".sqlitetable"==n.fileType?"-table":"")},e.createElement("div",{className:"file-preview-list__icon"},e.createElement("span",{className:i(n.fileType)})),e.createElement("div",{className:"file-preview-list__filename",title:n.fileName},n.fileName.length>20?n.fileName.substring(0,20)+"…":n.fileName,n.validationError?e.createElement("span",{className:"file-preview-list__validation-error"},e.createElement("span",{title:n.validationError,className:"fa fa-warning"})):null))}),this.props.onAddNewDatasetVersion&&this.props.canEdit?e.createElement("button",{className:"button-auto-width file-preview-list__list-add-button",onClick:function(){return t.props.onAddNewDatasetVersion("NewVersion")}},"New Dataset Version"):null),d=null!=this.state.fileContentCache&&this.state.activeFile?this.state.fileContentCache.filter(function(e){return e.fileName==t.state.activeFile.fileName})[0]:null;return e.createElement("div",{className:"file-preview-list__section"},u,this.state.isShowingDataSourcePreview?e.createElement(g,{activeDataSource:this.state.activeDataSource,disableEditing:this.props.disableEditing,onDataSourceRemoved:this.onDataSourceRemoved}):e.createElement(h,r.__assign({key:"file-"+(this.state.activeFile&&this.state.activeFile.fileName),submitToCompUrl:this.props.submitToCompUrl,showSubmitToCompButton:this.props.showSubmitToCompButtons,scriptVersionId:o,competitionName:this.props.competitionName,onFileContentUpdated:this.handleFileContentUpdated,csvPreviewContents:null==d?null:d.csvPreviewContents,textPreviewContents:null==d?null:d.textPreviewContents,exceededMaxSize:null==d?null:d.exceededMaxSize,userCanEditMetadata:this.props.userCanEditMetadata,onMetadataChange:function(e,n){return t.state.activeFile&&t.handleMetadataChange(t.state.activeFile.fileName,e,n)},columnMetadata:null==d?null:d.columns,onStartEditingMetadata:this.props.onStartEditingMetadata,dataSource:this.state.activeDataSource,onInnerSaveFileDescription:this.handleSaveFileDescription},this.state.activeFile)),e.createElement(l.AddDataSourceModal,{isShown:this.state.showAddDataSource,onClose:this.onAddDataSourceClosed,onDataSourceAdded:this.onDataSourceAdded,referrer:"FilePreviewList"}))},n}(e.Component);t.FilePreviewList=m;var h=function(t){function n(e){var n=t.call(this,e)||this;return n.shouldFetchPreview=function(){return n.displayType!==o.Archive&&n.displayType!==o.Image},n.parsePreviewData=function(e){return e.error?void n.setState({previewRequestInFlight:!1,previewFetchErrorText:e.error||"Invalid CSV data"}):e.noPreviewAvailable?void n.setState({previewRequestInFlight:!1,noPreviewAvailable:!0}):(n.props.onFileContentUpdated&&n.props.onFileContentUpdated({fileName:n.props.fileName,csvPreviewContents:e.csvData,textPreviewContents:e.textData,exceededMaxSize:e.exceededMaxSize,columns:e.columns}),void n.setState({previewRequestInFlight:!1,csvPreviewContents:e.csvData,textPreviewContents:e.textData,previewFetchErrorText:null,dataIsTruncated:!!e.exceededMaxSize,isShowingMore:n.props.alwaysShowMore,columnMetadata:e.columns,isShowingColumnDescriptionList:!1,editingColumnIndex:null}))},n.fetchLastVersionMetadata=function(){a.ajax({url:n.props.lastVersionMetadataUrl,dataType:"json",success:function(e){n.populateNewFileColumnDataFromLastVersion(e.columns)},error:function(e,t,n){l.Current.warn("Could not populate new file column descriptions"),l.Current.log(t+": "+n)}})},n.populateNewFileColumnDataFromLastVersion=function(e){for(var t=0;t<Math.min(n.state.csvPreviewContents[0].length,(e||[]).length)&&n.state.csvPreviewContents[0][t]===e[t].name;t++)n.props.onMetadataChange(t,e[t])},n.handleToggleShowColumnDescriptions=function(e){e.preventDefault(),n.setState({isShowingColumnDescriptionList:!n.state.isShowingColumnDescriptionList})},n.handleEditFileDescription=function(){if(n.props.onStartEditingMetadata)return void n.props.onStartEditingMetadata();n.setState({isEditingDescription:!0})},n.handleSaveFileDescription=function(){n.props.onInnerSaveFileDescription(),n.setState({isEditingDescription:!1})},[".png",".jpg",".jpeg",".gif"].indexOf(n.props.fileType)>-1?n.displayType=o.Image:".csv"===n.props.fileType?n.displayType=o.Csv:".json"===n.props.fileType?n.displayType=o.Json:[".zip",".gz",".7z",".tar"].indexOf(n.props.fileType)>-1?n.displayType=o.Archive:".sqlite"===n.props.fileType?n.displayType=o.Sqlite:n.displayType=o.File,n.state={previewRequestInFlight:n.shouldFetchPreview(),csvPreviewContents:n.props.csvPreviewContents||[[]],textPreviewContents:n.props.textPreviewContents||"",previewFetchErrorText:"",dataIsTruncated:null,isShowingMore:!1,noPreviewAvailable:!1,columnMetadata:n.props.columnMetadata||[]},n}return r.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;if(this.shouldFetchPreview())return this.props.csvPreviewContents||this.props.textPreviewContents?void this.parsePreviewData({csvData:this.props.csvPreviewContents,textData:this.props.textPreviewContents,exceededMaxSize:this.props.exceededMaxSize,columns:this.props.columnMetadata}):void a.ajax({url:this.props.filePreviewUrl,success:function(t){e.parsePreviewData(t),e.props.lastVersionMetadataUrl&&e.fetchLastVersionMetadata()},error:function(t,n,a){e.setState({previewRequestInFlight:!1,previewFetchErrorText:n+" "+a})}})},n.prototype.render=function(){return e.createElement(v,r.__assign({imagePreviewUrl:this.displayType===o.Image?this.props.fileUrl:null,onToggleShowColumnDescriptionList:this.handleToggleShowColumnDescriptions,onEditFileDescription:this.handleEditFileDescription,displayType:this.displayType},this.props,this.state,{onInnerSaveFileDescription:this.handleSaveFileDescription}))},n}(e.Component);t.FilePreviewContainer=h;var g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.render=function(){return e.createElement(f,r.__assign({},this.props))},n}(e.Component);t.DatasourcePreviewContainer=g;var f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.activeDataSource;return e.createElement("div",{className:"datasource-preview"},e.createElement("div",{className:"datasource-preview__head"},e.createElement("div",{className:"datasource-preview__head-image"},e.createElement("a",{href:n.sourceUrl,target:"_blank"},e.createElement("img",{src:n.imageUrl}))),e.createElement("div",{className:"datasource-preview__head-meta"},e.createElement("div",{className:"datasource-preview__head-title"},e.createElement("a",{href:n.sourceUrl,target:"_blank"},n.name)),e.createElement("div",{className:"datasource-preview__head-tagline"},n.overview),e.createElement("div",{className:"datasource-preview__head-updated"},"Last updated ",e.createElement(l.TimeAgo,{time:n.lastUpdated}))),e.createElement("div",{className:"datasource-preview__head-actions"},n.sourceId&&!this.props.disableEditing&&e.createElement("button",{className:"datasource-preview__remove-button",onClick:function(e){return t.props.onDataSourceRemoved(e,n)}},e.createElement("i",{className:"fa fa-trash-o"}),"Remove ",e.createElement("span",{style:{textTransform:"capitalize"}},n.sourceType)))),e.createElement("div",{className:"datasource-preview__about"},e.createElement("div",{className:"datasource-preview__subhead"},"About this ",e.createElement("span",{style:{textTransform:"capitalize"}},n.sourceType)),e.createElement("div",{className:"datasource-preview__about-content"},e.createElement(l.MarkdownConverter,{content:n.description,mimeType:n.descriptionMimeType,insertNofollow:!0}))))},n}(e.Component),v=function(t){function n(n){var a=t.call(this,n)||this;return a.renderFetchMessage=function(){return a.props.previewRequestInFlight?e.createElement("div",{className:"file-preview__contents-loading-message"},"Loading..."):a.props.previewFetchErrorText?e.createElement("div",{className:"file-preview__error-message"},a.props.previewFetchErrorText):a.props.noPreviewAvailable?e.createElement("div",{className:"file-preview__no-preview-message"},"No preview available for this format"):null},a.renderOptionalImagePreview=function(){return a.props.imagePreviewUrl?e.createElement("img",{src:a.props.imagePreviewUrl}):null},a.renderOptionalTextPreview=function(){return a.props.textPreviewContents&&a.props.displayType!=o.Json?e.createElement("div",{className:"file-preview__text-preview-container"},a.props.textPreviewContents):null},a.isCsvFile=function(){return!(!a.props.csvPreviewContents||0===a.props.csvPreviewContents.length||0===a.props.csvPreviewContents[0].length)},a.canShowColumnDescriptionList=function(){return!!(a.props.columnMetadata&&a.props.columnMetadata.some(function(e){return!!e.description})||a.props.userCanEditMetadata)},a.renderOptionalColumnDescriptionList=function(){if(!a.isCsvFile())return null;var t=a.props.columnMetadata&&a.props.columnMetadata.some(function(e){return!!e.description});if(!a.canShowColumnDescriptionList())return null;a.props.isShowingColumnDescriptionList||t||!a.props.userCanEditMetadata?a.props.isShowingColumnDescriptionList?"Hide":"Show":"Edit";var n=a.getColumnMetadata();return a.props.isShowingColumnDescriptionList?e.createElement("div",{className:"file-preview__descriptions"},n.map(function(t,n){return e.createElement(_,{key:a.props.reactKey+"col-metadata-"+n,initialMetadata:t,canEdit:a.props.userCanEditMetadata,onStartEditing:a.props.onStartEditingMetadata,onMetadataChange:function(e){return a.props.onMetadataChange(n,e)}})})):null},a.getColumnMetadata=function(){var e=a.props.columnMetadata||[];return a.props.csvPreviewContents[0].map(function(e,t){return{name:e,description:"",harmonizedDataType:a.guessCsvDataType(t)}}).map(function(t,n){return e[n]?e[n]:t})},a.guessCsvDataType=function(e){var t=Math.min(10,a.props.csvPreviewContents.length),n=a.props.csvPreviewContents.slice(1,t).map(function(t){return t[e]});return n.some(function(e){return"true"===e||"false"===e})?"Boolean":n.some(function(e){return!isNaN(new Date(e).getTime())})?"DateTime":n.some(function(e){return!isNaN(+e)})?"Numeric":"String"},a.handleCsvPreviewScroll=function(e){var t=e.nativeEvent.target.scrollTop;a.csvHeader.style.transform="translateY("+t+"px)",a.csvHeader.style.boxShadow=t>0?"0 1px 3px rgba(0,0,0,0.15)":"none"},a.renderCsvHeaderCell=function(t,n,i){var s=!1,o=null,r="none";if(i&&i.length>n){var c=i[n];r=c.harmonizedDataType?c.harmonizedDataType.toLowerCase():"none";var p=null;c.description?(p=e.createElement("div",{className:"file-preview__csv-preview-info-tooltip"},e.createElement("div",{className:"file-preview__csv-preview-info-tooltip-header"},c.harmonizedDataType),e.createElement(l.MarkdownConverter,{contentClassName:"file-preview__csv-preview-info-tooltip-description",content:c.description,mimeType:"text/markdown",insertNofollow:!0})),e.createElement("span",{className:"file-preview__csv-preview-info-icon fa fa-info-circle"}),s=!0):(p=e.createElement("div",{className:"file-preview__csv-preview-info-tooltip"},e.createElement("div",{className:"file-preview__csv-preview-info-tooltip-header"},e.createElement("div",null,c.harmonizedDataType)),a.props.userCanEditMetadata&&e.createElement("div",{className:"file-preview__csv-preview-info-tooltip-instruction"},"Click to add a description of this column.")),e.createElement("span",{className:"file-preview__csv-preview-info-icon file-preview__csv-preview-info-icon--notooltip"+(a.props.userCanEditMetadata?" fa fa-pencil":"")})),o=e.createElement(l.ToolTipMultiLine,{tipContent:p,alignLeft:!0},c.name||t)}else o=e.createElement("span",null,t);return e.createElement("div",{key:a.props.reactKey+"-header-"+n,className:"file-preview__csv-preview-header-cell file-preview__csv-preview-header-cell--"+r+" "+(s?"file-preview__csv-preview-header-cell--info ":"")+" "+(a.canShowColumnDescriptionList()&&!a.props.isShowingColumnDescriptionList?"file-preview__csv-preview-header-cell--editable ":""),onClick:a.canShowColumnDescriptionList()&&!a.props.isShowingColumnDescriptionList?a.props.onToggleShowColumnDescriptionList:null},o)},a.renderOptionalCsvPreviewTable=function(){if(!a.isCsvFile())return null;if(a.props.isShowingColumnDescriptionList)return null;var t=a.props.csvPreviewContents[0],n=a.props.csvPreviewContents.slice(1,a.numLinesWhenShowingMore+1),i=a.getColumnMetadata();return e.createElement("div",{className:"file-preview__csv-preview-container",onScroll:function(e){return a.handleCsvPreviewScroll(e)}},e.createElement("div",{className:"file-preview__csv-preview-inner"},e.createElement("div",{className:"file-preview__csv-preview-inner-inner"},e.createElement("div",{className:"file-preview__csv-preview"},e.createElement("div",{className:"file-preview__csv-preview-header-row",ref:function(e){a.csvHeader=e}},t.map(function(e,t){return a.renderCsvHeaderCell(e,t,i)})),n.map(function(t,n){return e.createElement("div",{key:a.props.reactKey+"-row-"+n,className:"file-preview__csv-preview-row"},t.map(function(t,s){if(s<i.length){var o=i[s].harmonizedDataType?i[s].harmonizedDataType.toLowerCase():"none";return e.createElement("div",{key:a.props.reactKey+"-row-"+n+"-col-"+s,className:"file-preview__csv-preview-cell file-preview__csv-preview-cell--"+o},t)}return null}))})))))},a.renderOptionalJsonPreview=function(){return a.props.textPreviewContents&&a.props.displayType==o.Json?e.createElement(d,{data:JSON.parse(a.props.textPreviewContents)}):null},a.handleSaveFileDescription=function(){a.props.onInnerSaveFileDescription(),a.props.onSaveFileDescription()},a.handleToggleModal=function(){document.documentElement.style.overflowY=a.state.modalPreviewOpen?"scroll":"hidden",a.setState({modalPreviewOpen:!a.state.modalPreviewOpen})},a.props.maxLinesToShow?(a.numLinesWhenShowingLess=Math.min(10,a.props.maxLinesToShow),a.numLinesWhenShowingMore=Math.min(100,a.props.maxLinesToShow)):(a.numLinesWhenShowingLess=10,a.numLinesWhenShowingMore=100),a.state={modalPreviewOpen:!1},a}return r.__extends(n,t),n.prototype.render=function(){var t=this,n=this.renderFetchMessage(),a=null;if(this.props.showSubmitToCompButton&&!this.props.csvHeaderValidationErrors){a=e.createElement("div",{className:"file-preview__submit-csv-button-container"},e.createElement("form",{action:this.props.submitToCompUrl,method:"POST"},e.createElement("input",{type:"hidden",name:"scriptVersionId",value:this.props.scriptVersionId.toString()}),e.createElement("input",{type:"hidden",name:"fileName",value:this.props.fileName}),e.createElement("button",{type:"submit",className:"file-preview__submit-csv-button"},e.createElement("i",{className:"fa fa-cloud-upload"})," ","Submit to Competition")))}else this.props.showSubmitToCompButton&&this.props.csvHeaderValidationErrors&&(a=e.createElement(l.ToolTip,{tipText:this.props.csvHeaderValidationErrors,size:"medium"},e.createElement("span",{className:"fa fa-exclamation-triangle file-preview-list__validation-error"})));var i=null;this.props.fileUrl&&(i=e.createElement(l.ButtonRoundEdged,{icon:"fa fa-download",primary:!0,href:this.props.fileUrl,onClick:this.props.downloadCallback||null,text:"Download"}));var s=null;this.props.canDelete&&(s=e.createElement(l.ButtonRoundEdged,{onClick:this.props.onDelete,text:"Delete"}));this.props.fullPath&&e.createElement("div",{className:"file-preview__full-path-row"},e.createElement("span",{className:"file-preview__full-path"},this.props.fullPath));var o=null;return this.props.isEditingDescription?o=e.createElement("div",null,e.createElement("div",{className:"file-preview__sub-header"},"About this file"),e.createElement(l.MarkdownEditor,{key:"file-preview-"+this.props.fileName,shouldSanitizeHtml:!0,alwaysShowToolbar:!0,defaultValue:this.props.description,placeholder:this.props.descriptionPlaceholder,suffix:"-file-preview-description",maxRows:10,onChangeCallback:this.props.onDescriptionChange}),this.props.onInnerSaveFileDescription||this.props.onSaveFileDescription?e.createElement("div",{className:"file-preview__description-save",onClick:this.handleSaveFileDescription},e.createElement("i",{className:"fa fa-check"})," Save"):null):this.props.description?o=e.createElement("div",null,e.createElement("div",{className:"file-preview__sub-header"},"About this file",this.props.userCanEditMetadata&&e.createElement("span",{className:"file-preview__description-edit-icon",onClick:this.props.onEditFileDescription},e.createElement("span",{className:"fa fa-pencil"}))),e.createElement(l.MarkdownConverter,{contentClassName:"file-preview__description",mimeType:"text/markdown",content:this.props.description})):this.props.userCanEditMetadata&&(o=e.createElement("div",null,e.createElement("div",{className:"file-preview__sub-header"},"About this file",e.createElement("span",{className:"file-preview__description-edit-icon",onClick:this.props.onEditFileDescription},e.createElement("span",{className:"fa fa-pencil"}))),e.createElement("div",{className:"file-preview__missing-description-notice"},"Help us describe this table"))),e.createElement("div",{className:"file-preview__item"},e.createElement("div",{className:"file-preview__item-information-section"},e.createElement("div",{className:"file-preview__name-row "+(this.props.fullPath?"file-preview__name-row--has-fullpath":"")},e.createElement("span",{className:"file-preview__item-filename"},this.props.fileName,this.props.size&&e.createElement("span",{className:"file-preview__item-filesize"},p(this.props.size))),e.createElement("div",{className:"file-preview__buttons"},i,s,a),this.props.fullPath&&e.createElement("div",{className:"file-preview__full-path"},this.props.fullPath)),l.Current.hasMultipleDataSources&&this.props.dataSource&&e.createElement("div",{className:"file-preview__data-source-meta-container"},e.createElement("div",{className:"file-preview__data-source-meta-label"},"Data source"),e.createElement("div",{className:"file-preview__data-source-meta"},this.props.dataSource.imageUrl&&e.createElement("div",{className:"file-preview__data-source-meta-image"},e.createElement("a",{href:this.props.dataSource.sourceUrl,target:"_blank"},e.createElement("img",{src:this.props.dataSource.imageUrl}))),e.createElement("div",{className:"file-preview__data-source-meta-text"},e.createElement("div",{className:"file-preview__data-source-meta-name"},e.createElement("a",{href:this.props.dataSource.sourceUrl,target:"_blank"},this.props.dataSource.name)),e.createElement("div",{className:"file-preview-data-source--desc-updated"},e.createElement("div",{className:"file-preview__data-source-meta-desc"},this.props.dataSource.overview),e.createElement("div",{className:"file-preview__data-source-meta-updated"},"Last updated ",e.createElement(l.TimeAgo,{time:this.props.dataSource.lastUpdated})))))),o),this.props.hideFilePreview?null:e.createElement("div",{className:"file-preview__item-preview-section "+(this.state.modalPreviewOpen?"file-preview__item-preview-section--modal-open":"")+" "},e.createElement("div",{className:"file-preview__item-preview-head"},e.createElement("div",{className:"file-preview__sub-header file-preview__sub-header--preview"},"Preview ",this.isCsvFile()?"(first 100 rows)":""),this.isCsvFile()&&this.canShowColumnDescriptionList()&&e.createElement("div",{className:"file-preview__item-preview-buttons"},e.createElement("button",{className:"file-preview__item-edit-columns",onClick:this.props.onToggleShowColumnDescriptionList},this.props.isShowingColumnDescriptionList?"Close descriptions":"Edit descriptions"),e.createElement("button",{className:"file-preview__item-expand-button",onClick:function(){return t.handleToggleModal()}},this.state.modalPreviewOpen?e.createElement("i",{className:"fa fa-close"}):e.createElement("i",{className:"fa fa-arrows-alt"})))),e.createElement("div",{className:"file-preview__preview-row"},n,this.props.previewRequestInFlight?null:e.createElement("div",null,this.renderOptionalImagePreview(),this.renderOptionalColumnDescriptionList(),this.renderOptionalCsvPreviewTable(),this.renderOptionalJsonPreview(),this.renderOptionalTextPreview()))),this.state.modalPreviewOpen&&e.createElement("div",{onClick:function(){return t.handleToggleModal()},className:"file-preview__item-preview-section-modal-background"}))},n}(e.Component),_=function(t){function n(n){var i=t.call(this,n)||this;return i.descriptionBeingEdited="",i.previousDataType="",i.textarea=null,i.handleStartEditing=function(e){if(e.preventDefault(),i.props.onStartEditing)return void i.props.onStartEditing();i.descriptionBeingEdited=i.state.metadata.description,i.previousDataType=i.state.metadata.harmonizedDataType,i.setState({isEditing:!0})},i.handleDoneEditing=function(e){e.preventDefault();var t=a.extend({},i.state.metadata);t.description=i.descriptionBeingEdited,i.sendMetadataChangeIfNeeded(t),i.setState({metadata:t,isEditing:!1})},i.sendMetadataChangeIfNeeded=function(e){e.description===i.state.metadata.description&&i.previousDataType===i.state.metadata.harmonizedDataType||i.props.onMetadataChange(e)},i.handleMouseEnter=function(){i.setState({showEditIcon:!0})},i.handleMouseLeave=function(){i.setState({showEditIcon:!1})},i.handleDataTypeChange=function(e){var t=a.extend({},i.state.metadata);t.harmonizedDataType=e,i.setState({metadata:t})},i.renderEditing=function(){var t=[{value:"String",label:"String"},{value:"Numeric",label:"Numeric"},{value:"DateTime",label:"DateTime"},{value:"Boolean",label:"Boolean"}];return e.createElement("div",{className:"file-preview__description-row"},e.createElement("div",{className:"file-preview__description-row-field-name"},i.state.metadata.name),e.createElement("div",{className:"file-preview__description-row-description"},e.createElement(u.default,{defaultValue:i.state.metadata.description,onChange:function(e){i.descriptionBeingEdited=e.currentTarget.value},className:"file-preview__description-row-description-editor",minRows:1,maxRows:10,placeholder:"Column description",ref:function(e){i.textarea=e}})),e.createElement("div",{className:"file-preview__description-row-field-type file-preview__description-row-field-type--edit"},e.createElement(l.SelectBox,{className:"file-preview__description-row-field-typeselect-box",options:t,value:i.state.metadata.harmonizedDataType,onChange:i.handleDataTypeChange})),e.createElement("div",{className:"file-preview__description-row-save-icon",onClick:i.handleDoneEditing},e.createElement("span",{className:"fa fa-check"})))},i.renderNonEditing=function(){var t=i.props.canEdit&&(i.props.onMetadataChange||i.props.onStartEditing),n=t?e.createElement("span",{onClick:i.handleStartEditing,className:"file-preview__description-row-cta"},"Help us describe this column..."):e.createElement("span",null,"No description provided");return e.createElement("div",{className:"file-preview__description-row",onMouseEnter:t?i.handleMouseEnter:null,onMouseLeave:t?i.handleMouseLeave:null},e.createElement("div",{className:"file-preview__description-row-field-name"},i.state.metadata.name),i.state.metadata.description?e.createElement("div",{className:"file-preview__description-row-description",onClick:t?i.handleStartEditing:null,style:t?{cursor:"pointer"}:null},e.createElement("div",{className:"file-preview__description-row-description-inner"},e.createElement(l.MarkdownConverter,{content:i.state.metadata.description,mimeType:"text/markdown"}))):e.createElement("div",{className:"file-preview__description-row-description file-preview__description-row-description--empty",onClick:t?i.handleStartEditing:null,style:t?{cursor:"pointer"}:null},e.createElement("div",{className:"file-preview__description-row-description-inner"},n)),e.createElement("div",{className:"file-preview__description-row-field-type",onClick:t?i.handleStartEditing:null,style:t?{cursor:"pointer"}:null},i.state.metadata.harmonizedDataType),e.createElement("div",{className:"file-preview__description-row-field-save-icon"}," "))},i.state={metadata:i.props.initialMetadata,isEditing:!1,showEditIcon:!1},i}return r.__extends(n,t),n.prototype.render=function(){return this.state.isEditing?this.renderEditing():this.renderNonEditing()},n.prototype.componentDidUpdate=function(e,t){!t.isEditing&&this.state.isEditing&&this.textarea&&this.textarea.focus()},n}(e.Component)}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(t){function n(e){var n=t.call(this,e)||this;return n.handleOpenClick=function(){n.props.onShow(),n.openModal()},n.handleCloseClick=function(){n.props.onClose(),n.closeModal()},n.openModal=function(){a("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),a("html").css("overflow","hidden"),n.modalIsShown=!0},n.closeModal=function(){a("body").css({overflow:"visible"}),a("html").css("overflow","visible"),n.modalIsShown=!1},n.handleKeyDown=function(e){27==e.keyCode&&n.handleCloseClick()},n.handleStopPropagation=function(e){e.stopPropagation()},n.modalIsShown=e.modalIsShown,n}return i.__extends(n,t),n.prototype.componentDidMount=function(){a(document.body).on("keydown",this.handleKeyDown)},n.prototype.componentWillUnmount=function(){a(document.body).off("keydown",this.handleKeyDown)},n.prototype.componentWillReceiveProps=function(e){e.modalIsShown!=this.modalIsShown&&(e.modalIsShown?this.openModal():this.closeModal())},n.prototype.render=function(){return this.props.modalIsShown?e.createElement("div",{className:"modal"},e.createElement("div",{className:this.props.buttonClassName,onClick:this.handleOpenClick}),e.createElement("div",{className:"modal__background "+this.props.modalClassName,onMouseDown:this.handleCloseClick},e.createElement("div",{className:"modal__content",style:{display:"inline-block",margin:"auto"},onMouseDown:this.handleStopPropagation},this.props.modalContent||this.props.children))):null},n}(e.Component);t.Modal=s}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(45),o=n(8),r=n(6),l=n(1075),c=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleKeyDown=function(t){27==t.keyCode&&e.props.handleModalClose()},e.handleStopPropagation=function(e){e.stopPropagation()},e}return i.__extends(n,t),n.prototype.componentDidMount=function(){a(document.body).on("keydown",this.handleKeyDown)},n.prototype.componentWillUnmount=function(){a(document.body).off("keydown",this.handleKeyDown)},n.prototype.render=function(){var t=a(window).width(),n=Math.floor((t-500)/2),s={marginLeft:n+"px",marginRight:n+"px"};return e.createElement("div",{className:"vote-button__voters-outer"},e.createElement("div",{className:"vote-button__voters-modal-background",onClick:this.props.handleModalClose}),e.createElement("div",{className:"vote-button__voters-modal",style:s},e.createElement("div",{className:"vote-button__voters-modal-title-bar"},e.createElement("div",{className:"vote-button__voters-modal-title"},"Voters"),e.createElement("div",{className:"vote-button__voters-modal-close"},e.createElement("span",{className:"fa fa-close",onClick:this.props.handleModalClose}))),e.createElement("div",{className:"vote-button__voters-modal-inner"},this.props.voters.map(function(t,n){return e.createElement("div",{className:"vote-button__voters-model-item"},e.createElement(l.UserCard,i.__assign({key:"voter-"+n},t)))}))))},n}(e.Component);t.VoteButtonModal=c;var p=function(t){function n(e){var n=t.call(this,e)||this;return n.processVote=function(e,t,i,s){n.setState(e,function(){a.ajax({context:n,url:i,type:s,success:function(){n.setState({voteRequestInFlight:!1})},error:function(e,a,i){n.setState(t)}})})},n.processTwoPartVote=function(e,t,i,s,o,r,l){n.setState(e,function(){a.ajax({context:n,url:s,type:o,success:function(){a.ajax({context:n,url:r,type:l,success:function(){n.setState({voteRequestInFlight:!1})},error:function(){n.setState(i)}})},error:function(e,a,i){n.setState(t)}})})},n.onVoteUp=function(e){if(e.stopPropagation(),n.readyToVote()&&n.props.canUpvote){n.props.upVoteIntercomEventName&&window.Intercom("trackEvent",n.props.upVoteIntercomEventName);var t,a=n.state;if(n.state.hasAlreadyVotedDown){t={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!0,totalVotes:n.state.totalVotes+2,voteRequestInFlight:!0};var i={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!1};return void n.processTwoPartVote(t,a,i,n.props.voteDownUrl,"DELETE",n.props.voteUpUrl,"POST")}var o=null;n.state.voters&&(o=n.state.voters.slice(),n.state.hasAlreadyVotedUp?o.splice(s.findIndex(o,n.props.currentUserInfo),1):o=[n.props.currentUserInfo].concat(o)),t=n.state.hasAlreadyVotedUp?{hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!0,voters:o}:{hasAlreadyVotedUp:!0,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!0,voters:o},n.processVote(t,a,n.props.voteUpUrl,n.state.hasAlreadyVotedUp?"DELETE":"POST")}},n.onVoteDown=function(e){if(e.stopPropagation(),n.readyToVote()&&n.props.canDownvote){n.props.downVoteIntercomEventName&&window.Intercom("trackEvent",n.props.downVoteIntercomEventName);var t,a=n.state;if(n.state.hasAlreadyVotedUp){t={hasAlreadyVotedUp:!1,hasAlreadyVotedDown:!0,totalVotes:n.state.totalVotes-2,voteRequestInFlight:!0};var i={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!1};return void n.processTwoPartVote(t,a,i,n.props.voteUpUrl,"DELETE",n.props.voteDownUrl,"POST")}t=n.state.hasAlreadyVotedDown?{hasAlreadyVotedDown:!1,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!0}:{hasAlreadyVotedDown:!0,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!0},n.processVote(t,a,n.props.voteDownUrl,n.state.hasAlreadyVotedDown?"DELETE":"POST")}},n.handleVotersClick=function(e){e.preventDefault(),n.setState({showingVotersModal:!0}),a("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),a("html").css("overflow","hidden")},n.handleVotersClose=function(){n.setState({showingVotersModal:!1}),a("body").css({overflow:"visible","margin-right":"0px"}),a("html").css("overflow","visible")},n.state={totalVotes:e.totalVotes,hasAlreadyVotedUp:e.hasAlreadyVotedUp,hasAlreadyVotedDown:e.hasAlreadyVotedDown,voteRequestInFlight:!1,showingVotersModal:!1,voters:n.props.voters},n}return i.__extends(n,t),n.prototype.readyToVote=function(){if(this.state.voteRequestInFlight)return!1;if(!r.Current.userId){var e="/account/login?returnUrl="+encodeURIComponent(document.location.pathname);return document.location.href=e,!1}return!0},n.prototype.render=function(){var t=null,n=null,a=null,i=this.props.showVoters&&this.state.voters&&this.state.voters.length>0;n=this.props.voteUpUrl?e.createElement("div",{className:o("vote-button__button",this.props.canUpvote?null:"vote-button__button--disabled"),onClick:this.props.canUpvote?this.onVoteUp:null},this.props.compact?e.createElement("span",{className:"fa fa-angle-up"}):e.createElement("span",{className:"fa fa-caret-up"})):e.createElement("div",{className:"vote-button__button-placeholder"}),t=this.props.voteDownUrl?e.createElement("div",{className:o("vote-button__button",this.props.canDownvote?null:"vote-button__button--disabled"),onClick:this.props.canDownvote?this.onVoteDown:null},this.props.compact?e.createElement("span",{className:"fa fa-angle-down"}):e.createElement("span",{className:"fa fa-caret-down"})):e.createElement("div",{className:"vote-button__button-placeholder"}),i&&(a=e.createElement("div",{className:"vote-button__show-voters"},e.createElement("a",{href:"",onClick:this.handleVotersClick},"voters")));var s=null;return this.state.showingVotersModal&&(s=e.createElement(c,{voters:this.state.voters,handleModalClose:this.handleVotersClose})),e.createElement("div",{className:"vote-button__container"},e.createElement("div",{className:o("vote-button",{"vote-button--compact":this.props.compact,"vote-button--voted-up":this.state.hasAlreadyVotedUp,"vote-button--voted-down":this.state.hasAlreadyVotedDown,"vote-button--disabled":!this.props.canDownvote&&!this.props.canUpvote,"vote-button--enabled":this.props.canDownvote||this.props.canUpvote})},n,e.createElement("div",{className:"vote-button__button"},e.createElement("span",{className:"vote-button__vote-count",onClick:this.state.hasAlreadyVotedDown?this.onVoteDown:this.onVoteUp},this.state.totalVotes)),t),a,s)},n}(e.Component);t.VoteButton=p}).call(t,n(0),n(3))},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e,t){var n=S.keys(t),a=S.keys(e);return n.length===a.length&&!a.some(function(n){return!S.has(t,n)||"function"!=typeof t[n]&&"object"!=typeof t[n]&&e[n]&&t[n]!==e[n]||"function"==typeof t[n]&&e[n]&&t[n].toString()!==e[n].toString()})}function i(e,t){return(Array(t+1).join("0")+e).slice(-t)}function s(e){if(S.has(e,"_type")&&e._type===t.KernelInfoResponseType)return!1;if(!S.has(e,"_guid"))return!1;var n=e._guid.substr(e._guid.length-M-k.length-1,k.length);return k===n}function o(e){return!s(e)}function r(){var e=i((T++).toString(16),M);return x+"-"+k+"-"+e}function l(e,n,a,i,s,o){return void 0===a&&(a=!1),void 0===i&&(i=N.Code),void 0===s&&(s=""),void 0===o&&(o=null),{_type:t.InsertCellEditEventType,_guid:r(),_cell_guid:e,_below_cell_guid:n,_above_cell_guid:o,collapsed:a,cell_type:i===N.Code?"code":"markdown",source:s}}function c(e,n){return{_type:t.AppendCellEditEventType,_guid:r(),_cell_guid:e,source:n}}function p(e){return{_type:t.DeleteCellEditEventType,_guid:r(),_cell_guid:e}}function u(e){return{_type:t.ActivateCellEditEventType,_guid:r(),_cell_guid:e}}function d(e){return{_type:t.DeactivateCellEditEventType,_guid:r(),_cell_guid:e}}function m(e,n,a,i){var s={_type:t.UpdateCellEditEventType,_guid:r(),_cell_guid:e};return null!=a&&(s.cell_type=a===N.Code?"code":"markdown"),null!=n&&(n instanceof Array?s.source=n.join("\n"):s.source=n),null!=i&&(s.collapsed=i),s}function h(e){return{_type:t.UpdateCellEditEventType,_guid:r(),_cell_guid:e,execution_state:"idle"}}function g(e,t){return{_type:"complete_request",_guid:r(),code:e,cursor_pos:t}}function f(e){return{_type:"execute_cell",_guid:r(),_cell_guid:e}}function v(){return{_guid:r(),_type:"interrupt_kernel"}}function _(){return{_guid:r(),_type:"close_notebook",nbconvert:"full"}}function b(){return{_guid:r(),_type:"close_notebook",nbconvert:null}}function E(){return{_guid:r(),_type:"snapshot_notebook_request"}}function y(){return C(8)+"-"+C(4)+"-"+C(4)+"-"+C(4)+"-"+C(12)}function C(e){void 0===e&&(e=40);for(var t="",n=0;n<e;n++)t+=(16*Math.random()|0).toString(16);return t}Object.defineProperty(t,"__esModule",{value:!0});var w=n(6),S=n(45);t.propsAreShallowEqual=a;var N;!function(e){e[e.Code=0]="Code",e[e.Markdown=1]="Markdown"}(N=t.NotebookCellType||(t.NotebookCellType={}));!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(t.CellExecutionStatus||(t.CellExecutionStatus={}));!function(e){e[e.Unknown=0]="Unknown",e[e.Initializing=1]="Initializing",e[e.Requested=2]="Requested",e[e.Queued=3]="Queued",e[e.Starting=4]="Starting",e[e.Running=5]="Running",e[e.Error=6]="Error",e[e.Stopped=7]="Stopped",e[e.DownloadingData=8]="DownloadingData",e[e.LostHeartbeat=9]="LostHeartbeat",e[e.Reconnecting=10]="Reconnecting",e[e.RenderingHtml=11]="RenderingHtml",e[e.RestartingKernel=12]="RestartingKernel"}(t.KernelStatus||(t.KernelStatus={}));var T=0,k=C(4)+"-"+C(4)+"-"+C(4),M=12,x=i((w.Current.userId||0).toString(16),8);t.ThisClientSent=s,t.NotFromThisClient=o,t.messageUuid=r,t.LoadNotebookEditEventType="load_notebook",t.InsertCellEditEventType="insert_cell",t.InsertCellEditEvent=l,t.AppendCellEditEventType="append_cell",t.AppendCellEditEvent=c,t.DeleteCellEditEventType="delete_cell",t.DeleteCellEditEvent=p,t.ActivateCellEditEventType="activate_cell",t.ActivateCellEditEvent=u,t.DeactivateCellEditEventType="deactivate_cell",t.DeactivateCellEditEvent=d,t.UpdateCellEditEventType="update_cell",t.UpdateCellEditEvent=m,t.MakeCellIdleEditEvent=h,t.AutocompleteRequest=g,t.CellExecutionRequestType="execute_cell",t.CellExecutionRequest=f,t.KernelInfoResponseType="kernel_info",t.InterruptKernelType="interrupt_kernel",t.InterruptKernelRequest=v,t.CloseNotebookType="close_notebook",t.CloseNotebookRequest=_,t.CloseNotebookForLanguageChangeRequest=b,t.SerializeNotebookType="snapshot_notebook_request",t.SerializeNotebookRequest=E,t.strictlyFormattedUuid=y,t.uuid=C},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(1),s=n(429),o=n(3),r=n(128),l=n(8),c=n(1760),p=n(29);!function(e){e[e.Compressing=0]="Compressing",e[e.Waiting=1]="Waiting",e[e.Uploading=2]="Uploading",e[e.Paused=3]="Paused",e[e.Canceled=4]="Canceled",e[e.Failed=5]="Failed",e[e.Complete=6]="Complete"}(a||(a={}));var u=["application/zip","application/x-zip","application/x-zip-compressed","application/x-compressed","application/x-compress","application/x-7z-compressed","application/x-rar-compressed","application/gzip","application/gzipped","application/gzip-compressed","application/gunzip","application/x-gzip","gzip/document"],d=function(e){return u.filter(function(t){return t===e.type}).length>0},m=function(t){function n(e){var n=t.call(this,e)||this;return n.dragCount=0,n.dragEnter=function(){n.dragCount++,n.setState({isDraggingOverWindow:!0})},n.dragLeave=function(){0==--n.dragCount&&n.setState({isDraggingOverWindow:!1})},n.dropFiles=function(e,t){var a=n.props,i=a.mode,s=a.confirm,o=n.state.files;if(!s)return function(){"single"==i&&o.length?n.removeFile(n.state.files[0],function(){n.uploadFiles(e)}):n.uploadFiles(e)}();n.setState({confirm:s("single"===i?e[0]:e),acceptedFiles:e})},n.uploadFiles=function(e){var t=e.filter(function(e){return 0==n.state.files.filter(function(t){return t.name==e.name&&t.status!=a.Canceled&&t.status!=a.Failed}).length});n.addFilesToState(t)},n.addFilesToState=function(e){var t=n.state.files.filter(function(t){return 0==e.filter(function(e){return e.name==t.name}).length});n.setState({files:t.concat(e.map(function(e,i){var s=d(e),o=null;return n.props.maxCompressedBytesAllowed&&s&&e.size>n.props.maxCompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes for compressed files ("+r(n.props.maxCompressedBytesAllowed)+")"),n.props.maxUncompressedBytesAllowed&&!s&&e.size>n.props.maxUncompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes ("+r(n.props.maxUncompressedBytesAllowed)+")"),{index:i+t.length,name:e.name,totalBytes:e.size,html5File:e,status:o?a.Failed:a.Waiting,lastModifiedDateUtc:e.lastModifiedDate?new Date(e.lastModifiedDate.toUTCString()).getTime():null,isCompressed:s,failureMessage:o}}))},function(){e.forEach(function(e){return n.startUploadingFile(e.name)})})},n.startUploadingFile=function(e){var t=n.props,a=t.createBlobUrl,i=t.entityName,s=t.onFileUploadStarted,r=t.overrideUpload;s&&s(e);var l=n.getFileState(e);if(r)return r(l).then(function(){return n.markFileAsComplete(l.name,null)});p(a||i,"FileUploader requires either a createBlobUrl or entityName property OR must have uploadCustom logic.");var c={fileName:l.compressedName||l.name,contentLength:l.totalBytes,lastModifiedDateUtc:l.lastModifiedDateUtc},u=a||"/blobs/inbox/"+i;o.ajax({context:n,url:u,type:"POST",dataType:"json",data:c,success:function(e){n.setFileState(l.name,{uploadUrl:e.resumeUrl||e.createUrl,totalBytesUploadedInPreviousChunks:e.uploadedBytes,totalBytesUploadedInCurrentChunk:0,maxChunkSize:e.maxChunkSize,status:l.status},function(){e.isComplete?n.markFileAsComplete(l.name,e.token):n.uploadNextChunk(l.name)})}})},n.uploadNextChunk=function(e){var t=n.getFileState(e);switch(t.status){case a.Canceled:case a.Complete:case a.Failed:return}var i=t.totalBytesUploadedInPreviousChunks,s=Math.min(t.totalBytesUploadedInPreviousChunks+t.maxChunkSize-1,t.totalBytes),r=t.html5File.slice(i,s,t.html5File.type),l=new FormData;l.append("file",r,t.compressedName||t.name);var c=n.getFileState(t.name).uploadUrl;console.info("Posting blob chunk to "+c);o.ajax({context:n,url:c,type:"POST",dataType:"json",headers:{"Content-Range":"bytes "+i+"-"+s+"/"+t.totalBytes},contentType:!1,processData:!1,data:l,xhr:function(){var e=o.ajaxSettings.xhr();return n.setFileState(t.name,{abortCallback:function(){e.abort()}}),e.upload.onprogress=function(e){return n.setFileState(t.name,{status:a.Uploading,totalBytesUploadedInCurrentChunk:e.loaded})},e.upload.onload=function(e){return n.setFileState(t.name,{status:a.Uploading,totalBytesUploadedInCurrentChunk:e.loaded})},e},success:function(e){e.isComplete?n.markFileAsComplete(t.name,e.token):n.setFileState(t.name,{totalBytesUploadedInPreviousChunks:e.uploadedBytes,totalBytesUploadedInCurrentChunk:0},function(){return n.uploadNextChunk(t.name)})}})},n.cancelFile=function(e){n.multipleFileInput&&(n.multipleFileInput.value=""),n.singleFileInput&&(n.singleFileInput.value=""),n.removeFile(e)},n.removeFile=function(e,t){e.abortCallback&&e.abortCallback();var a=n.state.files.filter(function(t){return t.name!=e.name});n.setState({files:a},function(){t&&t()})},n.pauseFile=function(e){e.abortCallback(),n.setFileState(e.name,{status:a.Paused})},n.markFileAsComplete=function(e,t){n.props.overrideUpload||p(t,"token is required when not using custom overrideUpload logic.");var i=n.getFileState(e),s=function(){return n.props.onFileUploadFinished(i.compressedName||i.name,t,i.totalBytes)};n.setFileState(e,{status:a.Complete,totalBytesUploadedInPreviousChunks:i.totalBytes,token:t},s)},n.getFileState=function(e){var t=n.state.files.filter(function(t){return t.name==e});return 0==t.length?null:t[0]},n.setFileState=function(e,t,a){var i=n.state.files.filter(function(t){return t.name!=e}),s=n.getFileState(e);n.setState(o.extend({},n.state,{files:i.concat(o.extend({},s,t))}),a)},n.state={files:[],isDraggingOverWindow:!1,isDraggingOverFileDrop:!1},n}return i.__extends(n,t),n.prototype.componentDidMount=function(){document.addEventListener("dragenter",this.dragEnter),document.addEventListener("dragleave",this.dragLeave)},n.prototype.componentWillUnmount=function(){document.removeEventListener("dragleave",this.dragLeave),document.removeEventListener("dragenter",this.dragEnter)},n.prototype.componentDidUpdate=function(e,t){if(this.props.onFilesPendingUpdated){var n=function(e){return e.filter(function(e){return e.status==a.Paused||e.status==a.Uploading||e.status==a.Waiting}).length},i=function(e){return e.filter(function(e){return e.status==a.Complete}).length},s=n(t.files),o=i(t.files),r=n(this.state.files),l=i(this.state.files);s==r&&o==l||this.props.onFilesPendingUpdated(r,l)}},n.prototype.render=function(){var t=this,n=this.props,i=n.mode,s=n.singleFileButtonLabel,o=n.multipleFileButtonLabel,p=n.onConfirmAccept,u=n.onConfirmCancel,d=n.overrideUpload,m=n.children,h=this.state.confirm,g="multiple"===i?o:s,f="multiple"===i?"Files":"File",v=this.state.isDraggingOverWindow?"Drop "+f+" Here":g||"Upload "+f;return e.createElement("div",{className:"file-uploader"},h?e.createElement("section",{className:"file-uploader__confirm"},e.createElement("div",null,h),e.createElement("button",{onClick:function(){p&&p("multiple"===i?t.state.files:t.state.files[0]),t.setState({confirm:null}),t.uploadFiles(t.state.acceptedFiles)}},"Confirm"),e.createElement("button",{onClick:function(){u&&u("multiple"===i?t.state.files:t.state.files[0]),t.setState({confirm:null})}},"Cancel")):e.createElement(c,{name:"files"+this.props.suffix,id:"files"+this.props.suffix,className:"file-uploader__file-drop file-uploader__file-drop--"+(this.props.compact?"compact":"full")+" "+(this.state.isDraggingOverWindow?"file-uploader__file-drop--window-active":"")+" "+(this.state.isDraggingOverFileDrop?"file-uploader__file-drop--file-drop-active":""),onDrop:this.dropFiles,multiple:"multiple"==i,onDragLeave:function(){return t.setState({isDraggingOverFileDrop:!1})},onDragEnter:function(){return t.setState({isDraggingOverFileDrop:!0})}},e.createElement("div",{className:"fa "+(!this.props.compact&&this.state.isDraggingOverWindow?"fa-hand-grab-o":"fa-upload")+" file-uploader__upload-icon "+(this.props.compact?"file-uploader__upload-icon--compact":"")}),e.createElement("div",null,v)),e.createElement("div",{className:"file-uploader__files-container",style:this.state.files.length>0?{}:{display:"none"}},null==this.state?"":this.state.files.sort(function(e,t){return e.index>t.index?1:-1}).map(function(n){if(t.props.autoRemoveOnComplete&&n.status==a.Complete)return null;var i=Math.min((n.totalBytesUploadedInPreviousChunks||0)+(n.totalBytesUploadedInCurrentChunk||0),n.totalBytes),s=i/n.totalBytes*100,o=n.status==a.Waiting||n.status==a.Uploading||n.status==a.Paused,c=n.status==a.Waiting||n.status==a.Uploading,p=n.status==a.Paused,u=p?{display:"none"}:null,h=p?null:{display:"none"},g={width:s+"%"},f=r(n.totalBytes-i,{output:"object"}),v=r(n.totalBytes);return e.createElement("div",{className:"file-uploader__file-row",key:n.name},e.createElement("div",{className:"file-uploader__file-name"},n.compressedName||n.name," (",v,") "),d||m?m||null:e.createElement("div",{className:"file-uploader__progress-container"},e.createElement("div",{className:l("file-uploader__progress-bar","file-uploader__progress-bar--"+a[n.status].toLowerCase()),style:g}),n.status==a.Failed?e.createElement("div",{className:"file-uploader__status-container file-uploader__status-container--failed"},"Failed: "+n.failureMessage):e.createElement("div",{className:l("file-uploader__status-container","file-uploader__status-container--"+a[n.status].toLowerCase())},e.createElement("div",{title:"Cancel upload",className:l("file-uploader__status-button","file-uploader__status-button--cancel",o?null:"file-uploader__status-button--disabled"),onClick:o?function(){return t.cancelFile(n)}:null}),e.createElement("div",{title:"Pause upload",className:l("file-uploader__status-button","file-uploader__status-button--pause",c?null:"file-uploader__status-button--disabled"),onClick:c?function(){return t.pauseFile(n)}:null,style:u}),e.createElement("div",{title:"Resume upload",className:l("file-uploader__status-button","file-uploader__status-button--resume",p?null:"file-uploader__status-button--disabled"),onClick:p?function(){return t.startUploadingFile(n.name)}:null,style:h}),e.createElement("div",{className:"file-uploader__status"},a[n.status]),e.createElement("div",{className:"file-uploader__percent"},Math.floor(s),"%"),n.status==a.Complete?e.createElement("div",{className:"file-uploader__bytes"},v):e.createElement("div",{className:"file-uploader__bytes"},f.value.toFixed(2)+" "+f.suffix," left"))))})))},n}(e.Component);t.FileUploader=m;var h=function(t){function n(e){var n=t.call(this,e)||this;return n.dragCount=0,n.dragEnter=function(){n.dragCount++,n.setState({isDraggingOverWindow:!0})},n.dragLeave=function(){0==--n.dragCount&&n.setState({isDraggingOverWindow:!1})},n.dropFiles=function(e,t){p(e.length<=1,"Maximum of 1 file supported in BackgroundFileUploader.");var a=n.props.confirm,i=n.state.files,s=i[0];if(!a)return function(){s?n.removeFile(s,function(){return n.uploadFiles(e)}):n.uploadFiles(e)}();n.setState({confirm:a(e[0]),acceptedFiles:e})},n.uploadFiles=function(e){var t=e.filter(function(e){return 0==n.state.files.filter(function(t){return t.name==e.name&&t.status!=a.Canceled&&t.status!=a.Failed}).length});n.addFilesToState(t)},n.addFilesToState=function(e){var t=n.state.files.filter(function(t){return 0==e.filter(function(e){return e.name==t.name}).length});n.setState({files:t.concat(e.map(function(e,i){var s=d(e),o=null;return n.props.maxCompressedBytesAllowed&&s&&e.size>n.props.maxCompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes for compressed files ("+r(n.props.maxCompressedBytesAllowed)+")"),n.props.maxUncompressedBytesAllowed&&!s&&e.size>n.props.maxUncompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes ("+r(n.props.maxUncompressedBytesAllowed)+")"),{index:i+t.length,name:e.name,totalBytes:e.size,html5File:e,status:o?a.Failed:a.Waiting,lastModifiedDateUtc:e.lastModifiedDate?new Date(e.lastModifiedDate.toUTCString()).getTime():null,isCompressed:s,failureMessage:o}}))},function(){e.forEach(function(e){return n.startUploadingFile(e.name)})})},n.startUploadingFile=function(e){var t=n.props,a=t.onFileUploadStarted,i=t.upload;a&&a(e);var s=n.getFileState(e);return i(s).then(function(){return n.markFileAsComplete(s.name)})},n.cancelFile=function(e){n.singleFileInput&&(n.singleFileInput.value=""),n.removeFile(e)},n.removeFile=function(e,t){e.abortCallback&&e.abortCallback();var a=n.state.files.filter(function(t){return t.name!=e.name});n.setState({files:a},function(){t&&t()})},n.pauseFile=function(e){e.abortCallback(),n.setFileState(e.name,{status:a.Paused})},n.markFileAsComplete=function(e){var t=(n.props.upload,n.getFileState(e)),i=function(){return n.props.onFileUploadFinished(t.compressedName||t.name,t.totalBytes)};n.setFileState(e,{status:a.Complete,totalBytesUploadedInPreviousChunks:t.totalBytes},i)},n.getFileState=function(e){var t=n.state.files.filter(function(t){return t.name==e});return 0==t.length?null:t[0]},n.setFileState=function(e,t,a){var i=n.state.files.filter(function(t){return t.name!=e}),s=n.getFileState(e);n.setState(o.extend({},n.state,{files:i.concat(o.extend({},s,t))}),a)},n.state={files:[],isDraggingOverWindow:!1,isDraggingOverFileDrop:!1},n}return i.__extends(n,t),n.prototype.componentDidMount=function(){document.addEventListener("dragenter",this.dragEnter),document.addEventListener("dragleave",this.dragLeave)},n.prototype.componentWillUnmount=function(){document.removeEventListener("dragleave",this.dragLeave),document.removeEventListener("dragenter",this.dragEnter)},n.prototype.componentDidUpdate=function(e,t){if(this.props.onFilesPendingUpdated){var n=function(e){return e.filter(function(e){return e.status==a.Paused||e.status==a.Uploading||e.status==a.Waiting}).length},i=function(e){return e.filter(function(e){return e.status==a.Complete}).length},s=n(t.files),o=i(t.files),r=n(this.state.files),l=i(this.state.files);s==r&&o==l||this.props.onFilesPendingUpdated(r,l)}},n.prototype.render=function(){var t=this,n=this.props,a=(n.compact,n.type),o=n.singleFileButtonLabel,r=(n.confirm,n.onConfirmAccept),l=n.onConfirmCancel,p=(n.onFilesPendingUpdated,n.upload,n.children,n.onFileUploadStarted,n.onFileUploadFinished,n.maxUncompressedBytesAllowed,n.maxCompressedBytesAllowed,n.maxUncompressedBytesBeforeAutoCompressing,n.autoRemoveOnComplete,i.__rest(n,["compact","type","singleFileButtonLabel","confirm","onConfirmAccept","onConfirmCancel","onFilesPendingUpdated","upload","children","onFileUploadStarted","onFileUploadFinished","maxUncompressedBytesAllowed","maxCompressedBytesAllowed","maxUncompressedBytesBeforeAutoCompressing","autoRemoveOnComplete"])),u=p.task,d=this.state.isDraggingOverWindow?"Drop File Here":o||"Upload File";return console.info("RENDER FILE UPLOADER",u),e.createElement("div",{className:"file-uploader background-file-uploader"},this.state.confirm?e.createElement("section",{className:"file-uploader__confirm"},e.createElement("button",{className:"background-task__button--warn",onClick:function(){r&&r(t.state.files[0]),t.setState({confirm:null}),t.uploadFiles(t.state.acceptedFiles)}},this.state.confirm),e.createElement("button",{className:"background-task__button--warn",onClick:function(){l&&l(t.state.files[0]),t.setState({confirm:null})}},"Cancel")):u&&(u.pending||u.processing)?e.createElement(s.Progress,i.__assign({},p)):e.createElement(c,{name:"files"+a,id:"files"+a,className:"file-uploader__file-drop file-uploader__file-drop--"+(this.props.compact?"compact":"full")+" "+(this.state.isDraggingOverWindow?"file-uploader__file-drop--window-active":"")+" "+(this.state.isDraggingOverFileDrop?"file-uploader__file-drop--file-drop-active":""),onDrop:this.dropFiles,multiple:!1,onDragLeave:function(){return t.setState({isDraggingOverFileDrop:!1})},onDragEnter:function(){return t.setState({isDraggingOverFileDrop:!0})}},e.createElement("div",{className:"fa "+(!this.props.compact&&this.state.isDraggingOverWindow?"fa-hand-grab-o":"fa-upload")+" file-uploader__upload-icon "+(this.props.compact?"file-uploader__upload-icon--compact":"")}),e.createElement("div",null,d)))},n}(e.Component);t.BackgroundFileUploader=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){function i(e){l(e.data||e.dataUrl,"<SmartListContainer /> requires data OR dataUrl property and neither were supplied.\n\treferrer: "+e.referrer)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(1067),r=n(45),l=n(29);t.DEFAULT_PAGE_SIZE=20;var c=function(n){function l(e){var s=n.call(this,e)||this;return s.getDefaultState=function(){var e=a.extend(!0,{sortBy:s.props.sortOptions?s.props.sortOptions[0].value:null,group:s.props.groups?s.props.groups[0].value:null,search:"",page:1},s.props.values);return{isLoadingMoreData:!0,hasMoreData:!0,list:[],onScroll:s.onScroll,onSortByChanged:s.onSortByChanged,boundSelectionGroups:s.getBoundSelectionGroups,pageSize:s.props.pageSize||t.DEFAULT_PAGE_SIZE,values:e,userLastSelectedSortBy:null}},s.getBoundSelectionGroups=function(){return s.props.groups?s.props.groups.map(function(e){return e.separator?{separator:!0}:{key:e.value,name:e.label,href:"?sortBy="+s.state.values.sortBy+"&group="+e.value,action:function(){return s.onSelectionGroupChanged(e.value)}}}):null},s.getQueryStringParameters=function(e){var t={};for(var n in s.state.values){var i=s.state.values[n];("search"!=n||!s.props.searchableGroups||s.props.searchableGroups.filter(function(e){return e==s.state.values.group}).length>0)&&i&&(t[n]=i)}return t.page=e||t.page,a.param(t)},s.refetchData=function(){s.currentDataRequest&&4!==s.currentDataRequest.readyState&&s.currentDataRequest.abort();for(var e=Array(s.state.values.page),t=[],n=0;n<s.state.values.page;n++)!function(n){s.currentDataRequest=a.ajax({context:s,url:s.props.dataUrl+"?"+s.getQueryStringParameters(n+1),method:"GET",success:function(a){if(e[n]=a,e.filter(Array).length==s.state.values.page){for(var i=0;i<e.length;i++)if(s.props.dataPathToList)for(var o=0,r=s.props.dataPathToList.split(".");o<r.length;o++){var l=r[o];t=t.concat(e[i][l])}else t=t.concat(e[i]);s.setState({isLoadingMoreData:!1,isPagingMoreData:!1,hasMoreData:t.length>0,hasLoadedSomeData:t.length>0,list:t,data:a,children:t.map(function(e,t){return s.props.itemRenderer(e,t,s.logSearchAction)})},function(){return s.props.onDataLoaded?s.props.onDataLoaded(a):null})}}})}(n)},s.getData=function(e){return s.setState({isLoadingMoreData:e,isPagingMoreData:!e}),s.currentDataRequest&&4!==s.currentDataRequest.readyState&&s.currentDataRequest.abort(),s.currentDataRequest=a.ajax({context:s,url:s.props.dataUrl+"?"+s.getQueryStringParameters(),method:"GET",success:function(t){return s.setData(t,e)}}),s.currentDataRequest},s.setData=function(e,t){var n=e;if(s.props.dataPathToList)for(var a=0,i=s.props.dataPathToList.split(".");a<i.length;a++){var o=i[a];n=n[o]}var r=n,l=t?n:s.state.list.concat(n);r&&s.setState({isLoadingMoreData:!1,isPagingMoreData:!1,hasMoreData:r.length>0,hasLoadedSomeData:l.length>0,list:l,data:e,children:l.map(function(e,t){return s.props.itemRenderer(e,t,s.logSearchAction)})},function(){return s.props.onDataLoaded?s.props.onDataLoaded(e):null})},s.setValueState=function(e,t){s.setState({values:s.mergeValues(e)},function(){return s.onSelectionsChanged(t)})},s.mergeValues=function(e){return a.extend(!0,s.state.values,e)},s.onSearchChange=function(e){null==s.qTextBox||s.qTextBox;s.qTextBox=e.target.value,s.timer&&clearInterval(s.timer);var t=s.props.groupDefaultSortBys?s.props.groupDefaultSortBys.filter(function(e){return e.group===s.state.values.group}):null,n=t&&t.length>0?t[0].sortBy:s.props.sortOptions&&s.props.sortOptions[0].value,a=null!=s.qTextBox&&""!=s.qTextBox||"relevance"!=s.state.values.sortBy?s.qTextBox?"relevance":s.state.values.sortBy:s.state.userLastSelectedSortBy||n,i=s.props.groupSearchRedirects&&s.props.groupSearchRedirects.filter(function(e){return e.searchedGroup==s.state.values.group}),o=i&&i.length>0?i[0].redirectToGroup:s.state.values.group;s.setState({values:s.mergeValues({search:s.qTextBox,sortBy:a,group:o})}),s.timer=window.setInterval(function(){return s.updateSearch(s.qTextBox)},300)},s.handleBeforeUnload=function(e){var t=a(".smart-list");t.is(document.activeElement)||0!==t.has(document.activeElement).length||s.logSearchAction()},s.updateSearch=function(e){s.timer&&clearInterval(s.timer),s.onSelectionsChanged(!0)},s.logSearchAction=function(e,t,n){s.state.values.search&&a.ajax({url:"/search/log",type:"POST",data:{index:s.props.searchIndex,isQuick:!1,q:s.state.values.search,isSuccess:null!=e&&null!=t,rank:n,id:e,url:t}})},s.onFilterChanged=function(e,t){var n={};n[e]=t,s.setValueState(n,!0)},s.onSelectionGroupChanged=function(e){var t=s.props.groupDefaultSortBys?s.props.groupDefaultSortBys.filter(function(t){return t.group===e}):null,n=s.state.userLastSelectedSortBy||(t&&t.length>0?t[0].sortBy:s.state.values.sortBy),a=s.props.groupSearchRedirects&&s.props.groupSearchRedirects.filter(function(t){return t.searchedGroup==e}).length>0||!s.props.searchableGroups||0==s.props.searchableGroups.filter(function(t){return t==e}).length;s.setValueState({group:e,sortBy:n,search:a?"":s.state.values.search},!0)},s.onWindowPopState=function(e){if(e.state)s.setValueState(e.state,!1);else{var t=s.getDefaultState();s.setValueState(t.values,!1)}},s.onSortByChanged=function(e){s.setState({values:s.mergeValues({sortBy:e}),userLastSelectedSortBy:"relevance"==e?s.state.userLastSelectedSortBy:e},function(){return s.onSelectionsChanged(!0)})},s.onSelectionsChanged=function(e){s.props.onSelectionsChanged&&s.props.onSelectionsChanged(s.state.values.sortBy,s.state.values.group);var t=s.refs.container;t&&(t.style.minHeight=a(t).height()+"px"),s.setState({hasMoreData:!0,hasLoadedSomeData:!1,list:s.props.disableClearResultsOnUpdate?s.state.list:[],children:s.props.disableClearResultsOnUpdate?s.state.children:[],values:s.mergeValues({page:1})},function(){var n=window.location.pathname+"?"+s.getQueryStringParameters();s.getData(!0).then(function(){e&&window.history.pushState(s.state.values,null,n),t&&(t.style.minHeight="initial")})})},s.onScroll=function(){s.state.isLoadingMoreData||s.state.isPagingMoreData||!s.state.hasMoreData||0!=s.state.list.length&&s.state.list.length<s.state.pageSize||s.setState({values:s.mergeValues({page:s.state.values.page+1})},function(){s.getData(!1)})},s.updateOpenMobileSort=function(e){s.setState({openMobileSort:e})},i(e),s.state=s.getDefaultState(),s}return s.__extends(l,n),l.prototype.componentDidUpdate=function(){this.props.onDidUpdate&&this.props.onDidUpdate()},l.prototype.componentDidMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1),window.addEventListener("beforeunload",this.handleBeforeUnload,!1),!this.props.data||window.history.state?this.getData(!0):this.setData(this.props.data,!0)},l.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1),window.removeEventListener("beforeunload",this.handleBeforeUnload,!1)},l.prototype.componentWillReceiveProps=function(e){e.data&&!r.isEqual(e.data,this.state.data)&&this.setData(e.data,!0)},l.prototype.render=function(){var t={updateOpenMobileSort:this.updateOpenMobileSort,onFilterChanged:this.onFilterChanged,onSearchChange:this.onSearchChange};return this.props.isHidden?null:e.createElement("div",{ref:"container"},e.createElement(o.SmartList,s.__assign({},this.props,this.state,t)))},l}(e.Component);t.SmartListContainer=c}).call(t,n(0),n(3))},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){void 0===e&&(e=40);for(var t="",n=0;n<e;n++)t+=(16*Math.random()|0).toString(16);return t}function i(e){history.replaceState&&history.replaceState({},"",e)}function s(e){return e.restProtocol+"://"+e.urlBase+"/api/sessions?kernelToken="+e.kernelToken}function o(e,t,n){return("channels"===e?"https:"===location.protocol?"wss":"ws":t.restProtocol)+"://"+t.urlBase+"/api/kernels/"+n.kernelId+"/"+e+"?session_id="+n.sessionId+"&kernelToken="+t.kernelToken}function r(e){return e.restProtocol+"://"+e.urlBase+"/api/contents/"+e.fileName+"?kernelToken="+e.kernelToken}Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=a,t.updateUrl=i,t.jupyterSessionsApiUrl=s,t.jupyterKernelApiUrl=o,t.jupyterContentsApiUrl=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(94),o=n(8),r=n(7),l=n(6),c=n(19),p=n(167),u=n(63),d=n(115),m=n(286),h=n(285),g=n(62),f=n(216),v=n(38),_=n(83),b=n(69),E=n(166),y=n(5),C=n(276),w={notebook:"fa-globe",data:"fa-table",visualization:"fa-bar-chart",other:"fa-file-text-o"},S=function(){function e(e,t){var n=this;this.removeDefaultFilters=function(e){for(var t={},a=0,i=Object.keys(e);a<i.length;a++){var s=i[a];e[s]!=n.defaultFilters[s]&&(t[s]=e[s])}return t},this.pushNewFilteredUrl=function(e){var t=window.location.pathname+window.location.search,a=window.history.state||{},s=window.location.pathname;a.scriptListFilterState=n.removeDefaultFilters(e),Object.keys(a.scriptListFilterState).length&&(s+="?"+i.param(a.scriptListFilterState)),t!=s&&window.history.pushState(a,"",s)},this.onWindowPopState=function(e){e.state&&e.state.scriptListFilterState&&n.filtersChangedCallback(e.state.scriptListFilterState)},this.updateFilters=function(e,t){i.extend(e,t),n.pushNewFilteredUrl(e),n.filtersChangedCallback(e)},this.baseUrl=window.location.href.split("?")[0],this.defaultFilters=t,this.filters=window.location.search.length?y.parseQueryString(window.location.search):this.defaultFilters,this.filtersChangedCallback=e,this.pushNewFilteredUrl(this.filters)}return e.prototype.scriptListWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},e.prototype.scriptListWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},e}(),N=function(t){function n(n){var s=t.call(this,n)||this;return s.loadMoreData=function(e){e=e||{};var t=s.state.scriptData,n=s.props.sourceBaseUrl+t.length.toString();e.after=t.length>0&&t[t.length-1].id;var a=!1;if(e){e.userId&&e.userId.toString().length&&(a=!0);var o=i.param(s.filterManager.removeDefaultFilters(e));o&&(n+="?"+o)}s.currentDataRequest&&4!==s.currentDataRequest.readyState&&s.currentDataRequest.abort(),s.setState({onlyMyScripts:a,isLoadingMoreData:!0},function(){s.currentDataRequest=i.getJSON(n,function(e){s.setState({scriptData:t.concat(e),isLoadingMoreData:!1,hasMoreData:e.length>0,hasLoadedSomeData:!0})})})},s.getListTitle=function(){return s.state.scriptData&&!s.state.isLoadingMoreData&&s.state.scriptData[0]&&s.state.scriptData[0].totalScripts?s.state.scriptData[0].totalScripts.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" kernels":" "},s.onFiltersChanged=function(e){s.setState({filters:e,scriptData:[],hasMoreData:!0,hasLoadedSomeData:!1},function(){return s.loadMoreData(e)})},s.onNewSort=function(e){s.showMobileSortMenu(!1),s.filterManager.updateFilters(s.state.filters,{sortBy:e})},s.onNewLanguage=function(e){s.showMobileSortMenu(!1),s.filterManager.updateFilters(s.state.filters,{language:e})},s.onNewOutputType=function(e){s.showMobileSortMenu(!1),s.filterManager.updateFilters(s.state.filters,{outputType:e})},s.onNewOutputTypeClickEvent=function(e,t){t.preventDefault(),s.onNewOutputType(e)},s.onNewLanguageClickEvent=function(e,t){t.preventDefault(),s.onNewLanguage(e)},s.onScroll=function(){s.state.hasMoreData&&!s.state.isLoadingMoreData&&s.loadMoreData(s.state.filters)},s.onNewKernelClick=function(){ga("send","event","kernel","new-kernel-clicked"),s.newKernelModal.show()},s.myScriptsToggle=function(e){var t="my"===e;if(!l.Current.userId)return void(document.location.href=s.props.loginAndReturnUrl);s.setState({onlyMyScripts:t,selectionGroup:e},function(){var e=s.state.onlyMyScripts?l.Current.userId.toString():"";s.filterManager.updateFilters(s.state.filters,{userId:e})})},s.renderOutputTypeOption=function(t){return e.createElement("span",null,e.createElement("span",{className:o("fa",w[t.value.toLowerCase()])})," ",t.label)},s.searchOptionsList=function(e,t){for(var n=0,a=e;n<a.length;n++){var i=a[n];if(i.value==t)return i}return e[0]},s.defaultFilters={sortBy:"hotness",language:"all",outputType:"all",userId:""},s.filterManager=new S(s.onFiltersChanged,s.defaultFilters),s.props.userId?s.initForUserProfile():s.initForScriptsTab(),s.state={filters:a.__assign({},s.defaultFilters,s.initialFilters),scriptData:s.props.initialScriptsToShow||[],isLoadingMoreData:!1,hasMoreData:!0,onlyMyScripts:!1,selectionGroup:s.props.selectionGroup,availableLanguages:[{label:"All Languages",value:"all"}],availableOutputs:[{label:"All Output Types",value:"all"}],hasLoadedSomeData:!1,shouldShowMobileSortMenu:!1},s}return a.__extends(n,t),n.prototype.initForUserProfile=function(){var e=this;this.availableSelectionGroups=[{key:"my",name:this.props.userId===l.Current.userId?"Mine":"Published",action:function(){return e.onSelectionGroupChange("my")}},this.props.showHiddenSelectionGroup?{key:"hidden",name:"Hidden",action:function(){return e.onSelectionGroupChange("hidden")}}:null,{separator:!0},{key:"upvoted",name:"Upvoted",action:function(){return e.onSelectionGroupChange("upvoted")}}],this.initialFilters={userId:this.props.userId,sortBy:"votes"},this.availableSortingOrders=[{value:"votes",label:"Most Votes"},{value:"hotness",label:"Hotness"},{value:"date",label:"Most Recent"}]},n.prototype.initForScriptsTab=function(){var e=this;this.availableSelectionGroups=[{key:"everyone",name:"All",action:function(){return e.myScriptsToggle("everyone")}},{key:"my",name:"Mine",action:function(){return e.myScriptsToggle("my")}}],this.initialFilters={},this.availableSortingOrders=[{value:"hotness",label:"Hotness"},{value:"votes",label:"Most Votes"},{value:"date",label:"Most Recent"}]},n.prototype.componentDidMount=function(){this.filterManager.scriptListWillMount(),this.props.showFilters&&(this.loadLanguagesMetadata(),this.loadOutputTypesMetadata()),!(this.props.initialScriptsToShow&&this.props.initialScriptsToShow.length>0)&&this.loadMoreData(a.__assign({},this.state.filters,window.history.state)),window.location.search.indexOf("modal=true")>0&&this.newKernelModal.show()},n.prototype.componentWillUnmount=function(){this.filterManager.scriptListWillUnmount(),this.currentDataRequest&&this.currentDataRequest.abort()},n.prototype.onSelectionGroupChange=function(e){var t=this;this.setState({filters:a.__assign({},this.state.filters,{group:e}),scriptData:[],hasMoreData:!0,selectionGroup:e},function(){t.loadMoreData(t.state.filters)})},n.prototype.loadLanguagesMetadata=function(){var e=this;i.getJSON(this.props.languagesMetadataUrl,function(t){e.setState({availableLanguages:[{label:"All Languages",value:"all"}].concat(t.map(function(e){return{label:e,value:e}}))})})},n.prototype.loadOutputTypesMetadata=function(){var e=this;i.getJSON(this.props.outputTypesMetadataUrl,function(t){e.setState({availableOutputs:[{label:"All Output Types",value:"all"}].concat(t.map(function(e){return{label:e,value:e}}))})})},n.prototype.showMobileSortMenu=function(e){this.setState({shouldShowMobileSortMenu:e})},n.prototype.render=function(){var t=this,n=this.state.isLoadingMoreData?e.createElement("div",{className:"script-list-react__message"},"Loading ",this.state.hasLoadedSomeData?"more ":"","kernels..."):null,a=this.state.hasMoreData?null:e.createElement("div",{className:"script-list-react__message"},e.createElement("span",null,"No ",this.state.hasLoadedSomeData?"more ":"","kernels to show"),e.createElement("br",null)),i=e.createElement("div",null,e.createElement(g.MediaQuery,{minWidth:g.Breakpoints.desktopMin},e.createElement("div",{className:"script-list-react__sort"},e.createElement("div",{className:"script-list-react__sort-label"},"Sort by"),e.createElement(u.SelectBox,{options:this.availableSortingOrders,onChange:this.onNewSort,searchable:!1,value:this.state.filters.sortBy||this.defaultFilters.sortBy}))),e.createElement(g.MediaQuery,{minWidth:0,maxWidth:g.Breakpoints.tabletMax},e.createElement("a",{className:"script-list-react__sort-link--mobile",onClick:function(e){return t.showMobileSortMenu(!0)}},"Filter/Sort ",e.createElement("span",{className:"fa fa-angle-right"})))),s=e.createElement(g.MediaQuery,{minWidth:g.Breakpoints.desktopMin},e.createElement("div",{className:"script-list-react__filters"},e.createElement(u.SelectBox,{options:this.state.availableLanguages,onChange:this.onNewLanguage,searchable:!1,value:this.state.filters.language||this.defaultFilters.language,className:"KaggleBoxlessSelectSafe script-list-react__filters__language"}),e.createElement(u.SelectBox,{options:this.state.availableOutputs,onChange:this.onNewOutputType,value:this.state.filters.outputType||this.defaultFilters.outputType,searchable:!1,optionRenderer:this.renderOutputTypeOption,valueRenderer:this.renderOutputTypeOption,className:"KaggleBoxlessSelectSafe script-list-react__filters__output-type"}))),o=e.createElement("div",{className:"script-list-react__selection-groups"},e.createElement(h.SelectionGroup,{children:this.availableSelectionGroups,filters:s,selected:this.state.selectionGroup}));return this.props.isHidden?null:e.createElement("div",null,this.props.banner&&e.createElement(p.Banner,{title:"Kernels",callToActionText:l.Current.hasMultipleDataSources&&"New Kernel",onCallToActionClick:this.onNewKernelClick,infoTitle:"Welcome to Kaggle Kernels",infoSubtitle:"The best place to explore data science results and share your own work",bannerImageClassName:"script-list-react__banner-image",infoBanner:this.props.banner,hideCallToActionOnSmallDisplays:!1,panels:[{imageSrc:"/static/images/scripts-code.svg",title:"Code",description:"Skip the download. Kernels is preloaded with the most common data science languages and libraries."},{imageSrc:"/static/images/scripts-learn.svg",title:"Learn",description:"Gain exposure to new tools and techniques. The “hottest” kernels showcase the best work on Kaggle."},{imageSrc:"/static/images/scripts-mentor.svg",title:"Mentor",description:"Give back by sharing what you know. You can answer questions and leave feedback on others’ code and results."}]}),e.createElement("div",{className:"script-list-react__wrapper"},e.createElement(r.ContentBox,{title:this.getListTitle(),titleBarRightSide:this.props.showFilters?i:null,subTitleBar:this.props.showFilters?o:null},e.createElement("div",{className:"script-list-react"},e.createElement(m.WindowInfiniteScroll,{onScroll:function(){return t.onScroll()}},e.createElement("div",null,this.state.scriptData.map(function(n,a){return e.createElement(v.BlockLink,{href:n.scriptUrl,key:a},e.createElement(T,{scriptData:n,handleLanguageChange:t.onNewLanguageClickEvent,handleOutputTypeChange:t.onNewOutputTypeClickEvent,showScriptProjectColumn:t.props.showScriptProjectName,showProjectThumbnails:!!t.props.userId}))})),n,a)))),e.createElement(g.MediaQuery,{minWidth:0,maxWidth:g.Breakpoints.tabletMax},e.createElement(f.OffCanvasContainer,{closeButtonCallback:function(){return t.showMobileSortMenu(!1)},shouldShowOffCanvas:this.state.shouldShowMobileSortMenu,shouldUseCloseButton:!0,shouldUseRightSide:!0},e.createElement("div",{className:"script-list-react__sort-menu--mobile"},e.createElement("p",{className:"script-list-react__sort-label--mobile"},"Sort by"),e.createElement(u.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.availableSortingOrders,onChange:this.onNewSort,searchable:!1,value:this.state.filters.sortBy||this.defaultFilters.sortBy}),e.createElement("p",{className:"script-list-react__sort-label--mobile"},"Languages"),e.createElement(u.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.state.availableLanguages,onChange:this.onNewLanguage,searchable:!1,value:this.state.filters.language||this.defaultFilters.language}),e.createElement("p",{className:"script-list-react__sort-label--mobile"},"Output Types"),e.createElement(u.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.state.availableOutputs,onChange:this.onNewOutputType,value:this.state.filters.outputType||this.defaultFilters.outputType,searchable:!1,optionRenderer:this.renderOutputTypeOption,valueRenderer:this.renderOutputTypeOption})))),e.createElement(C.NewKernelModal,{ref:function(e){return t.newKernelModal=e}}))},n}(e.Component);t.ScriptList=N;var T=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderOutputType=function(t){var n=this,a=function(){switch(t.extension){case"Notebook":return["fa-globe","This script outputs a notebook"];case"Visualization":return["fa-bar-chart","This script outputs "+s("visualization",t.count,!0)];case"Data":return["fa-table","This script outputs "+t.count+" data "+s("file",t.count)];case"Other":return["fa-file-text-o","This script outputs "+t.count+" other types of "+s("file",t.count)];default:return["","Unknown"]}}();return e.createElement(_.ToolTip,{tipText:a[1].toString(),key:t.extension},e.createElement("a",{className:"scripts__item-info-block--link",onClick:function(e){return n.props.handleOutputTypeChange(t.extension,e)}},e.createElement("span",{className:"fa "+a[0]})))},n.prototype.abbrLanguage=function(e){switch(e){case"Python":return"Py";case"R":return"R";case"Julia":return"Ju";case"SQLite":return"SQL";default:return null}},n.prototype.renderOptionalForkSection=function(){var t=function(e){return s("line",e,!0)};return this.props.scriptData.isFork?e.createElement("span",null,"(",e.createElement("span",{title:t(this.props.scriptData.forkDiffLinesInserted)+" inserted / "+t(this.props.scriptData.forkDiffLinesDeleted)+" deleted / "+t(this.props.scriptData.forkDiffLinesChanged)+" changed from parent script"}," ",e.createElement("a",{href:this.props.scriptData.forkDiffUrl},e.createElement("span",{className:"scripts__item-diff"},e.createElement("span",{className:"scripts__item-diff-inserted"},"+",this.props.scriptData.forkDiffLinesInserted)," / ",e.createElement("span",{className:"scripts__item-diff-deleted"},"-",this.props.scriptData.forkDiffLinesDeleted)," / ",e.createElement("span",{className:"scripts__item-diff-changed"},"~",this.props.scriptData.forkDiffLinesChanged)))," )")):null},n.prototype.renderOptionalScriptProjectName=function(){return this.props.showScriptProjectColumn?e.createElement("span",null,l.Current.hasMultipleDataSources&&this.props.scriptData.dataSources.length>1?e.createElement("span",null,"with ",e.createElement("a",{href:this.props.scriptData.scriptInputUrl},"multiple data sources")):l.Current.hasMultipleDataSources&&0===this.props.scriptData.dataSources.length?e.createElement("span",null,"with ",e.createElement("a",{href:"/kaggle/no-data-sources"},"no data sources")):l.Current.hasMultipleDataSources&&1===this.props.scriptData.dataSources.length?e.createElement("span",null,"in ",e.createElement("a",{href:this.props.scriptData.dataSources[0].url},this.props.scriptData.dataSources[0].name)):e.createElement("span",null,"in ",e.createElement("a",{href:this.props.scriptData.projectScriptsUrl},this.props.scriptData.projectName))):null},n.prototype.render=function(){var t=this,n=this.props.scriptData,a=this.props.scriptData,i=a.dataSources,o=a.projectName,r=a.projectScriptsUrl,l=(a.scriptInputUrl,o||0===i.length&&"No Data Sources"||1===i.length&&i[0].name||"Multiple Data Sources"),p=r||0===i.length&&"/kaggle/no-data-sources"||1===i.length&&i[0].url||n.scriptInputUrl;return this.props.isHidden?null:e.createElement("div",{className:"scripts"},e.createElement("div",{className:"scripts__item-meta"},e.createElement("div",{className:"scripts__item-votes"},e.createElement(d.VoteButton,{totalVotes:n.totalVotes,hasAlreadyVotedUp:n.currentUserHasVotedForThisScript,voteUpUrl:"/kernels/vote?id="+n.id,canDownvote:!1,canUpvote:!0,voteDownUrl:null,hasAlreadyVotedDown:null,upVoteIntercomEventName:"upvote_script"})),e.createElement(g.MediaQuery,{minWidth:g.Breakpoints.tabletMin},e.createElement("div",{className:"scripts__item-image-wrapper"},this.props.showProjectThumbnails?e.createElement(_.ToolTip,{tipText:l},e.createElement("a",{href:p},e.createElement("img",{src:n.projectThumbnailUrl,className:"scripts__item-image scripts__item-image--left"}))):e.createElement(b.Avatar,{thumbnailUrl:n.author.avatarThumbnailUrl,userUrl:n.author.profileUrl,displayName:n.author.displayName,tier:n.author.tier,width:40}))),e.createElement("div",{className:"scripts__item-medals"},null!=this.props.scriptData.medal?e.createElement("img",{src:"/static/images/medals/kernels/"+this.props.scriptData.medal+"L@2x.png",title:"${this.props.scriptData.medal}"}):null))," ",e.createElement("div",{className:"scripts__item-synopsis"},e.createElement("div",{className:"scripts__item-info"},e.createElement("a",{className:"scripts__item-name",href:n.scriptUrl},n.title,n.isPrivate&&e.createElement(E.Badge,{text:"Private",icon:"fa-eye-slash",option:"info"})),e.createElement("p",{className:"scripts__item-details"},e.createElement("span",null,"run "),e.createElement(c.TimeAgo,{time:n.lastRunTime})," by ",e.createElement("a",{href:n.author.profileUrl},n.author.displayName)," ",this.renderOptionalForkSection()," ",this.renderOptionalScriptProjectName())),e.createElement("div",{className:"scripts__item-info-blocks"},n.outputTypes.map(function(e){return t.renderOutputType(e)}),e.createElement(_.ToolTip,{tipText:"This script is written in "+n.languageName},e.createElement("a",{className:"scripts__item-info-block--link",onClick:function(e){return t.props.handleLanguageChange(n.languageName,e)}},this.abbrLanguage(n.languageName))),n.totalComments>0?e.createElement(_.ToolTip,{tipText:"This script has "+n.totalComments+" "+s("comment",n.totalComments)},e.createElement("a",{className:"scripts__item-info-block--comment",href:n.scriptCommentsUrl},e.createElement("span",null,n.totalComments," ",e.createElement("span",{className:"fa fa-comments"})))):e.createElement(g.MediaQuery,{minWidth:g.Breakpoints.tabletMin},e.createElement("div",{className:"scripts__item-info-block--no-comment"}))))," ")},n}(e.Component)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("span",{className:"badge badge--"+(this.props.option||"default")},this.props.icon&&e.createElement("i",{className:"badge__icon fa "+this.props.icon}),this.props.text)},n}(e.Component);t.Badge=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(81),s=n(8),o=n(3),r=function(t){function n(e){var n=t.call(this,e)||this;return n.state={infoBannerIsVisible:!!n.props.infoBanner&&n.props.infoBanner.isVisible},n}return a.__extends(n,t),n.prototype.onDismiss=function(){o.ajax({type:"POST",url:this.props.infoBanner.dismissBannerUrl}),this.setState({infoBannerIsVisible:!1})},n.prototype.renderCallToAction=function(){return this.props.callToActionText?e.createElement("div",{className:s("title-banner__call-to-action",this.props.hideCallToActionOnSmallDisplays?"title-banner__call-to-action--hide-on-small-displays":null)},e.createElement(i.Button,{text:this.props.callToActionText,href:this.props.callToActionUrl,onClick:this.props.onCallToActionClick}),this.props.callToActionText2?e.createElement("span",{style:{marginRight:"15px"}}):null,this.props.callToActionText2?e.createElement(i.Button,{text:this.props.callToActionText2,href:this.props.callToActionUrl2,onClick:this.props.onCallToActionClick2}):null):null},n.prototype.render=function(){var t=this;return e.createElement("div",null,e.createElement("div",{className:s("title-banner",this.props.bannerImageClassName,this.state.infoBannerIsVisible?"title-banner--show-only-on-mobile":null)},e.createElement("div",{className:"title-banner__inside"},e.createElement("div",{className:"title-banner__title-container"},e.createElement("div",{className:"title-banner__title"},this.props.title)),this.renderCallToAction())),this.state.infoBannerIsVisible?e.createElement("div",{className:"info-banner info-banner--hide-on-mobile"},e.createElement("div",{className:"info-banner__container"},e.createElement("div",{className:"info-banner__main-content"},e.createElement("h1",{className:"info-banner__title"},this.props.infoTitle),e.createElement("h2",{className:"info-banner__subtitle"},this.props.infoSubtitle),e.createElement("hr",{className:"info-banner__divider"}),e.createElement("ul",{className:"info-banner__details"},this.props.panels.map(function(t,n){return e.createElement("li",{className:"info-banner__detail",key:n},e.createElement("img",{alt:t.title,className:"info-banner__detail-image",src:t.imageSrc}),e.createElement("h3",{className:"info-banner__detail-title"},t.title),e.createElement("p",{className:"info-banner__detail-text"},t.description))})),this.renderCallToAction())),this.props.infoBanner.dismissBannerUrl?e.createElement("div",{className:"info-banner__dismiss-container"},e.createElement("span",{className:"info-banner__dismiss",onClick:function(){return t.onDismiss()}},e.createElement("span",{className:"fa fa-times"})," Dismiss")):null):null)},n}(e.Component);t.Banner=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(t){function n(e){var n=t.call(this,e)||this;return n.onResize=function(){var e=a.findDOMNode(n.refs.overflowX);if(e){var t=e.clientWidth-1,i=e.clientWidth+1;n.setState({canScrollX:t>e.scrollWidth||i<e.scrollWidth})}},n.state={hasScrolledToBeginning:!0,hasScrolledToEnd:!1},n}return i.__extends(n,t),n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},n.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize,!1),window.setTimeout(this.onResize)},n.prototype.onScroll=function(){var e=a.findDOMNode(this.refs.overflowX),t=e.getBoundingClientRect().width;this.setState({hasScrolledToBeginning:0==e.scrollLeft,hasScrolledToEnd:t+e.scrollLeft==e.scrollWidth})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"overflow-x__wrapper"},e.createElement("div",{className:"overflow-x",ref:"overflowX",onScroll:function(){return t.onScroll()}},this.props.children,this.state.canScrollX&&!this.state.hasScrolledToBeginning?e.createElement("div",{className:"overflow-x__scroll-indicator--left"}):null,this.state.canScrollX&&!this.state.hasScrolledToEnd?e.createElement("div",{className:"overflow-x__scroll-indicator--right"}):null))},n}(e.Component);t.OverflowX=s}).call(t,n(0),n(109))},function(e,t,n){"use strict";function a(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}function i(e){return e.replace(/-+/g," ")}Object.defineProperty(t,"__esModule",{value:!0}),t.slugify=a,t.deslugify=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(284),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.componentDidUpdate=function(){this.updateMathJax()},n.prototype.componentDidMount=function(){this.updateMathJax()},n.prototype.updateMathJax=function(){var e=(this.props.rawHtml||"")+" "+(this.props.rawMarkdown||"");i.Render(e,this.renderedDiv)},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"forum-message-content",dangerouslySetInnerHTML:{__html:this.props.rawHtml||""},ref:function(e){t.renderedDiv=e}})},n}(e.Component);t.ForumMessageContent=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=n(973),o=[{label:"Private",value:"private"},{label:"Public",value:"public"}],r=function(t){function n(n){var a=t.call(this,n)||this;return a.onPrivacyChange=function(e){"public"===e&&a.showModal()},a.onLinkClick=function(){a.showModal()},a.onConfirm=function(){a.setState({isConfirmShown:!1,isPrivate:!1}),a.props.onChangeToPublic()},a.onCancel=function(){a.setState({isConfirmShown:!1})},a.renderOption=function(t){return"private"===t.value?e.createElement("span",null,e.createElement("i",{className:"fa fa-eye-slash"})," Private"):e.createElement("span",null,e.createElement("i",{className:"fa fa-eye"})," Public")},a.state={isConfirmShown:!1,isPrivate:a.props.isPrivate},a}return a.__extends(n,t),n.prototype.showModal=function(){this.setState({isConfirmShown:!0})},n.prototype.renderToggle=function(){return"SelectBox"===this.props.displayMode?e.createElement(i.SelectBox,{className:"privacy-toggle__privacy-select--select-box",options:o,onChange:this.onPrivacyChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption,searchable:!1,value:"private",disabled:this.props.disabled}):e.createElement("span",{className:"privacy-toggle__privacy-select--link"},e.createElement("i",{className:"fa fa-eye-slash"})," Private",!this.props.disabled&&e.createElement("span",{className:"privacy-toggle__make-public-link",onClick:this.onLinkClick},"Make Public"))},n.prototype.render=function(){return e.createElement("div",{className:"privacy-toggle"},e.createElement("div",null,this.state.isPrivate?this.renderToggle():e.createElement("span",{className:"privacy-toggle__public-indicator"},this.renderOption(o[1]))),e.createElement(s.PrivacyModal,{onConfirm:this.onConfirm,onCancel:this.onCancel,isShown:this.state.isConfirmShown,kernelType:this.props.kernelType,scriptId:this.props.scriptId}))},n}(e.Component);t.PrivacyToggle=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(45),o=n(204),r=function(t){function n(e){var n=t.call(this,e)||this;return n.getOptions=function(e,t){!e&&t(null,{options:null,complete:!1}),n.searchMapsApi(e,t)},n.searchMapsApi=function(e,t){var i=["locality","neighborhood","administrative_area_level_2","administrative_area_level_1","country"],o=encodeURIComponent(e.trim());a.get("https://maps.googleapis.com/maps/api/geocode/json?address="+o+"&sensor=false").then(function(e){var a=s.chain(e.results).map(function(e){var t=function(t){return n.getAddressLongName(e.address_components,t)},a=i.map(t),s=a[0],o=a[1],r=a[2],l=a[3],c=a[4];return[o||s||r,l,c]}).map(function(e){var t=e.filter(Boolean).join(", ");return{value:t,label:t}}).value();t(null,{options:a,complete:!1})})},n.onChange=function(e){if(e&&e.value){var t=e.value.split(", ");2===t.length?n.props.onChange(t[0],null,t[1]):n.props.onChange(t[0],t[1],t[2])}else n.props.onChange(null,null,null)},n.searchMapsApi=s.debounce(n.searchMapsApi,250),n}return i.__extends(n,t),n.prototype.getAddressLongName=function(e,t){var n=e.filter(function(e){return e.types.some(function(e){return e===t})});return n.length>0?n[0].long_name:null},n.prototype.render=function(){var t=[this.props.city,this.props.region,this.props.country].filter(Boolean).join(", ");return e.createElement(o.Async,{placeholder:this.props.city?t:"City",name:"city",value:t,minimumInput:3,loadOptions:this.getOptions,onChange:this.onChange,filterOption:function(e,t){return e}})},n}(e.Component);t.CityLookup=r}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),s=n(8),o=n(143);n(1124),n(1123),n(1126),n(1125),n(1127);var r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAutocompleteHints=function(t,n){i.Current.log("Beginning autocomplete.");var a=e.codeMirror.getDoc(),s=a.getCursor();o.Pos(s.line,s.ch);e.props.getAutocomplete(a.getValue(),a.indexFromPos(s),function(e,t,i){var s=a.posFromIndex(t),o=a.posFromIndex(i);n({list:e,from:s,to:o})})},e.shouldFireAutocomplete=function(){var t=e.codeMirror.getDoc(),n=t.getCursor();if(!n.ch)return!1;var a=t.getValue(),i=t.indexFromPos(n),s=t.indexFromPos({line:n.line,ch:0});return!!/\S/.test(a.slice(s,i))},e.handleAutocomplete=function(){var t=e.codeMirror.getDoc();if(!e.props.getAutocomplete||!e.shouldFireAutocomplete()){if(t.somethingSelected())e.codeMirror.execCommand("indentMore");else{var n=Array(e.codeMirror.getOption("indentUnit")+1).join(" ");t.replaceRange(n,t.getCursor(),null)}return void(e.props.onChange&&e.props.onChange(t.getValue()))}var a=e.getAutocompleteHints;a.async=!0,e.codeMirror.showHint({hint:a})},e.focusChanged=function(t){e.setState({isFocused:t}),e.props.onFocusChange&&e.props.onFocusChange(t)},e.codeMirrorValueChanged=function(t,n){var a=t.getValue();e.currentCodeMirrorValue=a,n.origin&&"setValue"!==n.origin&&e.props.onChange&&e.props.onChange(a)},e}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;this.codeMirror=o.fromTextArea(this.textarea,this.props.options),this.codeMirror.on("change",this.codeMirrorValueChanged),this.props.onFocusChange&&(this.codeMirror.on("focus",function(){e.props.onFocusChange(!0)}),this.codeMirror.on("blur",function(){e.props.onFocusChange(!1)})),this.codeMirror.on("blur",function(){window.setTimeout(function(){e.codeMirror.getDoc().setSelection({line:0,ch:0},{line:0,ch:0})})}),this.props.onMouseUp&&this.codeMirror.on("mosueup",this.props.onMouseUp),this.currentCodeMirrorValue=this.props.defaultValue||this.props.value||"",this.codeMirror.setValue(this.currentCodeMirrorValue),this.codeMirror.setOption("extraKeys",{Tab:this.handleAutocomplete,"Ctrl-Space":this.handleAutocomplete,"Shift-Tab":"indentLess",Up:function(){if(0!==e.codeMirror.getDoc().getCursor().line||!e.props.canMoveUp())return o.Pass;e.props.onMoveUp()},Down:function(){var t=e.codeMirror.getDoc();if(t.getCursor().line!==t.lineCount()-1||!e.props.canMoveDown())return o.Pass;e.props.onMoveDown()},"Shift-Enter":this.props.onShiftEnter,"Alt-Enter":this.props.onShiftEnter,"Ctrl-Enter":this.props.onCtrlEnter,"Cmd-Enter":this.props.onCtrlEnter}),this.props.hasFocus&&window.setTimeout(function(){return e.codeMirror.focus()})},n.prototype.componentWillUnmount=function(){this.codeMirror&&this.codeMirror.toTextArea()},n.prototype.componentWillReceiveProps=function(e){var t=this;if(this.codeMirror&&e.hasFocus&&!this.codeMirror.hasFocus()&&window.setTimeout(function(){t.codeMirror.hasFocus()||(t.codeMirror.refresh(),t.codeMirror.focus())},0),this.codeMirror&&void 0!==e.value&&null!==e.value&&this.currentCodeMirrorValue!==e.value&&this.codeMirror.setValue(e.value),"object"==typeof e.options)for(var n in e.options)e.options.hasOwnProperty(n)&&this.codeMirror.setOption(n,e.options[n])},n.prototype.focus=function(){this.codeMirror&&this.codeMirror.focus()},n.prototype.render=function(){var t=this,n=s("code-mirror-editor",this.props.className);return e.createElement("div",{className:n},e.createElement("textarea",{ref:function(e){t.textarea=e},defaultValue:this.props.value,autoComplete:"off"}))},n}(e.Component);t.CodeMirrorEditor=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(82),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getSuffix=function(){var e=this.props.number%100;if(e>10&&e<20)return"th";switch(this.props.number%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},n.prototype.render=function(){var t=this.props.superscript?{verticalAlign:"super",fontSize:"0.5em"}:{},n=e.createElement("span",{style:t},this.getSuffix());return e.createElement("span",null,e.createElement(i.FormatNumber,{number:this.props.number}),n)},n}(e.Component);t.FormatPlace=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(81),r=n(8),l=function(){function e(e,t){this.size=t,this.point=e,this.left=e.left,this.top=e.top,this.width=t.width,this.height=t.height}return e}();t.Rectangle=l;var c=function(){function e(e,t){this.left=e,this.top=t}return e}();t.Point=c;var p=function(){function e(e,t,n,a){this.title=e,this.information=t,this.size=n,this.rect=a}return e}();t.ImageSetting=p;var u=function(){function e(e,t){var n=this;this.getAspect=function(){return n.width/n.height},this.width=e,this.height=t}return e}();t.Size=u;var d=2,m=function(t){function n(e){var n=t.call(this,e)||this;return n.validExtensions=["png","jpg"],n.getHiResScale=function(){return 2},n.onMouseDown=function(e,t){if(0===e.button){a.findDOMNode(n).getBoundingClientRect();n.setState(i.extend({},n.state,{isDragging:!0,dragMode:t,dragStartMousePosition:new c(e.pageX,e.pageY),dragStartSelectorRect:n.state.selectorRect})),e.stopPropagation(),e.preventDefault()}},n.onMouseUp=function(e){n.setState(i.extend({},n.state,{isDragging:!1})),e.stopPropagation(),e.preventDefault()},n.onMouseMove=function(e){if(n.state.isDragging){var t=e.pageX-n.state.dragStartMousePosition.left,a=e.pageY-n.state.dragStartMousePosition.top,s="move"==n.state.dragMode,o="ul"==n.state.dragMode||"ll"==n.state.dragMode,r="ul"==n.state.dragMode||"ur"==n.state.dragMode,p="ur"==n.state.dragMode||"lr"==n.state.dragMode,d="lr"==n.state.dragMode||"ll"==n.state.dragMode;o&&(t=Math.max(-n.state.dragStartSelectorRect.left,t)),r&&(a=Math.max(-n.state.dragStartSelectorRect.top,a));var m=n.state.dragStartSelectorRect.width+(s?0:t)*(o?-1:1),h=n.state.dragStartSelectorRect.height+(s?0:a)*(r?-1:1);p&&(m=Math.min(m,n.state.imageRect.width-n.state.selectorRect.left)),d&&(h=Math.min(h,n.state.imageRect.height-n.state.selectorRect.top));var g=n.state.imageRect.width/n.state.originalSize.width;m=Math.max(Math.round(n.state.selectedImageSize.width*g*n.getHiResScale()),m),h=Math.max(Math.round(n.state.selectedImageSize.height*g*n.getHiResScale()),h);var f=m/h,v=n.state.selectedImageSetting.size,_=v.width/v.height,b=n.state.dragStartSelectorRect.left+(s||o?t:0),E=n.state.imageRect.width-m,y=n.state.dragStartSelectorRect.top+(s||r?a:0),C=n.state.imageRect.height-h,w=Math.max(Math.min(b,E),0),S=Math.max(Math.min(y,C),0);o&&w+m>n.state.selectorRect.left+n.state.selectorRect.width&&(w=n.state.selectorRect.left+n.state.selectorRect.width-m),r&&S+h>n.state.selectorRect.top+n.state.selectorRect.height&&(S=n.state.selectorRect.top+n.state.selectorRect.height-h),f>_&&(m=Math.round(h*_),o&&(w=n.state.dragStartSelectorRect.left+n.state.dragStartSelectorRect.width-m)),f<_&&(h=Math.round(m/_),r&&(S=n.state.dragStartSelectorRect.top+n.state.dragStartSelectorRect.height-h));var N=new l(new c(w,S),new u(m,h));n.getScaledRect(n.state.originalSize.width/n.state.imageRect.width,N);n.setState(i.extend({},n.state,{selectorRect:N,selectedImageSetting:i.extend(n.state.selectedImageSetting,{rect:N})})),e.stopPropagation(),e.preventDefault()}},n.onFileChange=function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0].name.split(".").pop();if(0==n.validExtensions.filter(function(e){return e===t}).length)return void n.setState(i.extend({},n.state,{invalidExtension:t}));n.setState(i.extend({},n.state,{imageLoaded:!1,isLoadingImage:!0,tooSmallImageSize:null,invalidExtension:null}));var a=new FileReader;a.onload=function(e){var t=new Image,a=e.target.result;t.src=a,t.onload=function(){if(t.width<n.state.minimumImageSize.width||t.height<n.state.minimumImageSize.height)return void n.setState(i.extend({},{tooSmallImageSize:new u(t.width,t.height),imageLoaded:!0,isLoadingImage:!1}));n.setState(i.extend({},n.state,{imageUrl:a}))}},a.readAsDataURL(e.target.files[0])}},n.onImageLoad=function(e){n.updateImage(e.target.src,e.target.naturalWidth,e.target.naturalHeight)},n.onUpdateImages=function(){n.setState(i.extend({},n.state,{uploadInProgress:!0}));var e=i("#uploadForm"+(n.props.uploaderKey||""))[0],t=new FormData(n.state.tooSmallImageSize?null:e),a=Math.min(n.state.originalSize.width/n.state.imageRect.width,n.state.originalSize.height/n.state.imageRect.height),s=n.state.imageSettings.map(function(e){return new l(new c(e.rect.left*a,e.rect.top*a),new u(e.rect.width*a,e.rect.height*a))});n.props.onUpdateImages(t,s,n.handleImageUploadFailed).then(function(){n.setState(i.extend({},n.state,{uploadInProgress:!1}))})},n.handleImageUploadFailed=function(){n.setState(i.extend({},n.state,{showImageUploadFailed:!0}))},n.setStep=function(e){var t=n.state.imageSettings[e-d]||n.state.imageSettings[0];n.setState(i.extend({},{currentStep:e,selectedImageSetting:t,selectorRect:t.rect,selectedImageSize:t.size}))},n.state={imageUrl:n.props.originalImageUrl,imageLoaded:!1,imageRect:new l(new c(0,0),new u(0,0)),selectorRect:new l(new c(0,0),new u(0,0)),imageSettings:n.props.imageSettings,minimumImageSize:n.getMinimumImageSize(),selectedImageSetting:n.props.imageSettings[0],isDragging:!1,selectedImageSize:n.props.imageSettings[0].size,uploadInProgress:!1,isLoadingImage:!1,currentStep:1},n}return s.__extends(n,t),n.prototype.getMinimumImageSize=function(){return new u(Math.max.apply(Math,this.props.imageSettings.map(function(e){return e.size.width}))*this.getHiResScale(),Math.max.apply(Math,this.props.imageSettings.map(function(e){return e.size.height}))*this.getHiResScale())},n.prototype.isLastStep=function(){return this.state.currentStep===this.props.imageSettings.length+d},n.prototype.getScaledSize=function(e,t){var n=t.width/t.height;return new u(n>e?Math.round(t.height*e):t.width,n<e?Math.round(t.width/e):t.height)},n.prototype.getScaledRect=function(e,t){return new l(new c(Math.round(t.point.left*e),Math.round(t.point.top*e)),new u(Math.round(t.size.width*e),Math.round(t.size.height*e)))},n.prototype.componentDidUpdate=function(e,t){this.state.isDragging&&!t.isDragging?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)):!this.state.isDragging&&t.dragging&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))},n.prototype.componentWillUnmount=function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},n.prototype.updateImage=function(e,t,n){if(!this.state.imageLoaded){for(var a=t/n,s=this.getScaledSize(a,this.props.containerSize),o=new l(new c(Math.round((this.props.containerSize.width-s.width)/2),Math.round((this.props.containerSize.height-s.height)/2)),new u(Math.round(s.width),Math.round(s.height))),r=(o.width,0),p=this.state.imageSettings;r<p.length;r++){var d=p[r],m=d.size.width/d.size.height,h=this.getScaledSize(m,o.size);d.rect=new l(new c(Math.round((o.width-h.width)/2),Math.round((o.height-h.height)/2)),this.getScaledSize(m,o.size))}this.setState(i.extend({},this.state,{imageUrl:e,originalSize:{width:t,height:n},imageRect:o,isLoadingImage:!1,imageLoaded:!0,selectorRect:this.state.imageSettings[0].rect,currentStep:e.indexOf("default-backgrounds")>0?1:2}))}},n.prototype.render=function(){var t=this,n={width:this.props.containerSize.width,height:this.props.containerSize.height,display:this.state.isLoadingImage||1!=this.state.currentStep?"none":""},a={width:this.props.containerSize.width,height:this.props.containerSize.height},s=(this.state.imageLoaded,{left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width,height:this.state.imageRect.height,display:this.state.imageLoaded&&!this.isLastStep()?"":"none"}),l={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top,width:this.state.selectorRect.width-2*this.props.selectorBorderWidth,height:this.state.selectorRect.height-2*this.props.selectorBorderWidth,borderWidth:this.props.selectorBorderWidth,cursor:this.state.isDragging?"":"move"},c={width:8,height:8},p=i.extend({},c,{left:l.left,top:l.top,marginLeft:-5,marginTop:-5,cursor:this.state.isDragging?"":"nwse-resize"}),m=i.extend({},c,{left:l.left+l.width-8,top:l.top,marginLeft:5,marginTop:-5,cursor:this.state.isDragging?"":"nesw-resize"}),h=i.extend({},c,{left:l.left,top:l.top+l.height-8,marginLeft:-5,marginTop:5,cursor:this.state.isDragging?"":"nesw-resize"}),g=i.extend({},c,{left:l.left+l.width-8,top:l.top+l.height-8,marginLeft:5,marginTop:5,cursor:this.state.isDragging?"":"nwse-resize"}),f=new u(.8*this.props.containerSize.width,.4*this.props.containerSize.height),v=this.state.imageSettings.map(function(e){var n=t.getScaledSize(e.size.getAspect(),f),a=0==e.rect.width?0:n.width/e.rect.width,s=i.extend({},n,{overflow:"hidden"});return{imageStyle:{width:Math.round(t.state.imageRect.width*a),height:Math.round(t.state.imageRect.height*a),left:Math.round(e.rect.left*-a),top:Math.round(e.rect.top*-a)},imageContainerStyle:s}}),_={left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.left,height:this.state.imageRect.height},b={left:this.state.imageRect.left+this.state.selectorRect.width+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width-this.state.selectorRect.width-this.state.selectorRect.left,height:this.state.imageRect.height},E={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.width,height:this.state.selectorRect.top},y={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top+this.state.selectorRect.height,width:this.state.selectorRect.width,height:this.state.imageRect.height-this.state.selectorRect.height-this.state.selectorRect.top},C=function(e){return r("image-uploader__step",t.state.currentStep==e?"image-uploader__step--current":t.state.currentStep>e?"image-uploader__step--complete":"image-uploader__step--pending",1==e||t.state.imageLoaded?"image-uploader__step--clickable":"")};return e.createElement("div",{className:r("image-uploader",this.state.uploadInProgress?"image-uploader--inprogress":null),style:{cursor:this.state.isDragging?"move"==this.state.dragMode?"move":"ul"==this.state.dragMode?"nwse-resize":"ur"==this.state.dragMode?"nesw-resize":"ll"==this.state.dragMode?"nesw-resize":"lr"==this.state.dragMode?"nwse-resize":"":""}},e.createElement("div",{className:"image-uploader__inprogressoverlay",style:this.state.uploadInProgress?null:{display:"none"}},e.createElement("div",{className:"image-uploader__inprogressmessage"},"Sending your images up. Hold tight...")),e.createElement("div",{className:"image-uploader__title-container"},e.createElement("div",{className:"image-uploader__title"},this.props.title),e.createElement("div",{className:"image-uploader__cancel",onClick:this.props.onCancel},"cancel")),e.createElement("ul",{className:"image-uploader__steps"},e.createElement("li",{className:C(1),onClick:function(){return t.setStep(1)}},"Upload image"),this.props.imageSettings.map(function(n,a){return e.createElement("li",{key:a,className:C(a+d),onClick:t.state.imageLoaded?function(){return t.setStep(a+d)}:null},"Crop ",n.title)}),e.createElement("li",{className:C(this.props.imageSettings.length+d),onClick:this.state.imageLoaded?function(){return t.setStep(t.props.imageSettings.length+d)}:null},"Preview images")),this.state.showImageUploadFailed?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"We ran into a problem. Try again or try a different image. ",e.createElement("a",{href:"/contact"},"Contact us")," if you need any help."):1==this.state.currentStep?this.state.tooSmallImageSize?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"The resolution of your image (",this.state.tooSmallImageSize.width,"x",this.state.tooSmallImageSize.height,") is lower than the minimum resolution (",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")."):this.state.invalidExtension?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"That file type (",this.state.invalidExtension,") is a not a supported image type (i.e. ",this.validExtensions.join(", "),")."):e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step 1"),": ",e.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.step1Html||"Upload an image by clicking the button below"}})):this.state.currentStep<this.props.imageSettings.length+d?e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),": ",this.props.imageSettings[this.state.currentStep-d].information):this.state.currentStep==this.props.imageSettings.length+d?e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),": Make sure everything looks good, then click the button below"):"",e.createElement("div",{className:"image-uploader__outer-container"},e.createElement("div",{className:r("fa","fa-chevron-circle-left","image-uploader__navigator",1==this.state.currentStep?"image-uploader__navigator--hidden":"image-uploader__navigator--enabled"),onClick:this.state.currentStep>1?function(){return t.setStep(t.state.currentStep-1)}:null}),e.createElement("div",{className:"image-uploader__container",style:a},this.state.isLoadingImage?e.createElement("div",{className:"image-uploader__loadercontainer"},e.createElement("div",{className:"image-uploader__loadermessage"},"Loading image...")):"",e.createElement("div",{className:"image-uploader__upload",style:n},e.createElement("form",{id:"uploadForm"+(this.props.uploaderKey||""),name:"uploadForm"+(this.props.uploaderKey||"")},e.createElement("input",{id:"imageUpload"+(this.props.uploaderKey||""),name:"imageUpload"+(this.props.uploaderKey||""),type:"file",onChange:this.onFileChange}),e.createElement("label",{className:"image-uploader__upload-button",htmlFor:"imageUpload"+(this.props.uploaderKey||"")},e.createElement("div",{className:"fa fa-upload image-uploader__upload-icon"}),e.createElement("div",null,"upload image"),e.createElement("div",{className:"image-uploader__upload-resolution"},"(min. ",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")")))),this.state.currentStep>1&&this.state.currentStep<this.props.imageSettings.length+d?e.createElement("div",null,e.createElement("div",{className:"image-uploader__selector",style:l,onMouseDown:function(e){return t.onMouseDown(e,"move")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:p,onMouseDown:function(e){return t.onMouseDown(e,"ul")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:m,onMouseDown:function(e){return t.onMouseDown(e,"ur")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:h,onMouseDown:function(e){return t.onMouseDown(e,"ll")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:g,onMouseDown:function(e){return t.onMouseDown(e,"lr")}}),e.createElement("div",{className:"image-uploader__overlay",style:_}),e.createElement("div",{className:"image-uploader__overlay",style:E}),e.createElement("div",{className:"image-uploader__overlay",style:b}),e.createElement("div",{className:"image-uploader__overlay",style:y})):"",v.map(function(n,a){return e.createElement("div",{key:a,style:t.state.currentStep<d+t.props.imageSettings.length?{display:"none"}:{},className:"image-uploader__preview"},e.createElement("div",{className:"image-uploader__previewimagecontainer",style:n.imageContainerStyle},e.createElement("img",{className:"image-uploader__previewimage",style:n.imageStyle,src:t.state.imageUrl})))}),e.createElement("img",{className:"image-uploader__image",src:this.state.imageUrl,style:s,onLoad:function(e){return t.onImageLoad(e)}}),this.state.currentStep==this.props.imageSettings.length+d?e.createElement("div",{className:"image-uploader__submitcontainer"},e.createElement(o.Button,{onClick:this.onUpdateImages,text:"Update Images"})):""),e.createElement("div",{className:r("fa","fa-chevron-circle-right","image-uploader__navigator",this.isLastStep()?"image-uploader__navigator--hidden":this.state.imageLoaded?"image-uploader__navigator--enabled":"image-uploader__navigator--disabled"),onClick:!this.isLastStep()&&this.state.imageLoaded?function(){return t.setStep(t.state.currentStep+1)}:null})))},n}(e.Component);t.ImageUploader=m}).call(t,n(0),n(109),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(1052),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.componentDidMount=function(){},n.prototype.componentWillUnmount=function(){},n.prototype.render=function(){var t={children:this.props.children,closeButtonCallback:this.props.closeButtonCallback,shouldShowOffCanvas:this.props.shouldShowOffCanvas,shouldUseCloseButton:this.props.shouldUseCloseButton,shouldUseRightSide:this.props.shouldUseRightSide};return e.createElement(s.OffCanvas,i.extend({},this.state,t))},n}(e.Component);t.OffCanvasContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(94),s=n(7),o=n(101),r=n(19),l=n(38),c=n(82),p=n(214),u=function(t){function n(e){var n=t.call(this,e)||this;return n.mode=e.children?"stats":"highlights",n}return a.__extends(n,t),n.prototype.formatNumber=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},n.prototype.getRank=function(){return"Top "+Math.min(Math.ceil(100*this.props.rankPercentage),100)+"%"},n.prototype.getTitle=function(){var t=this;return e.createElement("span",{className:"achievement-summary__title achievement-summary__title--"+(this.props.onProfileTabChanged?"link":"no-link"),onClick:this.props.onProfileTabChanged?function(){return t.props.onProfileTabChanged(t.props.summaryType)}:null},this.props.summaryType," ","stats"===this.mode?"Summary":this.props.tier)},n.prototype.getNoResultsMessage=function(){return"No "+this.props.summaryType.replace(/s$/,"")+" results"},n.prototype.shouldRenderComponent=function(){var e=!!this.props.children,t=!!this.props.highlights.length;return!e||t},n.prototype.renderScoreDescription=function(t){switch(this.props.summaryType){case"competitions":return e.createElement("div",null,e.createElement("p",null,e.createElement(p.FormatPlace,{number:t.score,superscript:!0})));default:return e.createElement("div",null,e.createElement("p",null,t.score),e.createElement("p",null,i("vote",t.score)))}},n.prototype.renderCompetitorCount=function(t){switch(this.props.summaryType){case"competitions":return e.createElement("div",{className:"achievement-summary__highlight__score-subtitle"},"of ",t.scoreOutOf);default:return e.createElement("div",null)}},n.prototype.renderRank=function(t){switch(this.props.summaryType){case"competitions":return e.createElement("span",null," · ","Top "+Math.min(Math.ceil(t.score/t.scoreOutOf*100),100)+"%");default:return e.createElement("span",null)}},n.prototype.renderMedal=function(t,n){return e.createElement("div",{className:"achievement-summary__medal achievement-summary__medal--"+n+" achievement-summary__medal--"+this.mode},e.createElement("p",null,e.createElement("img",{src:"/static/images/medals/"+this.props.summaryType+"/"+n+"L@1x.png",title:n})),e.createElement("p",null,t))},n.prototype.renderSmallMedal=function(t){return t?e.createElement("span",null,e.createElement("img",{src:"/static/images/medals/"+this.props.summaryType+"/"+t+"L@1x.png",title:t,height:"12px",width:"12 px",className:"achievement-summary__medal-small"})," · "):null},n.prototype.renderTeaserItem=function(t,n){return e.createElement(l.BlockLink,{href:t.url,key:n},e.createElement("div",{className:"achievement-summary__highlight"},e.createElement("div",{className:"achievement-summary__highlight__title"},e.createElement("p",null,e.createElement("a",{href:t.url,title:t.title},t.title)),e.createElement("p",{className:"achievement-summary__highlight__subtitle"},this.renderSmallMedal(t.medal),e.createElement(r.TimeAgo,{time:t.date}),this.renderRank(t))),e.createElement("div",{className:"achievement-summary__highlight__score"},this.renderScoreDescription(t)," ",this.renderCompetitorCount(t))))},n.prototype.renderTierIcon=function(){return e.createElement("img",{src:"/static/images/tiers/"+this.props.tier+"@48.png",title:this.props.tier,height:"30",width:"30"})},n.prototype.renderLargeTierIcon=function(){return e.createElement("img",{src:"/static/images/tiers/"+this.props.tier+"@192.png",title:this.props.tier,height:"70",width:"70"})},n.prototype.renderSummary=function(){return null!=this.props.rankCurrent&&this.props.highlights.length>0?this.props.rankCurrent>this.props.rankHighest?e.createElement("div",{className:"achievement-summary__rank-box-wrapper"},e.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},e.createElement("div",{className:"achievement-summary__rank-box achievement-summary__rank-box--current"},e.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Current Rank"),e.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankCurrent),e.createElement("div",{className:"achievement-summary__rank-label--bottom"}," of ",e.createElement(c.FormatNumber,{number:this.props.rankOutOf})))),e.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},e.createElement("div",{className:"achievement-summary__rank-box achievement-summary__rank-box--highest"},e.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Highest Rank"),e.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankHighest),e.createElement("div",{className:"achievement-summary__rank-label--bottom--empty"})))):e.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},e.createElement("div",{className:"achievement-summary__rank-box"},e.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Rank"),e.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankCurrent),e.createElement("div",{className:"achievement-summary__rank-label--bottom"}," of ",e.createElement(c.FormatNumber,{number:this.props.rankOutOf})))):e.createElement("div",{className:"achievement-summary__rank-box"},e.createElement("a",{href:"/progression/",className:"achievement-summary__rank-link"},e.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--smaller achievement-summary__rank-text--"+this.props.tier},"Unranked")))},n.prototype.render=function(){return this.shouldRenderComponent()?e.createElement(s.ContentBox,{title:this.getTitle(),titleBarRightSide:"highlights"===this.mode?this.renderTierIcon():null,contentClassName:"achievement-summary__content-box"},e.createElement("div",{className:"achievement-summary achievement-summary--"+this.mode},"stats"===this.mode?e.createElement("div",{className:"achievement-summary__tier"},e.createElement("div",null,this.renderLargeTierIcon()),e.createElement("div",null,this.props.summaryType,e.createElement("br",null),this.props.tier)):null,e.createElement("div",{className:"achievement-summary__wrapper achievement-summary__wrapper--"+this.props.summaryType},e.createElement("div",{className:"achievement-summary__rank"},this.renderSummary()),e.createElement("div",{className:"achievement-summary__medals"},this.renderMedal(this.props.totalGoldMedals,"gold"),this.renderMedal(this.props.totalSilverMedals,"silver"),this.renderMedal(this.props.totalBronzeMedals,"bronze")),"highlights"===this.mode?e.createElement("div",{className:"achievement-summary__items"},e.createElement(o.TeaserList,{listItems:this.props.highlights,listItemRenderer:this.renderTeaserItem.bind(this),emptyListMessage:this.getNoResultsMessage()})):null),"stats"===this.mode?e.createElement("div",{className:"achievement-summary__stats"},this.props.children):null)):null},n}(e.Component);t.AchievementSummary=u}).call(t,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1046),s=function(t){function n(e,n){var a=t.call(this,e)||this,i=window.location.href.substr(window.location.href.lastIndexOf("/")+1);return a.state={activeTabIndex:a.props.tabs.indexOf(a.props.tabs.find(function(e){return e.slug==i}))},a}return a.__extends(n,t),n.prototype.handleTabClick=function(e){var t=this.props.tabs.indexOf(this.props.tabs.find(function(t){return t.slug==e}));return this.setState({activeTabIndex:t}),history.pushState(null,null,this.props.baseUrl+"/"+e),!0},n.prototype.render=function(){var t=this.props.pages[this.state.activeTabIndex];return e.createElement("div",null,e.createElement(i.InfoTabBar,{tabs:this.props.tabs,cta:this.props.cta,activeTabIndex:this.state.activeTabIndex,handleClick:this.handleTabClick.bind(this)}),e.createElement("div",{className:"about-page-container"},e.createElement("div",{className:"about-page"},t)))},n}(e.Component);t.AboutPage=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),s=n(114),o=function(t){function n(n){var a=t.call(this,n)||this;return a.onAcceptCompetitionRules=function(){a.setState({isProcessingRulesAcceptance:!0}),a.props.onAcceptCompetitionRules().then(function(){return a.setState({isProcessingRulesAcceptance:!1})})},a.renderSingleCompetitionText=function(){return e.createElement("div",null,'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound to the ',e.createElement("a",{href:a.props.competitions[0].rulesUrl,target:"_blank"},"competition rules"),".")},a.renderMultipleCompetitionsText=function(){return e.createElement("div",null,'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound to the rules of the following competitions.',e.createElement("div",{className:"competition-rules__competition-list"},a.props.competitions.map(a.renderCompetition)))},a.renderCompetition=function(t){return e.createElement("div",null,e.createElement("a",{href:t.rulesUrl,target:"_blank"},t.title))},a.state={isProcessingRulesAcceptance:!1},a}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(s.Modal,{onClose:this.props.onClose,modalIsShown:this.props.show},e.createElement("div",{className:"competition-rules__acceptance"},e.createElement("div",{className:"competition-rules__acceptance-text"},1!==this.props.competitions.length||this.props.showLinkToRules?this.renderMultipleCompetitionsText():this.renderSingleCompetitionText()),e.createElement("div",{className:"competition-rules__acceptance-actions"},e.createElement("a",{className:"competition-rules__decline",onClick:this.props.onClose},"I Do Not Accept"),e.createElement(i.ButtonAutoWidth,{classNames:"competition-rules__accept",onClick:this.onAcceptCompetitionRules,text:"I Understand and Accept"}),this.state.isProcessingRulesAcceptance&&e.createElement("div",{className:"competition-rules__is-processing"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))))},n}(e.Component);t.CompetitionRulesModal=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(e){var n=t.call(this,e)||this;return n.onAddButtonClick=function(){n.setState({isModalShown:!0})},n.onModalClosed=function(){n.setState({isModalShown:!1})},n.onDataSourceAdded=function(e){return n.props.onDataSourceAdded(e).then(function(){return n.setState({isModalShown:!1})})},n.state={isModalShown:n.props.showModalInitially||!1},n}return a.__extends(n,t),n.prototype.showModal=function(){this.onAddButtonClick()},n.prototype.render=function(){return e.createElement("div",{className:"add-data-source-banner"},e.createElement(i.AddDataSourceModal,{isShown:this.state.isModalShown,onClose:this.onModalClosed,onDataSourceAdded:this.onDataSourceAdded,referrer:"AddDataSourceBanner"}),e.createElement("div",{className:"add-data-source-banner__title"},"Add Data Source"),e.createElement("div",{className:"add-data-source-banner__body"},"Connect your Kernel to our library of datasets"),e.createElement(i.ButtonAutoWidth,{text:"Add a Data Source",onClick:this.onAddButtonClick}))},n}(e.Component);t.AddDataSourceBanner=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(e){var n=t.call(this,e)||this;return n.onClose=function(){n.setIsShown(!1)},n.onScriptClick=function(){ga("send","event","kernel","new-script"),n.navigateTo(n.generateKernelUrl("scripts"))},n.onNotebookClick=function(){ga("send","event","kernel","new-notebook"),n.navigateTo(n.generateKernelUrl("notebooks"))},n.generateKernelUrl=function(e){var t="/"+i.Current.userName+"/kernels/"+e+"/new";return n.props.competitionId?t+"?competitionId="+n.props.competitionId:n.props.datasetVersionId?t+"?datasetVersionId="+n.props.datasetVersionId:t},n.state={isShown:!1},n}return a.__extends(n,t),n.prototype.show=function(){this.setIsShown(!0)},n.prototype.navigateTo=function(e){window.location.href=i.Current.isAnonymous?"/account/login?returnUrl="+encodeURIComponent(document.location.pathname):e},n.prototype.setIsShown=function(e){this.setState({isShown:e})},n.prototype.render=function(){return e.createElement(i.Modal,{modalIsShown:this.state.isShown,onClose:this.onClose,modalClassName:"new-kernel-modal"},e.createElement(i.ContentBox,{title:"Select Kernel Type",containerClassName:"new-kernel-modal__content-box"},e.createElement("div",{className:"new-kernel-modal__or-icon"},"or"),e.createElement("div",{className:"new-kernel-modal__container"},e.createElement("div",{className:"new-kernel-modal__kernel-button new-kernel-modal__kernel-button--script",onClick:this.onScriptClick,id:"new-script-button"},e.createElement("div",{className:"new-kernel-modal__title"},"Script"),e.createElement("img",{src:"/static/images/script-icon.png"}),e.createElement("ul",{className:"new-kernel-modal__features"},e.createElement("li",null,"Python, R, RMarkdown"),e.createElement("li",null,"Runs all the code, every time"),e.createElement("li",null,"Ideal for fitting a model and competition submissions"),e.createElement("li",null,"Shares code for review and RMarkdown reports"))),e.createElement("div",{className:"new-kernel-modal__kernel-button new-kernel-modal__kernel-button--notebook",onClick:this.onNotebookClick,id:"new-notebook-button"},e.createElement("div",{className:"new-kernel-modal__title"},"Notebook"),e.createElement("img",{src:"/static/images/notebook-icon.png"}),e.createElement("ul",{className:"new-kernel-modal__features"},e.createElement("li",null,"Jupyter Notebooks in Python or R"),e.createElement("li",null,"Runs independent cells of code and markdown"),e.createElement("li",null,"Ideal for interactive data exploration and polished analysis"),e.createElement("li",null,"Shares insights through code + commentary"))))))},n}(e.Component);t.NewKernelModal=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(1121),o=n(94),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=function(t){function n(e){var n=t.call(this,e)||this,a=new Date;return a.setFullYear((new Date).getFullYear()-1),a.setDate(a.getDate()+1),n.start=a,n.labels=r.map(function(e,t){return r[(t+a.getMonth()+1)%12]}),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){return i.__awaiter(this,void 0,void 0,function(){var e,t=this;return i.__generator(this,function(o){return e=this.props.username,window.setTimeout(function(){return i.__awaiter(t,void 0,void 0,function(){var t,o,r;return i.__generator(this,function(i){switch(i.label){case 0:return t=n.cache[e]||a.Users.getActivity({userName:e}),n.cache[e]=t,[4,t];case 1:return o=i.sent(),r=new s,r.init({itemSelector:this.container,domain:"week",subDomain:"day",weekStartOnMonday:!1,tooltip:!0,animationDuration:0,range:53,domainGutter:0,domainMargin:1,itemName:["",""],cellSize:13,legendCellSize:13,legendCellPadding:4,start:this.start,data:o,afterLoadData:this.parseData.bind(this),subDomainDateFormat:this.formatTooltip.bind(this),domainLabelFormat:"",legend:[5,10,15,20]}),[2]}})})}),[2]})})},n.prototype.formatTooltip=function(e){var t=this.formatDate(e);if(!this.activityLookup)return t;var n=this.activityLookup[this.formatDate(e)];return n&&(n.totalSubmissions&&(t+="<br />"+n.totalSubmissions+" "+o("submission",n.totalSubmissions)),n.totalScripts&&(t+="<br />"+n.totalScripts+" script "+o("run",n.totalScripts)),n.totalDatasets&&(t+="<br />"+n.totalDatasets+" dataset "+o("version",n.totalDatasets)),n.totalDiscussions&&(t+="<br />"+n.totalDiscussions+"  "+o("comment",n.totalDiscussions))),t},n.prototype.parseData=function(e){var t={};this.activityLookup={};for(var n=0,a=e;n<a.length;n++){var i=a[n],s=i.totalDatasets+i.totalDiscussions+i.totalScripts+i.totalSubmissions,o=new Date(i.date.toString()),r=o.getTime()/1e3;this.activityLookup[this.formatDate(o)]=i,t[r.toString().split(".")[0]]=s}return t},n.prototype.formatDate=function(e){return r[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},n.prototype.renderLabels=function(){return this.labels.map(function(t,n){return e.createElement("li",{key:n},t)})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"activity-calendar activity-calendar--"+this.props.tier},e.createElement("ul",{className:"activity-calendar__labels"},this.renderLabels()),e.createElement("div",{className:"activity-calendar__container",ref:function(e){return t.container=e}}))},n}(e.Component);l.cache={},t.ActivityCalendar=l}).call(t,n(0),n(34))},function(e,t,n){"use strict";function a(e){return void 0===e&&(e={}),e instanceof Headers?e.append("__RequestVerificationToken",i.Current.antiForgeryToken):e.__RequestVerificationToken=i.Current.antiForgeryToken,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5);t.withAntiForgeryHeader=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(36),s=n(19),o=n(38),r=function(t){function n(e){var n=t.call(this,e)||this;return n.hostSegmentModifier=n.props.competition.isInClass?"inclass":n.props.competition.hostSegment.replace(" ",""),n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(o.BlockLink,{key:this.props.index,href:this.props.competition.competitionUrl,onClick:function(){return t.props.onClick("competition-"+t.props.competition.competitionId,t.props.competition.competitionUrl,t.props.index)}},e.createElement("div",{className:"competition-card competition-card--"+this.hostSegmentModifier+" "+(this.props.competition.userHasEntered?"competition-card--user-entered":"")},e.createElement("div",null,e.createElement("img",{src:this.props.competition.thumbnailImageUrl,alt:this.props.competition.competitionTitle,className:"competition-card__thumbnail"})),e.createElement("div",{className:"competition-card__title"},e.createElement("div",null,e.createElement("a",{href:this.props.competition.competitionUrl,className:"competition-card__competition-link"},this.props.competition.competitionTitle),this.props.competition.isPrivate?e.createElement("span",{className:"competition-card__tag"},"Private"):null,this.props.competition.isLimited?e.createElement("span",{className:"competition-card__tag"},"Limited"):null),e.createElement("div",{className:"competition-card__description"},this.props.competition.competitionDescription),e.createElement("div",{className:"competition-card__meta"},e.createElement("span",{className:"competition-card__host-segment competition-card__host-segment--"+this.hostSegmentModifier},this.props.competition.isInClass?"In-Class":this.props.competition.hostSegment),"Knowledge"!=this.props.competition.rewardDisplay&&e.createElement("span",{className:"competition-card__reward--mobile"},e.createElement("span",{className:"competition-card__spacer"}),e.createElement("strong",null,this.props.competition.rewardDisplay)),e.createElement("span",{className:"competition-card__deadline"},e.createElement("span",{className:"competition-card__spacer"}),e.createElement(s.TimeAgo,{time:this.props.competition.deadline})),this.props.competition.userHasEntered?e.createElement("span",null,e.createElement("span",{className:"competition-card__spacer"}),"Entered"):null,this.props.competition.totalKernels?e.createElement("span",null,e.createElement("span",{className:"competition-card__spacer"}),e.createElement("a",{className:"competition-card__kernel-link",href:this.props.competition.competitionUrl+"/kernels"},e.createElement(i.Pluralize,{count:this.props.competition.totalKernels,formatNumber:!0,word:"kernel"}))):null)),e.createElement("div",{className:"competition-card__stats"},"Knowledge"!=this.props.competition.rewardDisplay&&e.createElement("div",{className:"competition-card__reward"},this.props.competition.rewardDisplay),e.createElement("div",{className:"competition-card__teams"},e.createElement(i.Pluralize,{count:this.props.competition.totalTeams,formatNumber:!0,word:"team"})))))},n}(e.Component);t.CompetitionCard=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",null,e.createElement(i.Modal,{onClose:this.props.onCancel,onShow:function(){},modalIsShown:this.props.isShown},e.createElement("div",{className:"confirm__modal"},e.createElement("div",{className:"confirm__title"},this.props.title),e.createElement("div",{className:"confirm__content"},this.props.children),e.createElement("div",{className:"confirm__buttons"},e.createElement("div",{className:"confirm__cancel-button",onClick:this.props.onCancel},this.props.cancelText),e.createElement("div",{className:"confirm__confirm-button",onClick:this.props.onConfirm},this.props.confirmText)))))},n}(e.Component);t.Confirm=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1691),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.disabled,s=a.__rest(t,["disabled"]);return n?e.createElement("div",{className:"rdt"},e.createElement("input",{type:"text",className:"form-control",disabled:n,value:s.value.toString()})):e.createElement(i,a.__assign({},s))},n}(e.Component);t.DateTimePicker=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.handleSubmit=function(e){e.preventDefault(),this.props.onSubmit(this._input.value),this.props.clearAfterSubmit&&(this._input.value="")},n.prototype.render=function(){var t=this,n=this.props.wrapperClassName;return e.createElement("form",{className:"input-group-inline"+(n?" "+n:""),onSubmit:function(e){return t.handleSubmit(e)}},this.props.label?e.createElement("label",{className:"input-group-inline__label",htmlFor:this.props.inputId?this.props.inputId:null},this.props.label):null,e.createElement("input",{className:this.props.inputClassName?this.props.inputClassName:"input-group-inline__input",id:this.props.inputId?this.props.inputId:null,onChange:this.props.onInputChange?function(e){return t.props.onInputChange(e)}:function(){},defaultValue:this.props.defaultValue?this.props.defaultValue:null,placeholder:this.props.placeholder?this.props.placeholder:null,ref:function(e){return t._input=e}}),e.createElement("button",{className:this.props.buttonClassName?this.props.buttonClassName:"input-group-inline__button",disabled:this.props.buttonIsDisabled,type:"submit"},this.props.buttonChildren),this.props.isSubmitting?e.createElement("div",{className:"input-group-inline__submitting-icon"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null)},n}(e.Component);t.InputGroupInline=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(112),o=n(100),r=n(61),l=n(63),c=function(t){function n(n){var a=t.call(this,n)||this;return a.onContentChanged=function(e){a.editingContent=e,a.props.onChangeCallback&&a.props.onChangeCallback(e)},a.onToggleClicked=function(){a.state.isEditing&&a.props.onSaveClicked?a.props.onSaveClicked(a.editingContent,r.mimeTypeToString(a.state.mimeType)).then(function(){a.setState({isEditing:!1,content:a.editingContent})}):a.setState({isEditing:!0})},a.onCancelClicked=function(){a.setState({isEditing:!1,mimeType:a.props.mimeType})},a.onMimeTypeChanged=function(e){a.setState({mimeType:r.stringToMimeType(e)})},a.renderRightSide=function(){var t=[{label:"HTML",value:r.mimeTypeToString(r.MarkdownConverterMimeTypes.Html)},{label:"Markdown",value:r.mimeTypeToString(r.MarkdownConverterMimeTypes.Markdown)}];return a.props.canEdit?e.createElement("div",{className:"markdown-content-box__right-title"},a.props.canEditMimeType&&a.state.isEditing?e.createElement(l.SelectBox,{options:t,onChange:function(e){return a.onMimeTypeChanged(e)},value:r.mimeTypeToString(a.state.mimeType),searchable:!1}):null,e.createElement(s.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",isEditing:a.state.isEditing,toggleCallback:a.onToggleClicked,cancelCallback:a.onCancelClicked})):null},a.renderMarkdownEditor=function(){return e.createElement("div",{className:"markdown-content-box__editor"},e.createElement(o.MarkdownEditor,{defaultValue:a.state.content,alwaysShowToolbar:!0,shouldSanitizeHtml:!0,minRows:3,onChangeCallback:a.onContentChanged}))},a.renderMarkdownConverter=function(){return e.createElement("div",{className:"markdown-content-box__converter"},e.createElement(r.MarkdownConverter,{content:a.state.content,mimeType:r.mimeTypeToString(a.state.mimeType),insertNofollow:!0,contentClassName:a.props.contentClassName}))},a.renderContentBody=function(){return a.state.isEditing?a.renderMarkdownEditor():a.renderMarkdownConverter()},a.editingContent=a.props.content,a.state={isEditing:a.props.isEditing,content:a.props.content,mimeType:a.props.mimeType},a}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.ContentBox,{title:this.props.contentBoxTitle,titleBarRightSide:this.renderRightSide()},this.renderContentBody())},n}(e.Component);t.MarkdownContentBox=c}).call(t,n(0))},function(e,t,n){"use strict";function a(e,t){if(e&&(e.indexOf("$$")>-1||e.indexOf("\\[")>-1||e.indexOf("\\(")>-1))return"undefined"!=typeof MathJax&&MathJax?void MathJax.Hub.Queue(["Typeset",MathJax.Hub,t]):void i.Current.warn("LaTeX content was detected inside markdown, but MathJax is not loaded. Use @Components.MathJax()")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6);t.Render=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(168),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.onClick=function(e,t){e.preventDefault(),t.action()},n.prototype.render=function(){var t=this,n=this.props.children;return e.createElement("div",{className:"selection-group__wrapper"},e.createElement(i.OverflowX,null,e.createElement("ul",{className:"selection-group__items"},n?n.map(function(a,i){return a?e.createElement("li",{onClick:function(e){return t.onClick(e,a)},key:i,className:"selection-group__child selection-group__child--"+(a.key===(t.props.selected||(n?n[0].key:null))?"selected":"unselected")},a.separator?e.createElement("span",{className:"selection-group__separator"},"|"):e.createElement("a",{href:a.href,title:a.name},a.name)):null}):null)),this.props.filters?e.createElement("div",{className:"selection-group__filters"},this.props.filters):null)},n}(e.Component);t.SelectionGroup=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(45),o=function(t){function n(e){var n=t.call(this,e)||this;return n.scrollListener=function(){var e=n.props.height?a(n.scrollElement)[0].scrollHeight:a(document).height();a(n.scrollElement).scrollTop()+a(n.scrollElement).height()>=.8*e&&n.props.onScroll()},n.scrollListener=s.throttle(n.scrollListener,250),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){this.scrollElement=this.props.height?this.refs.container:window,this.scrollElement.addEventListener("scroll",this.scrollListener)},n.prototype.componentWillUnmount=function(){this.scrollElement.removeEventListener("scroll",this.scrollListener)},n.prototype.render=function(){var t=this.props.height&&{overflowY:"scroll",overflowX:"hidden",height:this.props.height};return e.createElement("div",{ref:"container",style:t},this.props.children)},n}(e.Component);t.WindowInfiniteScroll=o}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(45),s=n(6),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getNextTier=function(){var e=this,t=i.findIndex(this.props.tierRequirements,function(t){return t.tier===e.props.currentTier});return this.props.tierRequirements[t+1]},n.prototype.getRequirements=function(){var e=this;return this.getNextTier().requirements.filter(function(t){return!(t.isComplete||t.group&&t.group.toLowerCase()!==e.props.area)}).map(function(e){return e.label}).join(", ")},n.prototype.render=function(){return this.props.userId===s.Current.userId&&"grandmaster"!=this.props.currentTier?e.createElement("div",{className:"profile-next-tier profile-next-tier--"+this.getNextTier().tier},e.createElement("div",{className:"profile-next-tier__next-icon-box"},e.createElement("div",null,e.createElement("img",{src:"/static/images/tiers/"+this.getNextTier().tier+"@192.png",title:this.getNextTier().tier,height:"60",width:"60"}))),e.createElement("div",{className:"profile-next-tier__text"},e.createElement("div",{className:"profile-next-tier__title"},"Level up to ",e.createElement("span",{className:"profile-next-tier__capitalize"},this.props.area)," ",e.createElement("span",{className:"profile-next-tier__capitalize"},this.getNextTier().tier)),e.createElement("div",{className:"profile-next-tier__content"},this.getRequirements()))):null},n}(e.Component);t.NextTier=o}).call(t,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i,s=n(1),o=n(900),r=n(24),l=n(278);!function(e){e[e.Submitted=0]="Submitted",e[e.AcceptedRules=1]="AcceptedRules",e[e.AcceptedRulesUnsubmitted=2]="AcceptedRulesUnsubmitted"}(i=t.CompetitionAdminContactLeaderboardFilters||(t.CompetitionAdminContactLeaderboardFilters={}));var c=function(t){function n(e){var n=t.call(this,e)||this;return n.defaultAdminTab="attributes",n.onWindowPopState=function(e){e.state&&e.state.competitionAdminTabState&&n.setState(e.state.competitionAdminTabState)},n.onAdminTabChanged=function(e,t){t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1==t.button||n.setState({activeAdminTab:e},function(){return n.updateUrlForTab(e)})},n.updateUrlForTab=function(e,t){void 0===t&&(t=!1);var a={},i=e.toLowerCase().replace(/\s+/g,"-")||n.defaultAdminTab,s=n.props.competitionUrl+"/admin";a.competitionTabState={activePane:"admin",activeTab:"admin"},a.competitionAdminTabState={activeAdminTab:i},i!=n.defaultAdminTab&&(s+="#"+i),t?history.replaceState(a,"",s):history.pushState(a,"",s)},n.onToggleDeadlineConfirmationModal=function(){n.setState({showDeadlineConfirmationModal:!n.state.showDeadlineConfirmationModal})},n.onRescoreManualTextChange=function(e){var t=e.target.value.replace(/\s+/g,"").replace(/,,+/g,",").replace(/^,|,$/g,"").split(",");n.setState({submissionsToRescore:t})},n.onChangeEmailLeaderboardFilter=function(e){return n.setState({emailLeaderboardFilter:e})},n.onChangeEmailFrom=function(e){return n.setState({emailFrom:e.target.value})},n.onChangeEmailSubject=function(e){return n.setState({emailSubject:e.target.value})},n.onChangeEmailBody=function(e){return n.setState({emailBody:e})},n.onChangeLeftTeamId=function(e){return n.setState({mergeLeftTeamId:e.target.value})},n.onChangeRightTeamId=function(e){return n.setState({mergeRightTeamId:e.target.value})},n.onChangeCloneInput=function(e){return n.setState({sourceCompetitionId:e.target.value})},n.onChangeForceMerge=function(){return n.setState({shouldForceMerge:!n.state.shouldForceMerge})},n.onChangeHostQuery=function(e){return n.setState({newHostQuery:e.target.value})},n.adminGetAction=function(e,t){return s.__awaiter(n,void 0,void 0,function(){var n,i,o;return s.__generator(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,a(e,{method:"GET",headers:l.withAntiForgeryHeader({Accept:"application/json","Content-Type":"application/json"}),credentials:"same-origin"})];case 1:return n=s.sent(),r.PageMessages.clear(),r.PageMessages.info("Your request has been made. You may need to refresh."),[4,n.json()];case 2:return i=s.sent(),t(i),[3,4];case 3:return o=s.sent(),o.pageMessages&&r.PageMessages.set(o.pageMessages),[3,4];case 4:return[2]}})})},n.adminPostAction=function(e,t,i,o){return void 0===i&&(i=!1),s.__awaiter(n,void 0,void 0,function(){var n,c,p;return s.__generator(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n=new Headers(l.withAntiForgeryHeader({Accept:"application/json","Content-Type":"application/json"})),i&&n.append("redirect","follow"),[4,a(e,{method:"POST",headers:n,credentials:"same-origin",body:JSON.stringify(t)})];case 1:return c=s.sent(),i&&(window.location.href=c.headers.get("location")),r.PageMessages.clear(),r.PageMessages.info("Your request has been made. You may need to refresh."),o(),[3,3];case 2:return p=s.sent(),p.pageMessages&&r.PageMessages.set(p.pageMessages),[3,3];case 3:return[2]}})})},n.onLaunchCompetition=function(){return n.adminGetAction(n.launchCompetitionUrl)},n.onSetDeadlineToNow=function(){n.setState({showDeadlineConfirmationModal:!1},function(){n.adminGetAction(n.setCompetitionDeadlineToNowUrl)})},n.onRescoreErrored=function(){return n.adminGetAction(n.rescoreErroredSubmissionsUrl)},n.onRescorePending=function(){return n.adminGetAction(n.rescorePendingSubmissionsUrl)},n.onRescoreCompleted=function(){return n.adminGetAction(n.rescoreCompletedSubmissionsUrl)},n.onRescoreCompletedWithoutDetails=function(){return n.adminGetAction(n.rescoreCompletedSubmissionsWithoutDetailsUrl)},n.onRescoreAll=function(){return n.adminGetAction(n.rescoreAllSubmissionsUrl)},n.onRescoreManual=function(){return n.adminGetAction(n.rescoreManualSubmissionsUrl+"?submissionsToRescore="+n.state.submissionsToRescore.join(","))},n.onRecalculateLeaderboard=function(){return n.adminGetAction(n.recalculateLeaderboardUrl)},n.onMergeTeams=function(){return n.adminGetAction(n.mergeTeamsUrl+"?leftTeamId="+n.state.mergeLeftTeamId+"&rightTeamId="+n.state.mergeRightTeamId+"&forceMerge="+n.state.shouldForceMerge)},n.onAddNewHost=function(e){n.setState({isLoadingHostsList:!0,userSearchResults:[]},function(){n.adminPostAction(n.addCompetitionHostUrl,{teamUserId:[e]},!1,function(){return n.onGetHostsList()})})},n.onRemoveHost=function(e){n.adminGetAction(n.removeCompetitionHostUrl+"?adminUserId="+e),n.onGetHostsList()},n.onSearchForUsers=function(){n.setState({isLoadingSearchResults:!0},function(){n.adminGetAction(n.searchForUsersUrl+"&query="+n.state.newHostQuery,function(e){n.setState({isLoadingSearchResults:!1,userSearchResults:e})})})},n.onEmailParticipants=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),n.adminPostAction(n.emailParticipantsUrl,{segmentFilter:n.state.emailLeaderboardFilter,from:n.state.emailFrom,subject:n.state.emailSubject,body:n.state.emailBody,previewEmail:e,sendSampleEmail:t},e)},n.onCloneCompetition=function(){n.adminPostAction(n.cloneCompetitionUrl,{destinationCompetitionId:n.props.competitionId,sourceCompetitionId:parseInt(n.state.sourceCompetitionId)})},n.onGetHostsList=function(){n.setState({isLoadingHostsList:!0},function(){return s.__awaiter(n,void 0,void 0,function(){var e,t,n;return s.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,a(this.getCompetitionHostsUrl,{method:"GET",headers:l.withAntiForgeryHeader({Accept:"application/json","Content-Type":"application/json"}),credentials:"same-origin"})];case 1:return e=i.sent(),[4,e.json()];case 2:return t=i.sent(),t.pageMessages&&t.pageMessages.length>0&&r.PageMessages.set(t.pageMessages),200==e.status&&this.setState({hostsList:t,isLoadingHostsList:!1}),[3,4];case 3:return n=i.sent(),this.setState({isLoadingHostsList:!1},function(){n.pageMessages&&r.PageMessages.set(n.pageMessages)}),[3,4];case 4:return[2]}})})})},n.activeAdminTab=window.location.hash.replace("#","")||n.defaultAdminTab,n.state={activeAdminTab:n.activeAdminTab,isAddingHeaderImage:!1,isAddingThumbnailImage:!1,isAddingFrontPageImage:!1,submissionsToRescore:[],mergeLeftTeamId:"",mergeRightTeamId:"",sourceCompetitionId:"",shouldForceMerge:!1,newHostQuery:"",hostsList:[],isLoadingHostsList:!1,isLoadingSearchResults:!1,emailLeaderboardFilter:i[i.Submitted],emailFrom:"Kaggle <competitions@kaggle.com>",emailSubject:n.props.competitionTitle,emailBody:"",showDeadlineConfirmationModal:!1,userSearchResults:[],competitionHeaderImageUrl:n.props.competitionHeaderImageUrl,competitionThumbnailImageUrl:n.props.competitionThumbnailImageUrl,competitionFrontPageImageUrl:n.props.competitionFrontPageImageUrl},n.helperProps={onAdminTabChanged:n.onAdminTabChanged,onLaunchCompetition:n.onLaunchCompetition,onSetDeadlineToNow:n.onSetDeadlineToNow,onRescoreErrored:n.onRescoreErrored,onRescorePending:n.onRescorePending,onRescoreCompleted:n.onRescoreCompleted,onRescoreCompletedWithoutDetails:n.onRescoreCompletedWithoutDetails,onRescoreAll:n.onRescoreAll,onRescoreManual:n.onRescoreManual,onRescoreManualTextChange:n.onRescoreManualTextChange,onRecalculateLeaderboard:n.onRecalculateLeaderboard,onChangeLeftTeamId:n.onChangeLeftTeamId,onChangeRightTeamId:n.onChangeRightTeamId,onMergeTeams:n.onMergeTeams,onEmailParticipants:n.onEmailParticipants,onCloneCompetition:n.onCloneCompetition,onChangeCloneInput:n.onChangeCloneInput,onChangeForceMerge:n.onChangeForceMerge,onChangeHostQuery:n.onChangeHostQuery,onAddNewHost:n.onAddNewHost,onRemoveHost:n.onRemoveHost,onSearchForUsers:n.onSearchForUsers,onGetHostsList:n.onGetHostsList,onChangeEmailLeaderboardFilter:n.onChangeEmailLeaderboardFilter,onChangeEmailFrom:n.onChangeEmailFrom,onChangeEmailSubject:n.onChangeEmailSubject,onChangeEmailBody:n.onChangeEmailBody,onToggleDeadlineConfirmationModal:n.onToggleDeadlineConfirmationModal},n.updateUrlForTab(n.activeAdminTab,!0),n.launchCompetitionUrl="/admin/c/"+n.props.competitionId+"/launch",n.setCompetitionDeadlineToNowUrl="/admin/competitions/"+n.props.competitionId+"/set-deadline-now",n.rescoreErroredSubmissionsUrl="/admin/c/"+n.props.competitionId+"/rescore/all-errored",n.rescorePendingSubmissionsUrl="/admin/c/"+n.props.competitionId+"/rescore/all-pending",n.rescoreCompletedSubmissionsUrl="/admin/c/"+n.props.competitionId+"/rescore/all-completed",n.rescoreCompletedSubmissionsWithoutDetailsUrl="/admin/c/"+n.props.competitionId+"/rescore/all-completed/without-additional-details",n.rescoreAllSubmissionsUrl="/admin/c/"+n.props.competitionId+"/rescore/all",n.rescoreManualSubmissionsUrl="/admin/c/"+n.props.competitionId+"/rescore/specific",n.recalculateLeaderboardUrl="/admin/c/"+n.props.competitionId+"/leaderboard/update",n.mergeTeamsUrl="/teams/merge",n.removeCompetitionHostUrl="/c/"+n.props.competitionId+"/admins/remove",n.searchForUsersUrl="/users/searchAdmins.json?competitionId="+n.props.competitionId,n.getCompetitionHostsUrl="/c/"+n.props.competitionId+"/admins.json",n.cloneCompetitionUrl="/admin/competitions/clone",n.emailParticipantsUrl="/admin/c/"+n.props.competitionId+"/react/email",n.addCompetitionHostUrl="/c/"+n.props.competitionId+"/admins/update",n}return s.__extends(n,t),n.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentDidMount=function(){this.onGetHostsList()},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},n.prototype.render=function(){return e.createElement(o.CompetitionAdmin,s.__assign({},this.props,this.helperProps,this.state))},n}(e.Component);t.CompetitionAdminContainer=c}).call(t,n(0),n(32))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var s,o=n(1),r=n(96),l=n(411),c=n(1091),p=n(6),u=n(908),d=n(24),m=n(278),h=n(1475);!function(e){e[e.Header=0]="Header",e[e.Thumbnail=1]="Thumbnail",e[e.FrontPage=2]="FrontPage"}(s=t.CompetitionImageType||(t.CompetitionImageType={}));var g=function(t){function n(e){var n=t.call(this,e)||this;n.getUiState=function(e){void 0===e&&(e=n.state.activeTab);var t=e.toLowerCase(),a=n.state;return{competitionTabState:{activePane:t,activeTab:e,isNewTopic:a.isNewTopic,topicId:a.topicId,submissionsPage:a.submissionsPage,submissionsGroup:a.submissionsGroup,submissionsSortBy:a.submissionsSortBy}}},n.onTopicClicked=function(e){n.setState({topicId:e.id},function(){var t=n.getUiState();history.pushState(t,e.title,e.topicUrl),history.replaceState(t,document.title,window.location.pathname+window.location.search)})},n.onTopicSubmitted=function(e){n.setState({isNewTopic:!1,topicId:e},function(){return n.updateUrlForTab("discussion")})},n.onWindowPopState=function(e){e.state&&e.state.competitionTabState&&n.setState(e.state.competitionTabState)},n.onCompetitionTabChanged=function(e){d.PageMessages.clear(),location.hash.length>0&&(location.hash="");var t=a.Deferred();return n.setState({activePane:e.toLowerCase(),activeTab:e,isNewTopic:!1,topicId:null},function(){n.updateUrlForTab(e),t.resolve(),n.mySubmissionsSmartListRef&&n.mySubmissionsSmartListRef.refetchData()}),t},n.updateUrlForTab=function(e,t){void 0===t&&(t=!1);var a=n.getUiState(e),i=["admin","discussion","host","overview"],s=n.competitionUrl,o=e.toLowerCase();if("overview"!==o){s+="/"+o;var r=n.state,l=r.isNewTopic,c=r.topicId,p=r.submissionsPage,u=r.submissionsGroup,d=r.submissionsSortBy,m=c||(l?"new":null);m&&"discussion"===o&&(s+="/"+m),"submissions"===o&&(s+="?sortBy="+d+"&group="+u+"&page="+p)}var h=i.indexOf(o)>-1?window.location.hash:null;t?history.replaceState(a,"",s):history.pushState(a,"",s),h&&(window.location.hash=h)},n.onCompetitionEditingStateCancelled=function(e,t){for(var a=(c={},c["isEditing"+e]=!1,c),i={},s=0,r=t;s<r.length;s++){var l=r[s];i[l]=n.state.lastSavedState[l]}n.setState(o.__assign({},a,i));var c},n.onCompetitionEditingStateChanged=function(e){var t="isEditing"+e,a=n.state[t],i=(s={},s[t]=!a,s);n.setState(i,function(){});var s},n.onReenableSubmssion=function(){n.setState({remainingDailySubmissions:n.props.maxDailySubmissions,maxDailySubmissionsResetDate:new Date((new Date).setDate((new Date).getDate()+1))})},n.checkForPhoneVerificationAndUserName=function(){return n.props.needsPhoneVerification?(window.location.href="/account/phone/number?returnUrl="+n.competitionUrl,!1):!!p.Current.userName||(window.location.href="/account/set-username?returnUrl="+n.competitionUrl,!1)},n.onShowRulesModal=function(e){n.checkForPhoneVerificationAndUserName()&&n.setState({acceptRulesCallback:e,showRulesModal:!0})},n.onCompetitionStateChanged=function(e,t){if("showRulesModal"==e)if(t){if(!n.checkForPhoneVerificationAndUserName())return}else n.setState({acceptRulesCallback:null});n.setState((a={},a[e]=t,a));var a},n.onCompetitionPropsChanged=function(e){e.competitionSlug&&e.competitionSlug!==n.props.competitionSlug&&(n.competitionUrl="/c/"+e.competitionSlug),e.competitionId&&e.competitionId===n.props.competitionId&&n.setState(e)},n.onCreateTopic=function(){var e={isNewTopic:!0,topicId:null};n.setState(e,function(){return n.updateUrlForTab("discussion")})},n.onAcceptCompetitionRules=function(){return n.checkForPhoneVerificationAndUserName()?n.state.hasAcceptedRules?(n.state.acceptRulesCallback&&(n.state.acceptRulesCallback(),n.setState({acceptRulesCallback:null})),d.PageMessages.clear(),d.PageMessages.info("You have already accepted the rules, no need to do it again!"),Promise.resolve()):p.Current.userId?i(n.props.acceptRulesUrl,{method:"POST",credentials:"include"}).then(function(e){return o.__awaiter(n,void 0,void 0,function(){var t,n;return o.__generator(this,function(a){switch(a.label){case 0:return e.redirected?(window.location.assign(e.url),[2]):(this.state.acceptRulesCallback&&this.state.acceptRulesCallback(),t=this.setState,n={acceptRulesCallback:null,hasAcceptedRules:!0,showRulesModal:!1},[4,e.json()]);case 1:return t.apply(this,[(n.team=a.sent().data,n),function(){d.PageMessages.clear(),d.PageMessages.success("You have accepted the rules for this competition.")}]),[2]}})})}).catch(function(){d.PageMessages.clear(),d.PageMessages.error({htmlMessage:'There was a problem accepting the rules for this competition. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'})}):(window.location.href="/account/login",Promise.resolve()):Promise.resolve()},n.updateTeamName=function(e){var t=o.__assign({},n.state.team,{name:e});n.setState({team:t})},n.setMySubmissionsSmartListRef=function(e){n.mySubmissionsSmartListRef=e},n.refetchMySubmissions=function(){n.mySubmissionsSmartListRef&&n.mySubmissionsSmartListRef.refetchData()},n.setLeaderboardRef=function(e){n.leaderboardRef=e},n.refetchLeaderboard=function(){return n.leaderboardRef?n.leaderboardRef.fetchPublicLeaderboard():null},n.pollScoringStatus=function(){if(n.state.mostRecentSubmissionStatus&&"pending"==n.state.mostRecentSubmissionStatus.submissionStatus)return n.submissionInitializtionTimedOut||n.state.mostRecentSubmissionStatus.ellapsedWaitDurationMilliseconds>6e4&&0==(n.state.mostRecentSubmissionStatus.id||0)||n.state.mostRecentSubmissionStatus.ellapsedWaitDurationMilliseconds>n.state.mostRecentSubmissionStatus.estimatedWaitDurationMilliseconds+6e4||n.state.mostRecentSubmissionStatus.ellapsedScoreDurationMilliseconds>n.state.mostRecentSubmissionStatus.estimatedScoreDurationMilliseconds+6e4?(d.PageMessages.clear(),void d.PageMessages.info({htmlMessage:"Our workers are spending a little extra time on your submission. Go grab a coffee and give the page a refresh later to see your score. Still don't see it? Let us know in the <a href='https://www.kaggle.com/product-feedback'>Product Feedback forum</a>."})):void a.get(n.props.submissionStatusUrl+"?apiVersion=1&teamId="+(n.props.team&&n.props.team.id||"null")+"&submissionId="+(n.state.mostRecentSubmissionStatus&&n.state.mostRecentSubmissionStatus.id!=n.lastCompletedSubmissionId?n.state.mostRecentSubmissionStatus.id||"null":"null")+"&greaterThanSubmissionId="+n.lastCompletedSubmissionId).then(function(e){if(!e)return void window.setTimeout(n.pollScoringStatus,1e3);"pending"!=e.submissionStatus?n.lastCompletedSubmissionId=e.id:window.setTimeout(n.pollScoringStatus,1e3),"complete"==e.submissionStatus?n.setState({previousRank:n.state.mostRecentSubmissionStatus.rank,remainingDailySubmissions:e.remainingDailySubmissions,mostRecentSubmissionStatus:e},function(){n.refetchMySubmissions(),n.refetchLeaderboard().then(function(){return window.setTimeout(function(){return n.jumpToLeaderboardPosition()},1e3)})}):n.setState({mostRecentSubmissionStatus:e})})},n.clearMostRecentSubmissionStatus=function(){n.setState({mostRecentSubmissionStatus:null})},n.jumpToLeaderboardPosition=function(){n.onCompetitionTabChanged("leaderboard").then(function(){var e=a("#score").offset();e&&a("html,body").animate({scrollTop:e.top-100},"slow")})},n.showPendingSubmission=function(){n.setState({mostRecentSubmissionStatus:{submissionStatus:"pending",dateSubmitted:new Date}},function(){n.submissionInitializtionTimedOut=!1,window.setTimeout(function(){n.state.mostRecentSubmissionStatus.id,n.submissionInitializtionTimedOut=!0},6e4),n.pollScoringStatus()})},n.onToggleImageUploader=function(e){var t;switch(e){case s.Header:t={isAddingHeaderImage:!n.state.isAddingHeaderImage,isAddingThumbnailImage:!1,isAddingFrontPageImage:!1};break;case s.Thumbnail:t={isAddingHeaderImage:!1,isAddingThumbnailImage:!n.state.isAddingThumbnailImage,isAddingFrontPageImage:!1};break;case s.FrontPage:t={isAddingHeaderImage:!1,isAddingThumbnailImage:!1,isAddingFrontPageImage:!n.state.isAddingFrontPageImage}}n.setState(t)},n.uploadImageRequest=function(e,t,i){return o.__awaiter(n,void 0,void 0,function(){var n,i=this;return o.__generator(this,function(s){return n=(new Date).getTime(),[2,a.ajax({context:this,headers:m.withAntiForgeryHeader({}),url:e,type:"POST",dataType:"json",contentType:!1,processData:!1,data:t,success:function(e){i.setState({isAddingHeaderImage:!1,isAddingThumbnailImage:!1,isAddingFrontPageImage:!1,competitionHeaderImageUrl:e.coverImageUrl+"?t="+n,competitionThumbnailImageUrl:e.thumbnailImageUrl+"?t="+n,competitionFrontPageImageUrl:e.cardImageUrl+"?t="+n},function(){d.PageMessages.clear(),d.PageMessages.success("Your image was uploaded successfully.")})},error:function(e){i.setState({isAddingHeaderImage:!1,isAddingThumbnailImage:!1,isAddingFrontPageImage:!1},function(){d.PageMessages.clear(),d.PageMessages.error("There was a problem with your image upload.")})}})]})})},n.buildImageRects=function(e,t){return e.append("ImageRect.Left",Math.floor(t[0].left).toString()),e.append("ImageRect.Top",Math.floor(t[0].top).toString()),e.append("ImageRect.Width",Math.floor(t[0].width).toString()),e.append("ImageRect.Height",Math.floor(t[0].height).toString()),e},n.onUploadCompetitionImage=function(e,t){return n.uploadImageRequest(n.uploadImageUrl,n.buildImageRects(e,t))};var r=n.props,u=r.activeTab,g=r.canEdit,f=r.isCreatingCompetition,v=r.dateEnabled,_=r.mergerDeadline,b=r.deadline,E=r.competitionSlug,y=u.toLowerCase();"admin"!==y||g||(u="overview",y="overview");var C=(new Date).getTime(),w=c.default(v),S=c.default(_),N=c.default(b);f?(n.hasMergerDeadline=!1,n.competitionUrl="",n.isCompetitionPending=!1):(n.hasMergerDeadline=N!=S,n.competitionUrl="/c/"+E,n.isCompetitionPending=!w||w>C);var T=o.__assign({},e,{activeTab:u,activePane:y,isEditingOverviewPages:!1,isEditingFiles:!1,onShowRulesModal:n.onShowRulesModal,showRulesModal:!1,isProcessingRulesAcceptance:!1,isCompetitionPending:n.isCompetitionPending,editing:h.Map([["data",h.Map([["evaluation",!1],["benchmarks",!1]])]]),previousRank:n.props.mostRecentSubmissionStatus&&n.props.mostRecentSubmissionStatus.rank});return n.store=l.createStore(T),n.state=o.__assign({},T,{lastSavedState:T}),n.updateUrlForTab(u,!0),n.competitionHasLaunched=w&&C>w,n.competitionHasEnded=N&&N<C,n.lastCompletedSubmissionId=n.props.mostRecentSubmissionStatus&&"pending"!=n.props.mostRecentSubmissionStatus.submissionStatus?n.props.mostRecentSubmissionStatus.id:0,n.uploadImageUrl="/c/"+n.props.competitionId+"/images.json",n.props.mostRecentSubmissionStatus&&"pending"==n.props.mostRecentSubmissionStatus.submissionStatus&&(n.submissionInitializtionTimedOut=!1,window.setTimeout(function(){n.state.mostRecentSubmissionStatus.id,n.submissionInitializtionTimedOut=!0},6e4),n.pollScoringStatus()),n}return o.__extends(n,t),n.prototype.componentDidMount=function(){if(-1!==window.location.hash.indexOf("#latest-")&&history.replaceState(this.getUiState(),document.title,window.location.pathname+window.location.search),this.isCompetitionPending){var e={type:"info",message:"This competition hasn't been launched. Only hosts and Kaggle admins can see it.",isPersistent:!0};d.PageMessages.add([e])}},n.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},n.prototype.render=function(){var t=this;return e.createElement(r.Provider,{store:this.store},e.createElement(u.Competition,o.__assign({onAcceptCompetitionRules:this.onAcceptCompetitionRules,onCompetitionEditingStateCancelled:this.onCompetitionEditingStateCancelled,onCompetitionEditingStateChanged:this.onCompetitionEditingStateChanged,onCompetitionStateChanged:this.onCompetitionStateChanged,onCompetitionPropsChanged:this.onCompetitionPropsChanged,onCompetitionTabChanged:this.onCompetitionTabChanged,onCreateTopic:this.onCreateTopic,onReenableSubmssion:this.onReenableSubmssion,onSubmissionStatusChanged:this.refetchMySubmissions,onToggleImageUploader:this.onToggleImageUploader,onTopicClicked:this.onTopicClicked,onTopicSubmitted:this.onTopicSubmitted,onUploadCompetitionImage:this.onUploadCompetitionImage,updateTeamName:this.updateTeamName,hasMergerDeadline:this.hasMergerDeadline,competitionUrl:this.competitionUrl,competitionHasLaunched:this.competitionHasLaunched,competitionHasEnded:this.competitionHasEnded,isCompetitionPending:this.isCompetitionPending,ref:function(e){t.competitionRef=e},setMySubmissionsSmartListRef:this.setMySubmissionsSmartListRef,refetchMySubmissions:this.refetchMySubmissions,showPendingSubmission:this.showPendingSubmission,clearMostRecentSubmissionStatus:this.clearMostRecentSubmissionStatus,jumpToLeaderboardPosition:this.jumpToLeaderboardPosition,setLeaderboardRef:this.setLeaderboardRef},this.state)))},n}(e.Component);t.CompetitionContainer=g}).call(t,n(0),n(3),n(32))},function(e,t,n){"use strict";(function(e,a){function i(e,t){var n=t.type,a=(t.payload,t.meta),i=a?a.path:null;switch(n){case p:return o.__assign({},e,{editing:e.editing.setIn(i,!1)});case u:return o.__assign({},e,{editing:e.editing.setIn(i,!0)});case d:return o.__assign({},e,{editing:e.editing.setIn(i,!1)});default:return e}}function s(e){return c.createStore(i,e,c.applyMiddleware(h))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(29),l=n(1815),c=n(206),p="COMPETITION_SAVE",u="COMPETITION_EDIT",d="COMPETITION_CANCEL";t.actions={benchmarks:function(e){var t=function(e){return e},n={path:e},a=function(e){return n};return{onSave:l.createAction(p,t,a),onEdit:l.createAction(u,null,a),onCancel:l.createAction(d,null,a)}}(["data","benchmarks"])};var m=function(t){var n=t.children,a=t.benchmarkDetailsUpdateUrl,i=n.filter(function(e){return e.dirty}).reduce(function(e,t){return o.__assign({},e,(n={},n[t.id]=t.details,n));var n},{});return new Promise(function(t,n){e.ajax({type:"POST",url:a,contentType:"application/json",data:JSON.stringify({details:i}),success:function(e){t(e)},error:function(e){n(e)}})})},h=function(e){return function(e){return function(t){var n=(t.type,t.payload);if(t.type===p){var i=t.meta,s=i?i.path:[null,null],o=s[0],l=s[1];"data"===o&&"benchmarks"===l&&m(n).then(function(n){i.response=n,e(t)})}else{if("FETCH_API"!==t.type)return e(t);var c=t.meta,u=c.url,d=c.method;r(u,"url must exist to fetch"),r(d,"method must be specified to fetch"),a(u,{method:d,headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(n){c.response=n,e(t)})}}}};t.createStore=s}).call(t,n(3),n(32))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=["Discovering your KGI (Kaggle Greatness Index)...","Taking your entry for a test drive...","Coming to terms with your brilliance...","Teaching your submission to our robots...","Planning for your ascendency...","Adding more hamsters to the evaluation servers...","You call ::this:: big data? ...","Wiring more money to our cloud provider...","First-in-first-out? This could take a while...","Data mining? They should call it data youring!","Something tells me this isn't your first csv file ;)","You take the artificial out of AI...","All models are wrong. Yours are just useful...","Checking that Bayes' theorem is still true...","Making a call to Watson to check this for you...","We are going to need more mechanical turks...","No free lunch? Not after you win this thing...","Deep learning is shallow next to the depths of your greatness...","Reserving the local university teraflop cluster...","Is this Bayesian? You know I'm a strict Bayesian, right?","What has 64 cores and 128GB RAM? Not me! Hold tight...","Entering these into the TI-89 as fast as we can...","No whammies no whammies no whammies...","I can feel it. This one is worth lots of points..."],s=n(933),o=function(t){function n(e){var n=t.call(this,e)||this;return n.state={scoringMessage:i[Math.floor(Math.random()*i.length)]},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(s.CompetitionScoringBanner,a.__assign({},this.props,this.state))},n}(e.Component);t.CompetitionScoringBannerContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(115),s=n(426),o=n(166),r=n(36),l=n(19),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props.dataset.voteButton;return e.createElement("div",{key:this.props.index,className:"dataset-list-item"},e.createElement("a",{className:"dataset-list-item__link",href:this.props.dataset.datasetUrl,onClick:this.props.onClick}),e.createElement("div",{className:"dataset-list-item__votes"},e.createElement(i.VoteButton,{totalVotes:t.totalVotes,hasAlreadyVotedDown:t.hasAlreadyVotedDown,hasAlreadyVotedUp:t.hasAlreadyVotedUp,canDownvote:t.canDownvote,canUpvote:t.canUpvote,voteDownUrl:t.voteDownUrl,voteUpUrl:t.voteUpUrl})),e.createElement("div",{className:"dataset-list-item__images"},e.createElement("div",{className:"dataset-list-item__image-wrapper"},e.createElement("img",{alt:this.props.dataset.title,className:"dataset-list-item__image",src:this.props.dataset.thumbnailImageUrl}),this.props.hideOwnerAvatar?null:e.createElement("a",{className:"dataset-list-item__image--author-link",href:this.props.dataset.ownerUrl},e.createElement("img",{alt:this.props.dataset.ownerName,className:"dataset-list-item__image--author",src:this.props.dataset.ownerAvatarUrl})))),e.createElement("div",{className:"dataset-list-item__info"},e.createElement("a",{className:"dataset-list-item__name",href:this.props.dataset.datasetUrl},e.createElement(s.GroupIcon,{groupSize:this.props.dataset.privateGroupMemberCount}),this.props.dataset.title,this.props.dataset.isHidden&&!this.props.dataset.isFailed?e.createElement(o.Badge,{text:"Hidden",option:"info"}):null,this.props.dataset.isFailed?e.createElement(o.Badge,{text:"Failed",option:"danger"}):null,this.props.dataset.isFeatured&&!this.props.hideIsFeaturedLabel?e.createElement(o.Badge,{text:"Featured",option:"info"}):null),e.createElement("p",{className:"dataset-list-item__summary"},this.props.dataset.overview),e.createElement("p",{className:"dataset-list-item__details"},e.createElement("a",{href:this.props.dataset.ownerUrl,className:"dataset-list-item__details--author"},this.props.dataset.ownerName),"  · updated ",e.createElement(l.TimeAgo,{time:this.props.dataset.dateUpdated}))),e.createElement("div",{className:"dataset-list-item__metadata"},e.createElement("p",{className:"dataset-list-item__metadatum"},e.createElement("span",{className:"dataset-list-item__metadatum--nonlink"},e.createElement(r.Pluralize,{count:this.props.dataset.downloadCount,word:"download",formatNumber:!0}))),this.props.dataset.scriptCount?e.createElement("p",{className:"dataset-list-item__metadatum"},e.createElement("a",{className:"dataset-list-item__metadatum--link",href:this.props.dataset.scriptsUrl},e.createElement(r.Pluralize,{count:this.props.dataset.scriptCount,word:"kernel",formatNumber:!0}))):null,e.createElement("p",{className:"dataset-list-item__metadatum"},e.createElement("a",{className:"dataset-list-item__metadatum--link",href:this.props.dataset.forumUrl},e.createElement(r.Pluralize,{count:this.props.dataset.topicCount,word:"comment",formatNumber:!0})))))},n}(e.Component);t.DatasetListItem=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=n(19),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t="script"==this.props.activityType?"fa-file-code-o":"scriptFork"==this.props.activityType?"fa-code-fork":"scriptRun"==this.props.activityType?"fa-file-code-o":"dataset"==this.props.activityType?"fa-database":"datasetVersion"==this.props.activityType?"fa-database":"topic"==this.props.activityType?"fa-comments-o":"scriptComment"==this.props.activityType?"fa-comment-o":"comment"==this.props.activityType?"fa-comment-o":"",n="script"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created kernel ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptFork"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Forked kernel ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptRun"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Ran version ",this.props.versionNumber," of kernel ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"dataset"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},"a dataset")):"datasetVersion"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created version ",this.props.versionNumber," of dataset ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"topic"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created a new discussion ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptComment"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Commented on kernel ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"comment"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Commented on dataset discussion ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"";return e.createElement("div",{className:"dataset-activity-feed-item"},e.createElement("div",{className:"dataset-activity-feed-item__images"},e.createElement("div",{className:"dataset-activity-feed-item__icon"},e.createElement("span",{className:i("fa",t)})),e.createElement("a",{href:this.props.userUrl},e.createElement("img",{className:"dataset-activity-feed-item__user-avatar",src:this.props.userAvatarUrl}))),e.createElement("div",{className:"dataset-activity-feed-item__user-link-container"},e.createElement("a",{className:"dataset-activity-feed-item__user-link",href:this.props.userUrl},this.props.userDisplayName)),e.createElement("div",{className:"dataset-activity-feed-item__details"},n),e.createElement(s.TimeAgo,{className:"dataset-activity-feed-item__time",time:this.props.date}))},n}(e.Component);t.DatasetActivityFeedItem=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(1),s=n(81),o=n(110),r=n(7),l=n(1002),c=n(952),p=n(101),u=n(414),d=n(112),m=n(99),h=n(111),g=n(1062),f=n(1047),v=n(83),_=n(100),b=n(138),E=n(113),y=n(949),C=n(36),w=n(61),S=n(942),N=n(63),T=n(62),k=n(6),M=n(8),x=n(128);!function(e){e[e.CurrentFiles=0]="CurrentFiles",e[e.NewFiles=1]="NewFiles"}(a=t.FileListIndex||(t.FileListIndex={}));var I=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.recordDatasetDownload=function(){e.props.isNewDataset||goog_report_conversion(),window.Intercom("trackEvent","download_dataset",{dataset_id:e.props.datasetId})},e.redirectToLogin=function(){window.location.href="/account/login"},e}return i.__extends(n,t),n.prototype.renderProgressStep=function(t,n){var a=this.statusSequences(this.props.newDatasetVersionStatus)<t-1?"--pending":this.statusSequences(this.props.newDatasetVersionStatus)==t-1?"--current":"--complete",i=this.statusSequences(this.props.newDatasetVersionStatus)<t-1?0:this.statusSequences(this.props.newDatasetVersionStatus)==t-1?100*this.props.currentStatusPercentComplete:100;return e.createElement("div",{className:M("dataset-home__new-version-status-step","dataset-home__new-version-status-step"+a)},e.createElement("div",{className:M("dataset-home__new-version-progress-bar","dataset-home__new-version-progress-bar"+a),style:{width:i+"%"}}),e.createElement("div",{className:M("dataset-home__new-version-status-step-label","dataset-home__new-version-status-step-label"+a)},n))},n.prototype.statusSequences=function(e){switch(e){case"notYetPersisted":return 0;case"blobsReceived":return 1;case"blobsDecompressed":return 2;case"blobsCopiedToSds":return 3;case"individualBlobsCompressed":return 4;case"ready":return 5;default:return 6}},n.prototype.renderVersionNotes=function(t,n,a){var i=this;return this.props.isEditingVersions?e.createElement("div",{className:"dataset-home__markdown-editor-container"},e.createElement(T.MediaQuery,{minWidth:T.Breakpoints.desktopMin},e.createElement(_.MarkdownEditor,{key:"version-"+n,shouldSanitizeHtml:!0,defaultValue:t,suffix:"-version"+n,onChangeCallback:function(e){return i.props.onDatasetVersionPropChanged(n,"versionNotes",e)},placeholder:a,maxRows:4})),e.createElement(T.MediaQuery,{minWidth:0,maxWidth:T.Breakpoints.tabletMax},e.createElement(_.MarkdownEditor,{key:"version-"+n,shouldSanitizeHtml:!0,hideToolbar:!0,defaultValue:t,suffix:"-version"+n,onChangeCallback:function(e){return i.props.onDatasetVersionPropChanged(n,"versionNotes",e)},placeholder:a,maxRows:4}))):e.createElement(w.MarkdownConverter,{key:"version-"+n,contentClassName:"dataset-home__version-notes",content:t,mimeType:"text/markdown",insertNofollow:!0})},n.prototype.mapFilePreviews=function(e,t,n){var i=this;return void 0===t&&(t=!1),void 0===n&&(n=!1),e.map(function(e,s){var o=n?a.NewFiles:a.CurrentFiles;return{showSubmitToCompButton:!1,submitToCompUrl:null,description:e.description,fileName:e.name,filePreviewUrl:n?"/datasets/inbox-preview?blobFileToken="+e.blobToken:e.previewUrl,blobToken:e.blobToken,fileType:e.fileType||e.name.split(".")[e.name.split(".").length-1],fileUrl:e.downloadUrl,size:e.totalBytes,isEditingDescription:t||n,onDescriptionChange:function(e){return i.props.onDatasetFilePropChanged(s,"description",e,o)},onSaveFileDescription:i.props.onDatasetSaveFileDescription,descriptionPlaceholder:t||n?"Enter a description for this file.":"",validationError:(t||n)&&""===e.description?"Enter a description":"",canDelete:n,onDelete:n?function(){i.props.onDeleteNewVersionFile(e.name)}:null,lastVersionMetadataUrl:n&&null!==i.props.datasetUrl?i.props.datasetUrl+"/preview/"+e.name+"/"+i.props.lastVersionNumber:null,ownerSlug:i.props.slug,datasetSlug:i.props.datasetSlug}})},n.prototype.render=function(){var t=this,n=Math.min(Math.max(this.props.scripts.length,this.props.discussions.length,this.props.contributors.length,1),3),a=this.props.privateGroups.map(function(e){return{value:e.id.toString(),label:e.name}}),I=1==this.props.owners.filter(function(e){return e.id==t.props.organizationId}).length?this.props.owners.filter(function(e){return e.id==t.props.organizationId})[0].maxFileSizeBytes:null;return e.createElement("div",null,this.props.isNewDataset?null:e.createElement("div",{className:"dataset-home__teasers"},e.createElement("div",{className:"dataset-home__teaser-column"},e.createElement(r.ContentBox,{containerClassName:"dataset-home__teaser",title:"Kernels",onTitleClick:function(){return t.props.onChangeTab("kernels")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement(l.ScriptListTeaser,{minItemHeight:n,items:this.props.scripts,emptyListAction:this.props.onNewKernelClicked}))),null!==this.props.datasetUrl&&e.createElement("div",{className:"dataset-home__teaser-column"},e.createElement(r.ContentBox,{containerClassName:"dataset-home__teaser",title:"Discussion",onTitleClick:function(){return t.props.onChangeTab("discussion")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement(c.ForumTopicListTeaser,{minItemHeight:n,items:this.props.discussions,emptyListUrl:this.props.datasetUrl+"/discussion"}))),e.createElement("div",{className:"dataset-home__teaser-column"},e.createElement(r.ContentBox,{containerClassName:"dataset-home__teaser",title:"Top Contributors",onTitleClick:function(){return t.props.onChangeTab("contributors")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement(p.TeaserList,{minItemHeight:n,listItems:this.props.contributors.slice(0,3),listItemRenderer:function(t,n){return e.createElement(S.DatasetContributorsTeaserItem,i.__assign({},t,{key:n}))},emptyListCreateNewUrl:this.props.newScriptUrl,emptyListMessage:"There are no contributors yet.",emptyListCreateNewText:"Be the first"})))),this.props.isNewDataset?null:e.createElement(r.ContentBox,{title:"Recent Activity",onTitleClick:function(){return t.props.onChangeTab("feed")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},this.props.feed.slice(0,5).map(function(t,n){return e.createElement(u.DatasetActivityFeedItem,i.__assign({},t,{key:n}))})),this.props.isNewDataset||this.props.canEditSlug||this.props.canEditPublishStatus||this.props.canEditFeatureStatus||this.props.canEditPublishStatus?e.createElement(r.ContentBox,{contentClassName:"dataset-home__power-settings",title:this.props.isNewDataset?"Choose a Permanent URL":"Power settings",titleBarRightSide:this.props.isNewDataset?"":e.createElement(d.EditStateToggleButton,{sectionName:"Slug",cancelPropName:"slug",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingSlug,toggleCallback:this.props.onDatasetEditingStateChanged})},this.props.canEditSlug?e.createElement("section",{className:"dataset-home__section"},"https://www.kaggle.com/",this.props.ownerSlug,"/",this.props.isEditingSlug?e.createElement(m.InlineTextEditor,{className:"dataset-home__inline-slug-editor",value:this.props.slug,rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(e){return t.props.onDatasetPropChanged("slug",e)}}):this.props.slug):"",this.props.canEditPublishStatus?e.createElement("section",{className:"dataset-home__section"},e.createElement(h.Checkbox,{isChecked:this.props.isPublished,text:"Is published?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onPublishedChange})):"",this.props.canEditFeatureStatus?e.createElement("section",{className:"dataset-home__section"},e.createElement(h.Checkbox,{isChecked:this.props.isFeatured,text:"Is featured?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onFeaturedChange})):"",this.props.canEditPublishStatus&&!this.props.isNewDataset?e.createElement("section",{className:"dataset-home__section"},e.createElement(h.Checkbox,{isChecked:this.props.isRemoved,text:"Is removed?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onRemovedChange})):"",this.props.canEditPrivateGroup?e.createElement("section",{className:"dataset-home__section"},e.createElement("div",{className:"dataset-home__section-label"},"Privacy: "),e.createElement(N.SelectBox,{disabled:!this.props.isEditingSlug,className:"dataset-home__private-group-selection",value:(this.props.privateGroupId||0).toString(),options:a,onChange:function(e){return t.props.onPrivateGroupChanged(parseInt(e))}})):""):null,this.props.isNewDataset&&this.props.originalImageUrl.indexOf("default-backgrounds")>-1?e.createElement(r.ContentBox,{title:"Upload a Banner Image",contentClassName:"dataset-home__image-reminder-box"},e.createElement("div",{className:"dataset-home__image-reminder-text"},e.createElement("p",null,"We suggest you upload a relevant or eye-catching banner image to make your dataset stand out. You can find great free, high-resolution images in ",e.createElement("a",{href:"https://unsplash.com/",target:"_blank"},"unplash.com's")," public domain library.")),e.createElement("div",{className:"dataset-home__image-reminder-button"},e.createElement(o.ButtonRoundEdged,{onClick:this.props.onShowImageUploader,text:"Upload Banner Image"}))):null,e.createElement(r.ContentBox,{title:"Description",titleBarRightSide:this.props.canEdit&&!this.props.isNewDataset||this.props.canEditDescription?e.createElement("span",null,!this.props.canEditDescription||this.props.canEdit||this.props.isEditingDescription?null:e.createElement("span",{style:{marginRight:"10px",fontSize:"10pt"}},"Help us describe this dataset"),e.createElement(d.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingDescription,toggleCallback:this.props.onDatasetEditingStateChanged})):""},e.createElement("section",{className:"dataset-home__section"},this.props.isEditingDescription?e.createElement("div",null,e.createElement(f.InfoToggle,{bannerName:"dataset-description-info",expandedContent:e.createElement("div",{className:"dataset-home__description-helper"},e.createElement("p",null,"Your dataset's description is your chance to capture the interest of the data science community. Especially if you would like your dataset to be featured on Kaggle, your description should answer these questions:"),e.createElement("ul",null,e.createElement("li",null,e.createElement("strong",null,"Context"),": What is the subject matter of the dataset?"),e.createElement("li",null,e.createElement("strong",null,"Content"),": What fields does it include? What's the time period of the data and how was it collected?"),e.createElement("li",null,e.createElement("strong",null,"Acknowledgements"),": Who owns the dataset? Include citations of past research or analysis."),e.createElement("li",null,e.createElement("strong",null,"Inspiration"),": Why is this dataset interesting? What questions would you like answered by the community? Is there any feedback that would be helpful?"))),collapsedContent:e.createElement("div",{className:"dataset-home__description-helper"},"Click here to see tips on describing your dataset.")}),e.createElement(_.MarkdownEditor,{editorClassName:"dataset-home__description-editor",shouldSanitizeHtml:!0,alwaysShowToolbar:!0,defaultValue:this.props.description,placeholder:"Give a detailed description about your dataset.",suffix:"-description",minRows:5,maxRows:15,onChangeCallback:function(e){return t.props.onDatasetPropChanged("description",e)}})):e.createElement(w.MarkdownConverter,{content:this.props.description,mimeType:"text/markdown",insertNofollow:!0})),this.props.privateGroupId?"":e.createElement("div",{className:"dataset-home__bottom-attached-container"},e.createElement("div",{className:"dataset-home__bottom-attached-header"},!this.props.isEditingLicense&&this.props.license?e.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.license}}):e.createElement("div",{className:"dataset-home__bottom-attached-default"},"Select a license"),this.props.canEdit?e.createElement("div",{className:"dataset-home__multiple-button-container"},e.createElement(d.EditStateToggleButton,{sectionName:"License",cancelPropName:"license",saveButtonText:this.props.isNewDataset?"Done":"Save",editButtonText:this.props.isNewDataset?"Select":"Edit",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingLicense,toggleCallback:this.props.onDatasetEditingStateChanged})):""),this.props.isEditingLicense?e.createElement("div",{className:"dataset-home__bottom-attached-container-contents"},e.createElement("div",{className:"dataset-home__license-list-container"},e.createElement(g.RadioButtonList,{options:this.props.licenses.map(function(e){return{value:e.id,text:e.description}}),onChange:function(e){return t.props.onLicenseChanged(e.value,e.text)},selectedValue:this.props.licenseId,textIsHtml:!0}))):"")),this.props.canEdit||this.props.files.length>0||this.props.isSavingNewVersion?e.createElement(r.ContentBox,{title:this.props.files.length>0?this.props.files.length+" File"+(1!==this.props.files.length?"s":"")+" ("+x(this.props.downloadSize,{round:0})+")":"Upload Files",loaderMessage:"Hold tight while we package up your files...",titleBarRightSide:this.props.canEdit?e.createElement("div",{className:"dataset-home__multiple-button-container"},this.props.isSavingNewVersion?"":e.createElement(T.MediaQuery,{minWidth:T.Breakpoints.desktopMin},this.props.isEditingNewVersion?e.createElement(d.EditStateToggleButton,{sectionName:"NewVersion",cancelPropName:"newVersion",cancelCallback:this.props.onDatasetEditingStateCancelled,toggleCallback:this.props.onDatasetEditingStateChanged,isEditing:this.props.isEditingNewVersion,editButtonText:"Create New Dataset Version",saveButtonText:"Save New Version"}):null)):""},this.props.isSavingNewVersion||this.props.showNewVersionProgress?e.createElement("div",{className:"dataset-home__new-version-status-progress"},this.renderProgressStep(1,"Persisting Metadata"),this.renderProgressStep(2,"Decompressing Files"),this.renderProgressStep(3,"Copying Kernel Files"),this.renderProgressStep(4,"Compressing Files"),this.renderProgressStep(5,"Building Archive")):"",this.props.isEditingNewVersion?e.createElement("div",null,e.createElement("section",{className:"dataset-home__section"},this.props.isNewDataset?e.createElement(f.InfoToggle,{bannerName:"dataset-files-helper-new-dataset",expandedContent:e.createElement("div",null,e.createElement("p",null,"Here are some guidelines for uploading your dataset files:"),e.createElement("ul",null,e.createElement("li",null,"CSV files, the preferred format on Kaggle, should be comma-delimited. These will render properly in the file preview, allowing you to add column-level descriptions."),e.createElement("li",null,"If you need to upload more than 20 files, you can compress them into a ZIP archive. This will be uncompressed on our side to make the data available in Kernels."),e.createElement("li",null,"If you have a SQLite database for this dataset, name it database.sqlite in order for users to be able to query it."),e.createElement("li",null,"Keep file names short and clear. Do not include the dataset’s name. ",e.createElement(v.ToolTip,{tipText:"When users download the dataset, it will automatically\nunzip to a folder with the name of the dataset."},e.createElement("span",{className:"fa fa-question-circle"}))))),collapsedContent:e.createElement("div",null,"Click here to see some tips on creating, naming, and uploading files for your dataset.")}):e.createElement(f.InfoToggle,{bannerName:"dataset-files-helper-existing-dataset",expandedContent:e.createElement("div",null,e.createElement("p",null,"Here are some guidelines for updating your dataset files: "),e.createElement("ul",null,e.createElement("li",null,e.createElement("strong",null,"All files will be replaced.")," Be sure to include any existing files that will not change."),e.createElement("li",null,e.createElement("strong",null,"To update existing tables"),": Upload a new version of the file and use the same file name as the previous version."),e.createElement("li",null,e.createElement("strong",null,"To add new tables"),": Upload any new files. You must also upload any existing files again."),e.createElement("li",null,e.createElement("strong",null,"To remove tables"),": Simply do not include any files you would like to be removed."))),collapsedContent:e.createElement("div",null,"Click here to see some tips on creating, naming, and updating the files for your dataset.")})),this.props.isNewDataset?null:e.createElement("div",null,e.createElement("div",{className:"dataset-home__new-version-description-editor"},e.createElement(_.MarkdownEditor,{editorClassName:"dataset-home__description-editor",shouldSanitizeHtml:!0,alwaysShowToolbar:!0,suffix:"-newVersionDescription",placeholder:"Enter a description for this version.",onChangeCallback:function(e){return t.props.onDatasetPropChanged("newVersionDescription",e)}}))),e.createElement("div",{className:"dataset-home__file-uploader-container"},e.createElement(b.FileUploader,{createBlobUrl:"/blobs/inbox/dataset-version-files",mode:"multiple",onFileUploadFinished:this.props.onFileUploadFinished,autoRemoveOnComplete:!0,maxUncompressedBytesAllowed:I||this.props.maxUncompressedFileBytesAllowed,maxCompressedBytesAllowed:I||this.props.maxCompressedFileBytesAllowed})),this.props.newVersionFiles&&this.props.newVersionFiles.length>0?e.createElement(E.FilePreviewList,{canEdit:this.props.canEdit,files:this.mapFilePreviews(this.props.newVersionFiles,!0,!0),userCanEditMetadata:!k.Current.isAnonymous,onMetadataChange:this.props.onNewFileMetadataChange}):null,this.props.isNewDataset||this.props.isSavingNewVersion?null:e.createElement("div",null,e.createElement("div",{className:"dataset-home__call-to-action-container"},e.createElement(s.Button,{onClick:function(){return t.props.onDatasetEditingStateChanged("NewVersion")},text:"Save New Version"})),e.createElement("div",{className:"dataset-home__cancel-new-dataset"},e.createElement("button",{className:"dataset-home__cancel-new-dataset-button",onClick:function(){return t.props.onDatasetEditingStateCancelled("NewVersion","newVersion")}},"Cancel")))):"",!this.props.isNewDataset||this.props.isSavingNewVersion?e.createElement("div",{className:this.props.isEditingNewVersion?"dataset-home__bottom-attached-container":""},!this.props.isEditingNewVersion||this.props.showCurrentVersionFiles?e.createElement("div",null,e.createElement(E.FilePreviewList,{canEdit:this.props.canEdit,files:this.mapFilePreviews(this.props.files),userCanEditMetadata:!0,onStartEditingMetadata:k.Current.isAnonymous?this.redirectToLogin:null,onMetadataChange:k.Current.isAnonymous?this.redirectToLogin:this.props.onExistingFileMetadataChange,onAddNewDatasetVersion:this.props.onDatasetEditingStateChanged})):"",this.props.isEditingNewVersion&&this.props.files.length>0?e.createElement("div",{onClick:this.props.onToggleCurrentVersionFiles,className:M("dataset-home__bottom-attached-container-toggle","dataset-home__bottom-attached-container-toggle"+(this.props.showCurrentVersionFiles?"--collapse":"--expand"))},this.props.showCurrentVersionFiles?"hide":"see"," version ",this.props.datasetVersions.filter(function(e){return e.id==t.props.datasetVersionId})[0].versionNumber," file descriptions"):""):""):"",this.props.datasetVersions.length?e.createElement(r.ContentBox,{title:"Versions",titleBarRightSide:this.props.canEdit?e.createElement(d.EditStateToggleButton,{sectionName:"Versions",cancelPropName:"datasetVersions",isEditing:this.props.isEditingVersions,cancelCallback:this.props.onDatasetEditingStateCancelled,toggleCallback:this.props.onDatasetEditingStateChanged}):""},e.createElement(y.DatasetVersionList,{activeVersionId:this.props.datasetVersionId,datasetVersionListItems:this.props.datasetVersions,datasetVersionListKeyBaseName:"dataset-version-key-",datasetVersionNotesRenderer:this.renderVersionNotes.bind(this),isEditing:this.props.isEditingVersions,textareaPlaceholder:"Enter a description of the updates made on this version.",hideVersionStatuses:this.props.hideVersionStatuses})):"",this.props.isNewDataset?null:e.createElement(r.ContentBox,null,e.createElement("span",{className:"dataset-home__totals"},e.createElement(C.Pluralize,{word:"view",count:this.props.numberOfViews,formatNumber:!0})," · ",e.createElement(C.Pluralize,{word:"download",count:this.props.numberOfDownloads,formatNumber:!0})," · ",e.createElement(C.Pluralize,{word:"kernel",count:this.props.numberOfScripts,formatNumber:!0})," · ",e.createElement(C.Pluralize,{word:"topic",count:this.props.numberOfTopics,formatNumber:!0}))),this.props.isNewDataset?e.createElement("div",{className:"dataset-home__call-to-action-container"},e.createElement(s.Button,{onClick:this.props.onSaveNewDataset,isDisabled:!this.props.isNewDataset,text:"Publish Dataset"})):this.props.canEdit&&this.props.isSavingNewVersion?null:e.createElement("div",{className:"dataset-home__call-to-action-container"},e.createElement(s.Button,{href:"/datasets",text:"Explore More Datasets"})))},n}(e.Component);t.DatasetHome=I}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(167),o=n(7),r=n(63),l=n(285),c=n(286),p=n(6),u=n(62),d=n(216),m=n(413),h=function(t){function n(e){var n=t.call(this,e)||this;n.handleResize=function(){var e=window.innerWidth;n.setState({windowWidth:e,shouldUseMobileSort:e<=u.Breakpoints.mobileMax})},n.onWindowPopState=function(e){if(e.state&&e.state.datasetListFilterState&&e.state.datasetListFilterState.sortBy){var t=e.state.datasetListFilterState;n.onFilterChanged(t.sortBy,t.group,!1)}else n.onFilterChanged(n.props.sortBy,n.props.selectionGroup,!1)},n.onSearchChange=function(e){var t=null==n.qTextBox||""==n.qTextBox;n.qTextBox=e.target.value,t&&null!=n.qTextBox&&""!=n.qTextBox&&n.setState({sortBy:"relevance"}),n.timer&&clearInterval(n.timer),n.timer=window.setInterval(function(){return n.updateSearch(n.qTextBox)},200)},n.handleBeforeUnload=function(e){var t=a(".datasets__list-wrapper");t.is(document.activeElement)||0!==t.has(document.activeElement).length||n.logSearchAction()},n.updateSearch=function(e){n.timer&&clearInterval(n.timer),n.setState({search:e,sortBy:null==e||""==e?"hottest":n.state.sortBy},function(){return n.onFilterChanged(n.state.sortBy,n.state.selectionGroup,!0)})},n.handleClickResult=function(e,t,a){n.logSearchAction("dataset-"+e,t,a)},n.getData=function(e){return n.currentDataRequest&&4!==n.currentDataRequest.readyState&&n.currentDataRequest.abort(),n.currentDataRequest=a.ajax({context:n,url:"/datasets.json?"+a.param(e),method:"GET",success:function(e){var t=n.state.datasetListItems.concat(e.datasetListItems);return n.setState({datasetListItems:t,totalDatasetListItems:e.totalDatasetListItems,isLoadingMoreData:!1,hasLoadedSomeData:t.length>0,hasMoreData:t.length<e.totalDatasetListItems})}}),n.currentDataRequest},n.props.userId?n.initForProfile():n.initForDatasetTab();var i=n.props.datasetListItems||[];return n.state={page:1,sortBy:n.props.sortBy||"hottest",selectionGroup:n.props.selectionGroup||(n.props.userId?"my":"featured"),search:n.props.search,isLoadingMoreData:!1,hasMoreData:i.length<n.props.totalDatasetListItems,hasLoadedSomeData:i.length>0,datasetListItems:i,totalDatasetListItems:n.props.totalDatasetListItems,shouldUseMobileSort:window.innerWidth<=u.Breakpoints.mobileMax,shouldShowMobileSort:!1},n}return i.__extends(n,t),n.prototype.initForDatasetTab=function(){this.availableSelectionGroups=[{value:"featured",label:"Featured"},{value:"all",label:"All"}],p.Current.isAnonymous||(this.props.canSeeUnfeaturedTab&&this.availableSelectionGroups.push({value:"unfeatured",label:"Unfeatured"}),(this.props.canCreateNewDataset||this.props.userId)&&this.availableSelectionGroups.push({value:"my",label:"Mine"}),this.availableSelectionGroups.push({value:"upvoted",label:"Upvoted"}))},n.prototype.initForProfile=function(){this.availableSelectionGroups=[{value:"my",label:"Mine"},{separator:!0},{value:"upvoted",label:"Upvoted"}]},n.prototype.componentDidMount=function(){window.Intercom("trackEvent","view_datasets"),this.props.datasetListItems||this.onFilterChanged(this.state.sortBy,this.state.selectionGroup,!1)},n.prototype.componentWillMount=function(){window.addEventListener("resize",this.handleResize,!1),window.addEventListener("popstate",this.onWindowPopState,!1),window.addEventListener("beforeunload",this.handleBeforeUnload,!1)},n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!1),window.removeEventListener("popstate",this.onWindowPopState,!1),window.removeEventListener("beforeunload",this.handleBeforeUnload,!1)},n.prototype.onSortByChanged=function(e){this.onFilterChanged(e,this.state.selectionGroup,!0)},n.prototype.onSelectionGroupChanged=function(e){this.onFilterChanged(this.state.sortBy,e,!0)},n.prototype.onFilterChanged=function(e,t,n){var i=this;this.container&&(this.container.style.minHeight=a(this.container).height()+"px"),this.setState({page:1,datasetListItems:[],hasLoadedSomeData:!1,isLoadingMoreData:!0,hasMoreData:!0,sortBy:"upvoted"==t&&"relevance"==e?"hottest":e,selectionGroup:t},function(){var e=window.history.state||{};e.datasetListFilterState=i.getFilterParams();var t=window.location.pathname+"?"+a.param(e.datasetListFilterState);n&&window.history.pushState(e,null,t),i.getData(e.datasetListFilterState).then(function(){i.container.style.minHeight="initial"})})},n.prototype.onScroll=function(){var e=this;!this.state.isLoadingMoreData&&this.state.hasMoreData&&this.setState({isLoadingMoreData:!0,page:this.state.page+1},function(){var t=e.getFilterParams();e.getData(t)})},n.prototype.logSearchAction=function(e,t,n){this.state.search&&a.ajax({url:"/search/log",type:"POST",data:{index:"datasets",isQuick:!1,q:this.state.search,isSuccess:null!=e&&null!=t,rank:n,id:e,url:t}})},n.prototype.getFilterParams=function(){var e={sortBy:this.state.sortBy,group:this.state.selectionGroup};return this.props.userId&&(e.userId=this.props.userId,e.group="upvoted"===e.group?"upvoted":"my"),1!==this.state.page&&(e.page=this.state.page),this.state.search&&"upvoted"!=this.state.selectionGroup&&(e.search=this.state.search),e},n.prototype.getSelectionGroupItems=function(){var e=this;return this.availableSelectionGroups.map(function(t,n){return t.separator?{separator:!0}:{name:t.label,key:t.value,href:"?sortBy="+e.state.sortBy+"&group="+t.value,action:function(){e.onSelectionGroupChanged(t.value)}}})},n.prototype.getTitle=function(){if(this.state.isLoadingMoreData)return" ";var e="";switch(this.state.selectionGroup){case"featured":e="featured datasets";break;case"unfeatured":e="unfeatured datasets";break;case"my":e="datasets created";break;case"upvoted":e="upvoted datasets";break;case"all":e="datasets"}return(this.state.totalDatasetListItems||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+e},n.prototype.getAvailableSortingOrders=function(){var e=[{value:"hottest",label:"Hotness"},{value:"votes",label:"Most Votes"},{value:"updated",label:"Recently Updated"},{value:"active",label:"Recently Active"}];return this.state.search&&e.push({value:"relevance",label:"Relevance"}),e},n.prototype.renderSortBy=function(){var t=this;return e.createElement("div",{className:""},this.state.shouldUseMobileSort?e.createElement("a",{className:"datasets__filters-link--mobile",onClick:function(){return t.showMobileSortMenu(!0)}},"Filter/Sort ",e.createElement("span",{className:"fa fa-angle-right"})):e.createElement("div",{className:"datasets__filters"},e.createElement("p",{className:"datasets__filters-label"},"Sort by"),e.createElement(r.SelectBox,{options:this.getAvailableSortingOrders(),onChange:function(e){return t.onSortByChanged(e)},searchable:!1,value:this.state.sortBy})))},n.prototype.renderOptionalLoadingMessage=function(){return this.state.isLoadingMoreData?e.createElement("div",{className:"script-list-react__message"},"Loading ",this.state.hasLoadedSomeData?"more ":"","datasets..."):null},n.prototype.renderOptionalNoMoreScriptsMessage=function(){return!this.state.hasMoreData&&(0===this.state.datasetListItems.length||this.state.datasetListItems.length>20)?e.createElement("div",{className:"script-list-react__message"},e.createElement("span",null,"No ",this.state.hasLoadedSomeData?"more ":"","datasets to show"),e.createElement("br",null)):null},n.prototype.renderSearch=function(t){return e.createElement("label",{className:"datasets__search-wrapper datasets__search-wrapper--"+t,style:{display:"upvoted"==this.state.selectionGroup?"none":""}},e.createElement("input",{type:"text",className:"datasets__search datasets__search--"+t,ref:"search",placeholder:"Search",defaultValue:this.props.search,onChange:this.onSearchChange}))},n.prototype.renderSubTitleBar=function(){return e.createElement(l.SelectionGroup,{children:this.getSelectionGroupItems(),selected:this.state.selectionGroup,filters:e.createElement(u.MediaQuery,{minWidth:u.Breakpoints.mobileMax+1},this.renderSearch("sub-title-bar"))})},n.prototype.showMobileSortMenu=function(e){this.setState({shouldShowMobileSort:e})},n.prototype.renderMobileSortMenu=function(){var t=this;return e.createElement(d.OffCanvasContainer,{closeButtonCallback:function(){return t.showMobileSortMenu(!1)},shouldShowOffCanvas:this.state.shouldShowMobileSort&&this.state.shouldUseMobileSort,shouldUseCloseButton:!0,shouldUseRightSide:!0},e.createElement("div",{className:"datasets__filters--mobile"},e.createElement("p",{className:"datasets__filters-label--mobile"},"Sort by"),e.createElement(r.SelectBox,{className:"datasets__filter--mobile",options:this.getAvailableSortingOrders(),onChange:function(e){t.onSortByChanged(e),t.showMobileSortMenu(!1)},searchable:!1,value:this.state.sortBy})),this.renderSearch("off-canvas"))},n.prototype.handleNewDatasetClick=function(){goog_report_conversion()},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"datasets",ref:function(e){return t.container=e}},this.props.banner?e.createElement(s.Banner,{title:"Datasets",infoTitle:"Welcome to Kaggle Datasets",infoSubtitle:"The best place to discover and seamlessly analyze open data",infoBanner:this.props.banner,bannerImageClassName:"datasets__banner-image",callToActionText:"Learn More",callToActionUrl:"/datasets/about",onCallToActionClick:null,callToActionText2:"New Dataset",callToActionUrl2:"/datasets/new",onCallToActionClick2:this.handleNewDatasetClick,hideCallToActionOnSmallDisplays:!1,panels:[{imageSrc:"/static/images/datasets-1-search@2x.png",title:"Discover",description:"Use the search box to find open datasets on everything from government, health, and science to popular games and dating trends."},{imageSrc:"/static/images/datasets-2-explore@2x.png",title:"Explore",description:e.createElement("span",null,"Execute, share, and comment on code for any open dataset with our in-browser analytics tool, ",e.createElement("a",{href:"/kernels"},"Kaggle Kernels"),". You can also download datasets in an easy-to-read format.")},{imageSrc:"/static/images/datasets-3-create@2x.png",title:"Create a Dataset",description:e.createElement("span",null,"Contribute to the open data movement and connect with other data enthusiasts by clicking “",e.createElement("a",{href:"/datasets/new"},"New Dataset"),"” to publish an open dataset of your own.")}]}):null,e.createElement("div",{className:"datasets__list-wrapper"},e.createElement(o.ContentBox,{title:this.getTitle(),titleBarRightSide:this.renderSortBy(),subTitleBar:this.renderSubTitleBar()},e.createElement(c.WindowInfiniteScroll,{onScroll:function(){return t.onScroll()}},this.state.datasetListItems.map(function(n,a){return e.createElement(m.DatasetListItem,{key:a,dataset:n,hideIsFeaturedLabel:"featured"==t.state.selectionGroup,onClick:function(){return t.handleClickResult(n.datasetId,n.datasetUrl,a+1)}})}),this.renderOptionalLoadingMessage(),this.renderOptionalNoMoreScriptsMessage())))," ",this.renderMobileSortMenu())},n}(e.Component);t.DatasetListReact=h}).call(t,n(0),n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(137),s=function(){function e(t){var n=this;this.direct=t,this.sessionId=i.uuid(10),this.status=i.KernelStatus.Unknown,this.connectedStatuses=[i.KernelStatus.Running,i.KernelStatus.RenderingHtml,i.KernelStatus.Stopped],this.statusChanged=function(e,t){n.scriptRunId=t,e!==n.status&&(n.sendTailOfLastStatus(),n.sendHeadOfCurrentStatus(e))},this.sendTailOfLastStatus=function(){return n.sendCurrentStatus()},this.sendHeadOfCurrentStatus=function(e){n.status=e,n.statusId=i.uuid(10),n.start=(new Date).getTime(),n.sendCurrentStatus()},this.sendCurrentStatus=function(){n.calculateTiming(),n.hasStatus()&&n.trackStatus()},this.commonDimensions=function(){return{host:window.location.host,direct:n.direct,sessionId:n.sessionId,scriptRunId:n.scriptRunId}},this.trackStatus=function(){var t=n.buildEventMetrics(),s=n.isConnected(),o=a.__assign({},n.commonDimensions(),{id:n.statusId});!function(t,o){a.__awaiter(n,void 0,void 0,function(){var n,r,l,c,p,u;return a.__generator(this,function(d){switch(d.label){case 0:return r=(n=appInsights).trackEvent,l=["notebook:status-"+i.KernelStatus[this.status].toLowerCase()],c=[{},o],p={},u=s,u?[3,2]:[4,e.isOnline()];case 1:u=d.sent(),d.label=2;case 2:return r.apply(n,l.concat([a.__assign.apply(void 0,c.concat([(p.online=u,p)])),t])),[2]}})})}(t,o)},this.trackAction=function(e){var t=a.__assign({},n.commonDimensions(),{action:e});appInsights.trackEvent("notebook:action",t)},this.calculateTiming=function(){return n.msInStatus=(new Date).getTime()-n.start},this.isConnected=function(){return n.connectedStatuses.indexOf(n.status)>=0},this.reportConnectionStatus=function(){return n.msInStatus>1e4},this.buildEventMetrics=function(){return n.reportConnectionStatus()?{notebookMsInStatus:n.msInStatus,notebookDisconnectedPercentage:n.isConnected()?0:100}:{notebookMsInStatus:n.msInStatus}},this.hasStatus=function(){return n.status!==i.KernelStatus.Unknown},setInterval(this.sendCurrentStatus.bind(this),6e4)}return e.isOnline=function(){return new Promise(function(e,t){var n=document.createElement("img");n.onerror=function(){return e(!1)},n.onload=function(){return e(!0)},n.src="https://www.google.com/favicon.ico?"+(new Date).getTime()})},e}();t.NotebookTelemetry=s},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(128),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props.time?Math.round(10*+this.props.time)/10:null;if(""===this.props.time&&""===this.props.data)return e.createElement("div",{className:"script-log-pane__line"},e.createElement("span",{className:"script-log-pane__empty-message"},"No output was generated."));var n="script-log-pane__data-column";return"stderr"===this.props.stream_name||"failure"===this.props.status?n+="--stderr":"success"===this.props.status&&(n+="--success"),e.createElement("div",{className:"script-log-pane__line"},e.createElement("span",{className:"script-log-pane__time-column"},"number"==typeof t&&t.toFixed(1)+"s"),e.createElement("span",{className:"script-log-pane__line-no-column"},this.props.lineNo),e.createElement("span",{className:n},this.props.data))},n}(e.Component);t.ScriptLogPaneLine=o;var r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.downloadUrl=function(){var e=this.props.logLineData.map(function(e){return e.data}).join("\n");return"data:text/plain;charset=utf-8,"+encodeURIComponent(e)},n.prototype.renderStatus=function(){var t=e.createElement(o,{key:"scriptlogpane-emtpy",lineNo:this.props.logLineData.length+1,stream_name:"stdout",time:this.props.logLineData.slice(-1)[0].time,data:""}),n=0===this.props.exitCode?"Complete. Exited with code 0.":"Failed. Exited with code "+this.props.exitCode+".";return"number"==typeof this.props.exitCode?e.createElement("div",null,t,e.createElement(o,{key:"scriptlogpane-status",status:0===this.props.exitCode?"success":"failure",lineNo:this.props.logLineData.length+2,stream_name:"stdout",time:this.props.logLineData.slice(-1)[0].time,data:n})):null},n.prototype.renderHeader=function(){return e.createElement("div",{className:"script-log-pane__line"},e.createElement("span",{className:"script-log-pane__time-column script-log-pane__time-column--header"},"Time"),e.createElement("span",{className:"script-log-pane__line-no-column script-log-pane__line-no-column--header"},"Line #"),e.createElement("span",{className:"script-log-pane__data-column script-log-pane__data-column--header"},"Log Message"))},n.prototype.renderLines=function(){var t=this.props.logLineData.length>0&&this.props.logLineData[0].data;return e.createElement("div",null,t&&this.renderHeader(),this.props.logLineData.map(function(t,n){return e.createElement(o,a.__assign({key:"scriptlogpane-"+n,lineNo:n},t))}),t&&this.renderStatus())},n.prototype.render=function(){var t=e.createElement("div",{className:"script-code-pane__right-section"},e.createElement("a",{href:this.downloadUrl(),className:"script-code-pane__download",download:"log.txt"},"Download Log"));return!1===this.props.withContentBox?this.renderLines():e.createElement(i.ContentBox,{title:"Log",titleBarRightSide:t},e.createElement("div",{className:"script-log-pane__log"},this.renderLines()))},n}(e.Component);t.ScriptLogSection=r;var l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderScriptInfo=function(){return e.createElement("div",{className:"script-log-pane__run-info"},e.createElement("div",{className:"script-log-pane__run-info-top"},e.createElement("div",{className:"script-log-pane__run-info-column"},e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Succeeded"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.succeeded?"True":"False")),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Exit Code"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.exitCode)),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Docker Image Name"),e.createElement("div",{className:"script-log-pane__run-info-right"},e.createElement("a",{href:this.props.dockerHubUrl},this.props.dockerImageName)," (",e.createElement("a",{href:this.props.dockerfileUrl},"Dockerfile"),")")),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Timeout Exceeded"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.timeoutExceeded?"True":"False"))),e.createElement("div",{className:"script-log-pane__run-info-column"},e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Run Time"),e.createElement("div",{className:"script-log-pane__run-info-right"},Math.round(10*this.props.runTimeSeconds)/10," seconds")),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Queue Time"),e.createElement("div",{className:"script-log-pane__run-info-right"},Math.round(10*this.props.queuedSeconds)/10," seconds")),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Output Size"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.outputSizeBytes&&s(this.props.outputSizeBytes))),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Used All Space"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.usedAllSpace?"True":"False")))),e.createElement("div",{className:"script-log-pane__run-info-row"},e.createElement("div",{className:"script-log-pane__run-info-left"},"Failure Message"),e.createElement("div",{className:"script-log-pane__run-info-right"},this.props.failureMessage)))},n.prototype.render=function(){return!1===this.props.withContentBox?this.renderScriptInfo():e.createElement(i.ContentBox,{title:"Run Info"},this.renderScriptInfo())},n}(e.Component);t.ScriptRunInfoSection=l;var c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getLoglineData=function(){var e=[{time:"",stream_name:"stdout",lineNo:0,data:""}];try{e=JSON.parse(this.props.logContents)}catch(n){try{e=JSON.parse("["+this.props.logContents)}catch(n){if(console.warn("Error in log parsing"),""!==this.props.logContents){var t=this.props.logContents.split("\n");e=t.map(function(e,t){return{time:null,stream_name:"stdout",lineNo:t+1,data:e}})}}}return e.forEach(function(e,t){return e.lineNo=t+1}),e},n.prototype.render=function(){var t=this.getLoglineData();return e.createElement("div",{className:"script-log-pane"},e.createElement(l,a.__assign({},this.props.runInfo)),e.createElement(r,{logLineData:t,exitCode:this.props.runInfo.exitCode}))},n}(e.Component);t.ScriptLogPaneContainer=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){var n=t.url,a=t.action;return n&&a?e.createElement("a",{className:"checklist__item-action",href:n},a," ›"):a||null},s=function(t){var n=t.ok,s=t.message,o=t.tips,r=a.__rest(t,["ok","message","tips"]);return e.createElement("div",{className:"checklist__item checklist__item--"+(n?"ok":"not-ok")},e.createElement("i",{className:"checklist__item-icon fa fa-"+(n?"check-square":"times"),"aria-hidden":"true"}),e.createElement("div",{className:"checklist__item-content"},e.createElement("div",{className:"checklist__item-title"},s),o&&e.createElement("ul",{className:"content-box__checklist-item-tips checklist__item-tips"},o.map(function(t,n){return e.createElement("li",{key:n},t)}))),e.createElement(i,a.__assign({},r)))};t.Checklist=function(t){var n=t.okHeader,i=t.notOkHeader,o=t.children;if(!o)return null;var r=o.every(function(e){return e.ok});return e.createElement("div",{className:"checklist"},(n||i)&&e.createElement("div",{className:"checklist__header checklist__header--"+(r?"ok":"not-ok")},r?n:i),e.createElement("div",{className:"checklist__items"},o.map(function(t,n){return e.createElement(s,a.__assign({key:n},t))})))}}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(46),o=n(6),r=void 0!==e.env.KUDU_SYNC_CMD||!0,l=function(e){function t(t){var n=e.call(this,t)||this;return n.showItAnyway=function(){return n.setState({shouldShow:!0})},n.state={shouldShow:!t.disableDevMode&&!r},n}return i.__extends(t,e),t.prototype.render=function(){var e=this,t=this.state.shouldShow,n=this.props,i=n.canViewItAnyway,r=n.children,l=n.title,c=n.subtitle;return t?r:a.createElement("div",{className:"confused-travolta"},a.createElement("div",{className:"confused-travolta__image"},a.createElement("img",{src:"https://i.imgur.com/e1IneGq.jpg",alt:"Confused Travolta"})),l&&a.createElement("p",{className:"confused-travolta__title"},l),c&&a.createElement("p",{className:"confused-travolta__subtitle"},c),(i||o.Current.isAdmin)&&a.createElement(s.ButtonAutoWidth,{onClick:function(){return e.showItAnyway()},text:a.createElement("span",null,a.createElement("span",{className:"fa fa-lock"})," See it anyway")}))},t}(a.Component);t.ConfusedTravolta=l}).call(t,n(199),n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(1036),o=n(5),r=function(t){function n(e){var n=t.call(this,e)||this;return n.state=i.__assign({},n.props.initialState,{commentReplySubmitted:function(e){return n.loadData(n.props.topicId,e)},dataLoaded:!!n.props.initialState,kernelFilterChanged:function(e){return n.changeKernelFilter(e)},replySubmitted:function(){return n.props.replySubmitted(function(e){return n.loadData(n.props.topicId,function(){n.setState({showMiniEditor:!0});var t="#"+e,i=a(t).position();a(document).scrollTop();a("html, body").animate({scrollTop:i.top-250},300)})})},showMiniEditor:!0,showReplyPreview:!1,showSortPane:!1,sortChanged:function(e){return n.changeSort(e)},openMiniEditor:function(){return n.setState({showMiniEditor:!1})},toggleReplyPreview:function(){return n.setState({showReplyPreview:!n.state.showReplyPreview})},toggleSortPane:function(){return n.setState({showSortPane:!n.state.showSortPane})}}),n}return i.__extends(n,t),n.prototype.componentWillMount=function(){var e=this;this.state.dataLoaded||this.loadData(this.props.topicId,function(){return e.setState({dataLoaded:!0},function(){window.setTimeout(function(){var e=a(window.location.hash).position();if(e){a(document).scrollTop();a("html, body").animate({scrollTop:e.top-100},300)}})})})},n.prototype.render=function(){return this.state.dataLoaded?e.createElement(s.CommentList,i.__assign({},this.props,this.state)):e.createElement(o.LoadingText,{isLoading:!this.state.dataLoaded,text:"Loading Comments"})},n.prototype.changeKernelFilter=function(e){var t=this;this.setState({kernelFilter:e},function(){return t.loadData(t.props.topicId)})},n.prototype.changeSort=function(e){var t=this;history.replaceState(history.state,document.title,window.location.pathname+window.location.search),this.setState({sort:e},function(){return t.loadData(t.props.topicId)})},n.prototype.loadData=function(e,t){var n=this;if(void 0===t&&(t=null),null==e)return void this.setState({dataLoaded:!0});a.ajax("/topics/"+e+"/comments.json",{data:{filter:this.state.kernelFilter,sort:this.state.sort}}).done(function(e){n.setState(i.__assign({},n.state,e),t)})},n}(e.Component);t.CommentListContainer=r}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=n(5),o=n(210),r=n(423),l=n(424),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.author;return e.createElement("div",{id:this.props.id.toString()},e.createElement(s.Modal,{buttonClassName:"discussion-comment__hidden",modalClassName:"flag-form__wrapper",modalIsShown:this.props.showFlagForm,onClose:this.props.flagFormClosed},e.createElement("div",{className:"flag-form"},e.createElement("div",{className:"flag-form__title"},"Flag this post?"),e.createElement("div",{className:"flag-form__body"},"Flagging notifies Kaggle that this message is spam, inappropriate, abusive, or violates rules. Do not use flagging to indicate you disagree with an opinion or to hide a post."),e.createElement("div",{className:"flag-form__actions"},e.createElement(s.Button,{classNames:"flag-form__action flag-form__action--secondary",onClick:this.props.flagFormClosed,text:"Cancel"}),e.createElement("span",{className:"flag-form__action-spacer"}),e.createElement(s.Button,{classNames:"flag-form__action",onClick:this.props.flagged,text:"Flag as Inappropriate"})))),this.props.parentUrl&&this.props.parentName?e.createElement("div",{className:"discussion-comment__parent"},e.createElement("span",{className:"fa fa-share"})," in response to ",e.createElement("a",{className:"discussion-comment__parent-link",href:this.props.parentUrl},this.props.parentName)):null,e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},e.createElement("div",{className:"comment-wrapper "+(this.props.showEditForm&&this.props.showMiniEditor&&"comment-wrapper--mini-form")},e.createElement("div",{className:"discussion-comment__author"},e.createElement(s.Avatar,a.__assign({},this.props.author,{hideTooltop:!0,width:40})),this.props.medal?e.createElement("img",{className:"discussion-comment__medal",src:"/static/images/medals/discussion/"+this.props.medal+"L@1x.png",title:this.props.medal}):null),e.createElement("div",{className:i("discussion-comment",this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?"discussion-comment--parent":null)},!this.props.showMiniEditor&&e.createElement("span",{className:"discussion-comment__title"},e.createElement("span",{className:"discussion-comment__title-author-link-wrapper"},e.createElement("a",{className:"discussion-comment__title-author-link"+("parent"==this.props.authorType?" discussion-comment__title-author-link--parent-author":"topic"==this.props.authorType?" discussion-comment__title-author-link--topic-author":""),href:n.userUrl,title:n.displayName},n.displayName)),this.props.competitionRanking?[e.createElement("span",{className:"discussion-comment__title-element"},"•"),e.createElement("span",{className:"discussion-comment__title-element"},"(",e.createElement(s.Ordinal,null,this.props.competitionRanking)," in this Competition)")]:null,this.props.kernelVersion?[e.createElement("span",{className:"discussion-comment__title-element"},"•"),e.createElement("span",{className:"discussion-comment__title-element"},this.props.kernelVersion==this.props.currentKernelVersion?"Posted on Latest Version":"Posted on Version "+this.props.kernelVersion)]:null,this.props.postDate?[e.createElement("span",{className:"discussion-comment__title-element"},"•"),e.createElement("span",{className:"discussion-comment__title-element"},e.createElement(s.TimeAgo,{time:this.props.postDate}))]:null,this.props.titleOptions.map(function(t){return[e.createElement("span",{className:"discussion-comment__title-element"},"•"),e.createElement("a",{className:i("discussion-comment__title-element","discussion-comment__title-element--link",t.className),href:t.href,onClick:t.onClick},t.text)]}),e.createElement("span",{className:"discussion-comment__title-element--spacer"}),this.props.showEditForm?e.createElement("div",{className:"discussion-comment__preview-button",onClick:function(){return t.props.toggleEditPreview()}},this.props.showEditPreview?"Edit":"Preview"):this.props.isNew?null:e.createElement(s.VoteButton,{canDownvote:this.props.canDownvote&&s.Current.userId!=this.props.author.id,canUpvote:s.Current.userId!=this.props.author.id,compact:!0,hasAlreadyVotedDown:-1===this.props.currentUserVote,hasAlreadyVotedUp:1===this.props.currentUserVote,totalVotes:this.props.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+this.props.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+this.props.id,upVoteIntercomEventName:"forum_vote",downVoteIntercomEventName:"forum_vote"})),e.createElement("div",{className:i("discussion-comment__body",this.props.showMiniEditor&&"discussion-comment__body--mini",this.props.showEditForm&&!this.props.showEditPreview?"discussion-comment__body--editing":null)},this.props.showEditForm?[e.createElement(s.MarkdownEditor,{alwaysShowToolbar:!0,compact:window.innerWidth<s.Breakpoints.desktopMin,collapsedMode:this.props.showMiniEditor,defaultValue:this.props.editDraft,onChangeCallback:function(e){return t.props.editDraftChanged(e)},onInputFocus:this.props.openMiniEditor,placeholder:this.props.showMiniEditor?"Click here to enter a comment…":"Enter your comment here…",renderPreview:function(t,n){return e.createElement(o.ForumMessageContent,{rawHtml:n,rawMarkdown:t})},rows:3,shouldSanitizeHtml:!0,showPreview:this.props.showEditPreview,suffix:"-comment-"+this.props.id+"-edit"}),!this.props.showMiniEditor&&[e.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),e.createElement(s.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),e.createElement(s.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),e.createElement("div",{className:"discussion-comment__action-buttons"},this.props.allowAttachments?e.createElement("div",{className:"discussion-comment__action-button"},e.createElement(s.FileUploader,{compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",mode:"multiple",onFileUploadFinished:this.props.attachmentAdded,autoRemoveOnComplete:!0,maxUncompressedBytesAllowed:5e8,maxCompressedBytesAllowed:5e8,suffix:"-comment-"+this.props.id,multipleFileButtonLabel:" "})):null,e.createElement("span",{className:"discussion-comment__flex-spacer"}),e.createElement("span",{className:"discussion-comment__editor-submit-wrapper"},e.createElement(s.Button,{isDisabled:this.props.isSubmittingReply,isSmall:!0,onClick:this.props.editSubmitted,text:this.props.isNew?"Post Comment":"Save Changes"})))]]:[e.createElement(o.ForumMessageContent,{rawHtml:this.props.content,rawMarkdown:this.props.rawMarkdown||""}),e.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),e.createElement(s.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted}),e.createElement(s.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted})]),this.props.showOptions?e.createElement("span",{className:"discussion-comment__options"},e.createElement("span",{className:"discussion-comment__options-group"},this.props.leftOptions.map(function(t){return[e.createElement("a",{className:i("discussion-comment__option",t.className),href:t.href,onClick:t.onClick},t.text),e.createElement("span",{className:"discussion-comment__option-spacer"},"|")]})),e.createElement("span",{className:"discussion-comment__spacer"}),e.createElement("span",{className:"discussion-comment__options-group"},this.props.rightOptions.map(function(t){return[e.createElement("a",{className:i("discussion-comment__option",t.className),href:t.href,onClick:t.onClick},t.text),e.createElement("span",{className:"discussion-comment__option-spacer"},"|")]}))):null,this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?e.createElement("div",{className:"discussion-comment__replies"},this.props.replies.map(function(n){return[e.createElement(r.CommentContainer,a.__assign({},n,{allowReplies:t.props.allowReplies,canDownvote:t.props.canDownvote,key:n.id,onReply:t.props.onReply,parentId:t.props.id,parentReplyShown:t.props.showReplyForm,quoted:t.props.quoted})),e.createElement("div",{className:"discussion-comment__linking-line"})]}),this.props.showReplyForm?e.createElement("div",{id:"comment-reply-"+this.props.id},e.createElement(l.NewCommentContainer,{currentUserTier:this.props.currentUserTier,editAttachments:this.props.replyAttachments,editAttachmentAdded:this.props.replyAttachmentAdded,editAttachmentDeleted:this.props.replyAttachmentDeleted,editDraft:this.props.replyDraft,editDraftChanged:this.props.replyDraftChanged,editSubmitted:this.props.replySubmitted,isSubmitting:this.props.isSubmittingReply,showEditPreview:this.props.showReplyPreview,toggleEditPreview:this.props.toggleReplyPreview,openMiniEditor:this.props.openMiniEditor})):null):null,this.props.showUpvoters?e.createElement("div",{className:"discussion-comment__upvoters"},this.props.upvoters.map(function(t){return e.createElement(s.Avatar,a.__assign({},t,{className:"discussion-comment__upvoter"}))})):null))),e.createElement(s.MediaQuery,{minWidth:0,maxWidth:s.Breakpoints.tabletMax},e.createElement("div",{className:i("discussion-comment",this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?"discussion-comment--parent":null)},!this.props.showMiniEditor&&e.createElement("span",{className:"discussion-comment__title"},e.createElement("a",{className:"discussion-comment__title-author-link"+("parent"==this.props.authorType?" discussion-comment__title-author-link--parent-author":"topic"==this.props.authorType?" discussion-comment__title-author-link--topic-author":""),href:n.userUrl,title:n.displayName},n.displayName),this.props.postDate?[e.createElement("span",{className:"discussion-comment__title-element"},"•"),e.createElement("span",{className:"discussion-comment__title-element"},e.createElement(s.TimeAgo,{time:this.props.postDate}))]:null,e.createElement("span",{className:"discussion-comment__title-element--spacer"}),this.props.showEditForm?e.createElement("div",{className:"discussion-comment__preview-button",onClick:function(){return t.props.toggleEditPreview()}},this.props.showEditPreview?"Edit":"Preview"):this.props.isNew?null:e.createElement(s.VoteButton,{canDownvote:this.props.canDownvote&&s.Current.userId!=this.props.author.id,canUpvote:s.Current.userId!=this.props.author.id,compact:!0,hasAlreadyVotedDown:-1===this.props.currentUserVote,hasAlreadyVotedUp:1===this.props.currentUserVote,totalVotes:this.props.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+this.props.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+this.props.id})),e.createElement("div",{className:i("discussion-comment__body",this.props.showMiniEditor&&"discussion-comment__body--mini",this.props.showEditForm&&!this.props.showEditPreview?"discussion-comment__body--editing":null)},e.createElement("div",{className:"discussion-comment__content"},this.props.showEditForm?[e.createElement(s.MarkdownEditor,{alwaysShowToolbar:!0,compact:window.innerWidth<s.Breakpoints.desktopMin,collapsedMode:this.props.showMiniEditor,defaultValue:this.props.editDraft,onChangeCallback:function(e){return t.props.editDraftChanged(e)},onInputFocus:this.props.openMiniEditor,placeholder:this.props.showMiniEditor?"Click here to enter a comment…":"Enter your comment here…",renderPreview:function(t,n){return e.createElement(o.ForumMessageContent,{rawHtml:n,rawMarkdown:t})},rows:3,shouldSanitizeHtml:!0,showPreview:this.props.showEditPreview,suffix:"-comment-"+this.props.id+"-edit"}),!this.props.showMiniEditor&&[e.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),e.createElement(s.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),e.createElement(s.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),e.createElement("div",{className:"discussion-comment__action-buttons"},this.props.allowAttachments?e.createElement("div",{className:"discussion-comment__action-button"},e.createElement(s.FileUploader,{compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",mode:"multiple",onFileUploadFinished:this.props.attachmentAdded,autoRemoveOnComplete:!0,maxUncompressedBytesAllowed:5e8,maxCompressedBytesAllowed:5e8,suffix:"-comment-"+this.props.id,multipleFileButtonLabel:" "})):null,e.createElement("span",{className:"discussion-comment__flex-spacer"}),e.createElement("span",{className:"discussion-comment__editor-submit-wrapper"},e.createElement(s.Button,{isDisabled:this.props.isSubmittingReply,isSmall:!0,onClick:this.props.editSubmitted,text:this.props.isNew?"Post Comment":"Save Changes"})))]]:[e.createElement(o.ForumMessageContent,{rawHtml:this.props.content,rawMarkdown:this.props.rawMarkdown||""}),e.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),e.createElement(s.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted}),e.createElement(s.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted})]),!this.props.showMiniEditor&&e.createElement("div",{className:"discussion-comment__title-elements"},this.props.titleOptions.map(function(t){return e.createElement("a",{className:i("discussion-comment__title-element","discussion-comment__title-element--link",t.className),href:t.href,onClick:t.onClick},t.text)})),this.props.showOptions?e.createElement("span",{className:"discussion-comment__options"},this.props.leftOptions.map(function(t){return e.createElement("a",{className:i("discussion-comment__option",t.className),href:t.href,onClick:t.onClick},t.text)}),this.props.rightOptions.map(function(t){return e.createElement("a",{className:i("discussion-comment__option",t.className),href:t.href,onClick:t.onClick},t.text)})):null,this.props.showUpvoters?e.createElement("div",{className:"discussion-comment__upvoters"},this.props.upvoters.map(function(t){return e.createElement(s.Avatar,a.__assign({},t,{className:"discussion-comment__upvoter"}))})):null,this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?e.createElement("div",{className:"discussion-comment__replies"},e.createElement("div",{className:"discussion-comment__linking-line"},this.props.replies.map(function(n){return[e.createElement(r.CommentContainer,a.__assign({},n,{allowReplies:t.props.allowReplies,canDownvote:t.props.canDownvote,key:n.id,onReply:t.props.onReply,parentId:t.props.id,parentReplyShown:t.props.showReplyForm,quoted:t.props.quoted}))]}),this.props.showReplyForm?e.createElement("div",{id:"comment-reply-"+this.props.id},e.createElement(l.NewCommentContainer,{currentUserTier:this.props.currentUserTier,editAttachments:this.props.replyAttachments,editAttachmentAdded:this.props.replyAttachmentAdded,editAttachmentDeleted:this.props.replyAttachmentDeleted,editDraft:this.props.replyDraft,editDraftChanged:this.props.replyDraftChanged,editSubmitted:this.props.replySubmitted,isSubmitting:this.props.isSubmittingReply,showEditPreview:this.props.showReplyPreview,toggleEditPreview:this.props.toggleReplyPreview,openMiniEditor:this.props.openMiniEditor})):null)):null))))},n}(e.Component);t.Comment=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(657),r=n(5),l=n(422),c=function(t){function n(e){var n=t.call(this,e)||this;n.markdownConverter=new a.getSanitizingConverter;var s=function(e,t){for(var a=n.state.replyDraft||"",s="\n> **"+e+" wrote**\n> \n> ",o=t.split("\n"),r=/\s*\[.*?\]:/,l=0;l<o.length;l++){var c=o[l];r.test(c)||(o[l]="> "+c)}n.setState({replyDraft:a+s+o.join("\n"),showReplyForm:!0,showReplyPreview:!1},function(){var e="#comment-reply-"+n.props.id;i("html, body").animate({scrollTop:i(e).position().top-100},200)})};return n.state={attachmentAdded:function(e,t,a){return n.addAttachment(e,t,a)},attachmentDeleted:function(e){return n.deleteAttachment(e)},attachments:n.props.attachments,content:n.props.content,editDraft:n.props.rawMarkdown||o(n.props.content),editDraftChanged:function(e){return n.changeEditDraft(e)},editSubmitted:function(){return n.submitEdit()},flagFormClosed:function(){return n.setState({showFlagForm:!1})},flagged:function(){return i.post("/forums/messages/flag?forumMessageId="+n.props.id).done(function(){return n.setState({hasFlags:!0,isFlagged:!0,showFlagForm:!1})})},hasFlags:n.props.hasFlags,isFlagged:n.props.isFlagged,isSpammed:n.props.isSpammed,isSubmittingReply:!1,isDeleted:n.props.isDeleted,newAttachments:[],quoted:function(e,t){return n.props.quoted?n.props.quoted(e,t):s(e,t)},rawMarkdown:n.props.rawMarkdown||o(n.props.content),replyAttachments:[],replyAttachmentAdded:function(e,t,a){return n.addReplyAttachment(e,t,a)},replyAttachmentDeleted:function(e){return n.deleteReplyAttachment(e)},replyDraft:"",replyDraftChanged:function(e){return n.changeReplyDraft(e)},replySubmitted:function(){return n.submitReply()},showEditForm:!1,showEditPreview:!1,showFlagForm:!1,showOptions:!1,showReplyForm:!1,showReplyPreview:!1,showUpvoters:!1,toggleEditPreview:function(){return n.setState({showEditPreview:!n.state.showEditPreview})},toggleReplyPreview:function(){return n.setState({showReplyPreview:!n.state.showReplyPreview})}},n}return s.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(l.Comment,s.__assign({},this.props,this.state,{allowAttachments:this.props.allowAttachments,isNew:!1,leftOptions:this.leftOptions(),onReply:function(e){return t.onReply(e)},rightOptions:this.rightOptions(),titleOptions:this.titleOptions()}))},n.prototype.addAttachment=function(e,t,n){var a=this.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({newAttachments:a})},n.prototype.addReplyAttachment=function(e,t,n){var a=this.state.replyAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({replyAttachments:a})},n.prototype.changeEditDraft=function(e){this.setState({editDraft:e})},n.prototype.changeReplyDraft=function(e){this.setState({replyDraft:e})},n.prototype.deleteAttachment=function(e){var t=this.state.newAttachments.filter(function(t){return t.name==e})[0],n=this.state.newAttachments.indexOf(t);if(-1!==n)return this.state.newAttachments.splice(n,1),void this.setState({newAttachments:this.state.newAttachments});t=this.state.attachments.filter(function(t){return t.name==e})[0],n=this.state.attachments.indexOf(t),this.state.attachments.splice(n,1),this.setState({attachments:this.state.attachments}),i.ajax("/forums/attachments/delete/"+t.id,{contentType:"application/json",type:"POST"})},n.prototype.deleteReplyAttachment=function(e){var t=this.state.replyAttachments.filter(function(t){return t.name==e})[0],n=this.state.replyAttachments.indexOf(t);if(-1!==n)return this.state.replyAttachments.splice(n,1),void this.setState({replyAttachments:this.state.replyAttachments})},n.prototype.leftOptions=function(){var t=this,n=[{onClick:function(e){t.state.quoted(t.props.author.displayName,t.state.rawMarkdown||o(t.state.content))},text:"Quote"},{href:"#"+this.props.id,onClick:function(e){if(!(e.shiftKey||e.ctrlKey||e.metaKey)){e.preventDefault();var n="#"+t.props.id;i("html, body").animate({scrollTop:i(n).position().top-100},200,"swing",function(){return window.location.hash=t.props.id+""})}},text:"Permalink"}];r.Current.isAnonymous||(this.state.isFlagged?n.push({className:"discussion-comment__option--disabled",text:"Flagged"}):n.push({onClick:function(){return t.setState({showFlagForm:!0})},text:"Flag"}));var a=this.props.upvoters.length;return a>0&&n.push({className:this.state.showUpvoters?"discussion-comment__option--selected":null,onClick:function(){return t.setState({showUpvoters:!t.state.showUpvoters})},text:e.createElement(r.Pluralize,{count:a,word:"Upvoter"})}),n},n.prototype.onReply=function(e){this.setState({showReplyForm:!this.state.showReplyForm,showReplyPreview:!1},e)},n.prototype.rightOptions=function(){var e=this,t=[];return r.Current.isAdmin&&(this.state.hasFlags&&t.push({onClick:function(){return i.ajax("/forums/messages/unflag?forumMessageId="+e.props.id,{contentType:"application/json",type:"POST"}).done(function(){return e.setState({hasFlags:!1,isFlagged:!1})})},text:"Unflag"}),t.push({onClick:function(){return i.ajax("/forums/messages/spam?forumMessageId="+e.props.id,{contentType:"application/json",type:"POST"}).done(function(){return e.setState({isDeleted:!!e.state.isSpammed&&e.state.isDeleted,isSpammed:!e.state.isSpammed})})},text:this.state.isSpammed?"Unspam":"Spam"},{onClick:function(){return i.ajax("/forums/messages/delete?forumMessageId="+e.props.id,{contentType:"application/json",type:"POST"}).done(function(){return e.setState({isDeleted:!e.state.isDeleted,isSpammed:!!e.state.isDeleted&&e.state.isSpammed})})},text:this.state.isDeleted?"Restore":"Delete"})),t},n.prototype.submitEdit=function(){var e=this;i.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:this.state.newAttachments.map(function(e){return e.blobToken}),message:this.markdownConverter.makeHtml(this.state.editDraft),rawMarkdown:this.state.editDraft}),headers:r.withAntiForgeryHeader(),type:"PUT",url:"/messages/"+this.props.id}).done(function(){e.setState({content:e.markdownConverter.makeHtml(e.state.editDraft),rawMarkdown:e.state.editDraft,showEditForm:!1,showEditPreview:!1})}).fail(function(){r.PageMessages.clear(),r.PageMessages.error({htmlMessage:'We had trouble saving your edit. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})},n.prototype.submitReply=function(){var e=this;this.setState({isSubmittingReply:!0},function(){return i.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:e.state.replyAttachments.map(function(e){return e.blobToken}),message:e.markdownConverter.makeHtml(e.state.replyDraft),rawMarkdown:e.state.replyDraft}),type:"POST",url:"/messages/"+e.props.id+"/replies"}).done(function(t){e.setState({isSubmittingReply:!1,replyDraft:"",showReplyForm:!1,showReplyPreview:!1},function(){window.Intercom("trackEvent","forum_post"),e.props.replySubmitted(function(){var e="#"+t;i("html, body").animate({scrollTop:i(e).position().top-100},200)})})}).fail(function(){e.setState({isSubmittingReply:!1}),r.PageMessages.clear(),r.PageMessages.error({htmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})})},n.prototype.titleOptions=function(){var e=this,t=[{className:this.state.showOptions?"discussion-comment__title-element--selected":null,onClick:function(){return e.setState({showOptions:!e.state.showOptions})},text:"Options"}];return(r.Current.isAdmin||this.props.isUserAuthor)&&t.push({className:this.state.showEditForm?"discussion-comment__title-element--selected":null,onClick:function(){return e.setState({showEditForm:!e.state.showEditForm,showEditPreview:!1})},text:"Edit"}),this.props.allowReplies&&t.push({className:this.props.parentReplyShown||this.state.showReplyForm?"discussion-comment__title-element--selected":null,onClick:function(){(e.props.onReply||e.onReply.bind(e))(function(){var t="#comment-reply-"+(e.props.parentId||e.props.id);i("html, body").animate({scrollTop:i(t).position().top-100},200)})},text:"Reply"}),t},n}(e.Component);t.CommentContainer=c}).call(t,n(0),n(78),n(3))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(5),r=n(422),l=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.markdownConverter=new a.getSanitizingConverter,e}return s.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(r.Comment,{allowAttachments:this.props.allowAttachments,attachmentAdded:this.props.editAttachmentAdded,attachmentDeleted:this.props.editAttachmentDeleted,author:{displayName:i("<textarea/>").html(o.Current.userDisplayName).text(),id:o.Current.userId,thumbnailUrl:o.Current.userThumbnailUrl,tier:this.props.currentUserTier,userUrl:o.Current.userProfileUrl},editDraft:this.props.editDraft,editDraftChanged:function(e){return t.props.editDraftChanged(e)},editSubmitted:function(){return t.props.editSubmitted()},id:9e7*Math.random()+1e7,isNew:!0,isSubmittingReply:this.props.isSubmitting,leftOptions:[],newAttachments:this.props.editAttachments,rawMarkdown:this.props.editDraft,rightOptions:[],showEditForm:!0,showEditPreview:this.props.showEditPreview,showMiniEditor:this.props.showMiniEditor,titleOptions:[],toggleEditPreview:function(){return t.props.toggleEditPreview()},openMiniEditor:function(){return t.props.openMiniEditor()}})},n}(e.Component);t.NewCommentContainer=l}).call(t,n(0),n(78),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=n(5),o=n(421),r=n(210),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,l=n.comment;return e.createElement("div",null,e.createElement(s.Modal,{buttonClassName:"discussion-comment__hidden",modalClassName:"flag-form__wrapper",modalIsShown:this.props.showFlagForm,onClose:this.props.flagFormClosed},e.createElement("div",{className:"flag-form"},e.createElement("div",{className:"flag-form__title"},"Flag this post?"),e.createElement("div",{className:"flag-form__body"},"Flagging notifies Kaggle that this message is spam, inappropriate, abusive, or violates rules. Do not use flagging to indicate you disagree with an opinion or to hide a post."),e.createElement("div",{className:"flag-form__actions"},e.createElement(s.Button,{classNames:"flag-form__action flag-form__action--secondary",onClick:this.props.flagFormClosed,text:"Cancel"}),e.createElement("span",{className:"flag-form__action-spacer"}),e.createElement(s.Button,{classNames:"flag-form__action",onClick:this.props.flagged,text:"Flag as Inappropriate"})))),e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},e.createElement("div",{className:"topic"},e.createElement("div",{className:"topic__author"},e.createElement(s.Avatar,a.__assign({},l.author,{hideTooltop:!0,width:75})),e.createElement("a",{className:i("topic__author-link","parent"==l.authorType?"topic__author-link--parent-author":null),href:l.author.userUrl,title:l.author.displayName},l.author.displayName),e.createElement("span",{className:"topic__author-ranking"},l.competitionRanking?e.createElement("span",null,e.createElement(s.Ordinal,null,l.competitionRanking)," place"):null),e.createElement("span",{className:"topic__author-options"},l.titleOptions?l.titleOptions.map(function(t){return[e.createElement("a",{className:i("topic__author-option",t.className),href:t.href,onClick:t.onClick},t.text),e.createElement("span",{className:"topic__author-option-spacer"},"|")]}):null)),e.createElement("div",{className:"topic__body-wrapper"},e.createElement("div",{className:"topic__body"},e.createElement("div",{className:"topic__body-header"},e.createElement("div",{className:"topic__title"},this.props.showEditForm?e.createElement(s.InlineTextEditor,{className:"topic__title-editor",onChangeCallback:this.props.editTitleDraftChanged,placeholder:"Topic Title...",value:this.props.editTitleDraft}):n.title,e.createElement("div",{className:"topic__subtitle"},"posted in ",e.createElement("a",{className:"topic__parent-link",href:n.parentUrl,title:n.parentName},n.parentName)," ",l.postDate&&e.createElement(s.TimeAgo,{time:l.postDate}))),l.medal?e.createElement("img",{className:"topic__medal",src:"/static/images/medals/discussion/"+l.medal+"L@1x.png",title:l.medal}):e.createElement("div",{className:"topic__medal"}),n.isNew?null:e.createElement(s.VoteButton,{canDownvote:n.canDownvote&&s.Current.userId!=l.author.id,canUpvote:s.Current.userId!=l.author.id,hasAlreadyVotedDown:-1===l.currentUserVote,hasAlreadyVotedUp:1===l.currentUserVote,totalVotes:l.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+l.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+l.id,upVoteIntercomEventName:"forum_vote",downVoteIntercomEventName:"forum_vote"})),e.createElement("div",{className:"topic__content"},this.props.showEditForm?[e.createElement(s.MarkdownEditor,{alwaysShowToolbar:!0,compact:window.innerWidth<s.Breakpoints.desktopMin,defaultValue:this.props.editDraft,onChangeCallback:function(e){return t.props.editDraftChanged(e)},placeholder:"Topic Content...",renderPreview:function(t,n){return e.createElement(r.ForumMessageContent,{rawHtml:n,rawMarkdown:t})},rows:3,shouldSanitizeHtml:!0,showPreview:this.props.showEditPreview,suffix:"-topic"}),e.createElement("span",{className:i((l.attachments||[]).length>0||n.newAttachments.length>0?"topic__attachment-spacer":null)}),e.createElement(s.FileList,{compact:!0,fileListItems:l.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:n.attachmentDeleted}),e.createElement(s.FileList,{compact:!0,fileListItems:n.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:n.attachmentDeleted}),e.createElement("div",{className:"topic__action-buttons"},this.props.allowAttachments?e.createElement(s.FileUploader,{autoRemoveOnComplete:!0,compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",maxCompressedBytesAllowed:5e8,maxUncompressedBytesAllowed:5e8,mode:"multiple",onFileUploadFinished:n.attachmentAdded,multipleFileButtonLabel:" ",suffix:"-topic"}):null,e.createElement("span",{className:"topic__flex-spacer"}),e.createElement("span",{className:"topic__edit-submit-wrapper"},e.createElement(s.Button,{classNames:i("topic__editor-preview"),onClick:n.toggleEditPreview,text:n.showEditPreview?"Edit":"Preview"}),e.createElement("div",{className:"topic__editor-submit-spacer"}),e.createElement(s.Button,{classNames:i("topic__editor-submit",n.isNew?"topic__editor-submit--new":null),isDisabled:this.props.isSubmittingEdit,onClick:n.editSubmitted,text:n.isNew?"Publish Topic":"Save Changes"})))]:[e.createElement(r.ForumMessageContent,{rawHtml:l.content,rawMarkdown:l.rawMarkdown||""}),e.createElement("span",{className:i((l.attachments||[]).length>0||n.newAttachments.length>0?"topic__attachment-spacer":null)}),e.createElement(s.FileList,{compact:!0,fileListItems:l.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:n.attachmentDeleted}),e.createElement(s.FileList,{compact:!0,fileListItems:n.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:n.attachmentDeleted})]),this.props.showOptions?e.createElement("span",{className:"topic__options"},e.createElement("div",{className:"topic__left-options"},l.leftOptions.map(function(t){return[e.createElement("a",{className:i("topic__option",t.className),href:t.href,onClick:t.onClick},t.text),e.createElement("span",{className:"topic__option-spacer"},"|")]})),l.rightOptions.map(function(t){return[e.createElement("a",{className:i("topic__option",t.className),href:t.href,onClick:t.onClick},t.text),e.createElement("span",{className:"topic__option-spacer"},"|")]})):null),this.props.showUpvoters?e.createElement("div",{className:"topic__upvoters"},this.props.comment.upvoters.map(function(t){return e.createElement(s.Avatar,a.__assign({className:"topic__upvoter"},t))})):null))),e.createElement(s.MediaQuery,{minWidth:0,maxWidth:s.Breakpoints.tabletMax},e.createElement("div",{className:"topic"},e.createElement("div",{className:"topic__body"},e.createElement("div",{className:"topic__body-header"},e.createElement("div",{className:"topic__title"},n.isNew?null:e.createElement("span",{className:"topic__vote-button"},e.createElement(s.VoteButton,{canDownvote:n.canDownvote&&s.Current.userId!=l.author.id,canUpvote:s.Current.userId!=l.author.id,hasAlreadyVotedDown:-1===l.currentUserVote,hasAlreadyVotedUp:1===l.currentUserVote,totalVotes:l.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+l.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+l.id})),this.props.showEditForm?e.createElement(s.InlineTextEditor,{className:"topic__title-editor",onChangeCallback:this.props.editTitleDraftChanged,placeholder:"Topic Title...",value:this.props.editTitleDraft}):e.createElement("span",{className:"topic__title-text"},n.title)),e.createElement("div",{className:"topic__subtitle"},"by ",e.createElement("a",{className:"topic__author-link",href:l.author.userUrl,title:l.author.displayName},this.props.comment.author.displayName),"in ",e.createElement("a",{className:"topic__parent-link",href:n.parentUrl,title:n.parentName},n.parentName)," ",l.postDate?e.createElement("span",{className:"topic__timeago"},e.createElement(s.TimeAgo,{time:l.postDate})):null)),e.createElement("div",{className:"topic__content"},this.props.showEditForm?[e.createElement(s.MarkdownEditor,{alwaysShowToolbar:!0,compact:window.innerWidth<s.Breakpoints.desktopMin,defaultValue:this.props.editDraft,onChangeCallback:function(e){return t.props.editDraftChanged(e)},placeholder:"Topic Content...",renderPreview:function(t,n){return e.createElement(r.ForumMessageContent,{rawHtml:n,rawMarkdown:t})},rows:3,shouldSanitizeHtml:!0,showPreview:this.props.showEditPreview,suffix:"-topic"}),e.createElement("span",{className:i((l.attachments||[]).length>0||n.newAttachments.length>0?"topic__attachment-spacer":null)}),e.createElement(s.FileList,{compact:!0,fileListItems:l.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:n.attachmentDeleted}),e.createElement(s.FileList,{compact:!0,fileListItems:n.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:n.attachmentDeleted}),e.createElement("div",{className:"topic__action-buttons"},this.props.allowAttachments?e.createElement(s.FileUploader,{autoRemoveOnComplete:!0,compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",mode:"multiple",maxCompressedBytesAllowed:5e8,maxUncompressedBytesAllowed:5e8,onFileUploadFinished:n.attachmentAdded,multipleFileButtonLabel:" ",suffix:"-topic"}):null,e.createElement("span",{className:"topic__flex-spacer"}),e.createElement("span",{className:"topic__edit-submit-wrapper"},e.createElement(s.Button,{classNames:i("topic__editor-preview"),onClick:n.toggleEditPreview,text:n.showEditPreview?"Edit":"Preview"}),e.createElement("div",{className:"topic__editor-submit-spacer"}),e.createElement(s.Button,{classNames:i("topic__editor-submit",n.isNew?"topic__editor-submit--new":null),isDisabled:this.props.isSubmittingEdit,onClick:n.editSubmitted,text:n.isNew?"Publish Topic":"Save Changes"})))]:[e.createElement(r.ForumMessageContent,{rawHtml:l.content,rawMarkdown:l.rawMarkdown||""}),e.createElement("span",{className:i((l.attachments||[]).length>0||n.newAttachments.length>0?"topic__attachment-spacer":null)}),e.createElement(s.FileList,{compact:!0,fileListItems:l.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:n.attachmentDeleted}),e.createElement(s.FileList,{compact:!0,fileListItems:n.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:n.attachmentDeleted})])),e.createElement("div",{className:"topic__author-options"},l.titleOptions?l.titleOptions.map(function(t){return e.createElement("a",{className:i("topic__author-option",t.className),href:t.href,onClick:t.onClick},t.text)}):null),this.props.showOptions?e.createElement("span",{className:"topic__options"},l.leftOptions.map(function(t){return e.createElement("a",{className:i("topic__option",t.className),href:t.href,onClick:t.onClick},t.text)}),l.rightOptions.map(function(t){return e.createElement("a",{className:i("topic__option",t.className),href:t.href,onClick:t.onClick},t.text)})):null,this.props.showUpvoters?e.createElement("div",{className:"topic__upvoters"},this.props.comment.upvoters.map(function(t){return e.createElement(s.Avatar,a.__assign({className:"topic__upvoter"},t))})):null)),this.props.isNew?null:e.createElement(o.CommentListContainer,{allowAttachments:this.props.allowAttachments,canDownvote:this.props.canDownvote,initialState:this.props.commentList,isSubmittingReply:this.props.isSubmittingReply,replyAttachmentAdded:this.props.replyAttachmentAdded,replyAttachmentDeleted:this.props.replyAttachmentDeleted,replyAttachments:this.props.replyAttachments,replyDraft:this.props.replyDraft,replyDraftChanged:this.props.replyDraftChanged,replySubmitted:this.props.replySubmitted,allowReplies:!this.props.isLocked,topicId:this.props.id}))},n}(e.Component);t.Topic=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return 0==this.props.groupSize?null:e.createElement("span",{className:i("group-icon",this.props.rightSide?"group-icon--right":"group-icon--left"),title:1==this.props.groupSize?"Only visible to the author":"Visible to "+this.props.groupSize+" members including the author"},e.createElement("span",{className:"group-icon__lock"}),e.createElement("span",{className:1==this.props.groupSize?"group-icon__single":"group-icon__multiple"}))},n}(e.Component);t.GroupIcon=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return this.props.isLoading?e.createElement("div",{className:"loading-text"},e.createElement("span",{className:"fa fa-refresh fa-spin fa-fw"}),this.props.text,"..."):null},n}(e.Component);t.LoadingText=i}).call(t,n(0))},function(e,t,n){"use strict";function a(e){for(var n=0,a=t.CountryList;n<a.length;n++){var i=a[n];if(e==i.value)return i.label}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.getCountryNameByCode=a,t.CountryList=[{label:"Afghanistan",value:"AF"},{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"American Samoa",value:"AS"},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Antarctica",value:"AQ"},{label:"Antigua & Barbuda",value:"AG"},{label:"Argentina",value:"AR"},{label:"Armenia",value:"AM"},{label:"Aruba",value:"AW"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Azerbaijan",value:"AZ"},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH"},{label:"Bangladesh",value:"BD"},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY"},{label:"Belgium",value:"BE"},{label:"Belize",value:"BZ"},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Bosnia",value:"BA"},{label:"Botswana",value:"BW"},{label:"Bouvet Island",value:"BV"},{label:"Brazil",value:"BR"},{label:"British Indian Ocean Territory",value:"IO"},{label:"British Virgin Islands",value:"VG"},{label:"Brunei",value:"BN"},{label:"Bulgaria",value:"BG"},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Cape Verde",value:"CV"},{label:"Caribbean Netherlands",value:"BQ"},{label:"Cayman Islands",value:"KY"},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Christmas Island",value:"CX"},{label:"Cocos (Keeling) Islands",value:"CC"},{label:"Colombia",value:"CO"},{label:"Comoros",value:"KM"},{label:"Congo - Brazzaville",value:"CG"},{label:"Congo - Kinshasa",value:"CD"},{label:"Cook Islands",value:"CK"},{label:"Costa Rica",value:"CR"},{label:"Croatia",value:"HR"},{label:"Cuba",value:"CU"},{label:"Curaçao",value:"CW"},{label:"Cyprus",value:"CY"},{label:"Czech Republic",value:"CZ"},{label:"Côte d’Ivoire",value:"CI"},{label:"Denmark",value:"DK"},{label:"Djibouti",value:"DJ"},{label:"Dominica",value:"DM"},{label:"Dominican Republic",value:"DO"},{label:"Ecuador",value:"EC"},{label:"Egypt",value:"EG"},{label:"El Salvador",value:"SV"},{label:"Equatorial Guinea",value:"GQ"},{label:"Eritrea",value:"ER"},{label:"Estonia",value:"EE"},{label:"Ethiopia",value:"ET"},{label:"Falkland Islands",value:"FK"},{label:"Faroe Islands",value:"FO"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"French Guiana",value:"GF"},{label:"French Polynesia",value:"PF"},{label:"French Southern Territories",value:"TF"},{label:"Gabon",value:"GA"},{label:"Gambia",value:"GM"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Grenada",value:"GD"},{label:"Guadeloupe",value:"GP"},{label:"Guam",value:"GU"},{label:"Guatemala",value:"GT"},{label:"Guernsey",value:"GG"},{label:"Guinea",value:"GN"},{label:"Guinea-Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT"},{label:"Heard & McDonald Islands",value:"HM"},{label:"Honduras",value:"HN"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Isle of Man",value:"IM"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Jersey",value:"JE"},{label:"Jordan",value:"JO"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Kiribati",value:"KI"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Laos",value:"LA"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libya",value:"LY"},{label:"Liechtenstein",value:"LI"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Macau",value:"MO"},{label:"Macedonia",value:"MK"},{label:"Madagascar",value:"MG"},{label:"Malawi",value:"MW"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Micronesia",value:"FM"},{label:"Moldova",value:"MD"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:""},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands",value:"NL"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"North Korea",value:"KP"},{label:"Northern Mariana Islands",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestine",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines",value:"PH"},{label:"Pitcairn Islands",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Romania",value:"RO"},{label:"Russia",value:"RU"},{label:"Rwanda",value:"RW"},{label:"Réunion",value:"RE"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Sint Maarten",value:"SX"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia & South Sandwich Islands",value:"GS"},{label:"South Korea",value:"KR"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"St. Barthélemy",value:"BL"},{label:"St. Helena",value:"SH"},{label:"St. Kitts & Nevis",value:"KN"},{label:"St. Lucia",value:"LC"},{label:"St. Martin",value:"MF"},{label:"St. Pierre & Miquelon",value:"PM"},{label:"St. Vincent & Grenadines",value:"VC"},{label:"Sudan",value:"SD"},{label:"Suriname",value:"SR"},{label:"Svalbard & Jan Mayen",value:"SJ"},{label:"Swaziland",value:"SZ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syria",value:"SY"},{label:"São Tomé & Príncipe",value:"ST"},{label:"Taiwan",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"Timor-Leste",value:"TL"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad & Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks & Caicos Islands",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"U.S. Outlying Islands",value:"UM"},{label:"U.S. Virgin Islands",value:"VI"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United States",value:"US"},{label:"United Kingdom",value:"GB"},{label:"United Arab Emirates",value:"AE"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Vatican City",value:"VA"},{label:"Venezuela",value:"VE"},{label:"Vietnam",value:"VN"},{label:"Wallis & Futuna",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}]},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(8),o=n(1059);t.progressUtils=o;var r=function(e,t){return function(n,a){return a<t||e.hasResolved?"--complete":t===a?"--current":"--pending"}},l=function(e,t,n){return function(a,i){return i<t||e.hasResolved?100:t===i?Math.floor(n/(n+5)*100):0}},c={fontSize:"0.7rem",maxWidth:500,padding:10,border:"1px solid #eee",borderRadius:2},p={init:200,heartbeat:3e3,tick:1200},u=function(t){function n(e){var n=t.call(this,e)||this;return n.dispose=function(){var e=n.props.task;o.removeLocalTaskContext(e.context||o.pendingContext)},n.poll=function(){var e=n.props,t=e.task;e.onReject;if(n.props.task&&n.props.task.id){var i=t.id,s=t.source;a.Admin.getSegmentedTaskProgress({id:i,source:s}).then(n.handleProgress)}else console.warn("no task id exists yet"),n.heartbeatId=window.setTimeout(n.poll,6e3)},n.handleReject=function(e){n.dispose(),n.props.onReject(e)},n.handleResolve=function(e){n.dispose(),n.props.onResolve(e)},n.isProgressApplicable=function(e){if(e&&e.definition&&n.props.task){var t=n.props.task,a=e.definition.context;if(t.context&&a)return t.context.entityId===a.entityId&&t.context.entityName===a.entityName&&t.context.type===a.type}return!0},n.handleProgress=function(e){if(!n.isProgressApplicable(e))return void console.debug("progress not applicable",e,n.props.task);if(window.clearTimeout(n.heartbeatId),console.info("SignalR: notifyProgress",e),n.setState(e),!e.status.hasEnded&&!e.status.error||n.props.task.pending)n.heartbeatId=window.setTimeout(n.poll,p.heartbeat);else if(n.unsubscribe&&n.unsubscribe(),e.status.error){var t=new Error(e.status.error);n.handleReject(t)}else n.handleResolve(e)},n.mounted=!1,n.subscribe=function(){n.unsubscribe&&n.unsubscribe();var e=window.setInterval(function(){var e=n.state,t=e.ticks,a=e.ellipsis;n.setState({ticks:t+1,ellipsis:"..."===a?"":a+"."})},p.tick);n.unsubscribe=function(){window.clearTimeout(n.heartbeatId),window.clearInterval(e),n.unsubscribe=null},n.heartbeatId=window.setTimeout(n.poll,p.init)},n.state=i.__assign({},o.pendingTaskProgress,{ellipsis:"",ticks:0}),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,this.subscribe()},n.prototype.componentWillUnmount=function(){this.mounted=!1,this.unsubscribe&&this.unsubscribe()},n.prototype.render=function(){var t=this.props,n=(t.task,t.onCancel),a=t.onDismiss,i=(t.onReject,t.onResolve,this.state),p=(i.definition,i.status),u=void 0===p?o.pendingStatus:p,d=i.segment,m=i.segments,h=(i.memo,i.projection,i.ellipsis),g=i.ticks,f=[o.pendingSegment].concat(m||[]),v=1===f.length?0:d.ordinal+1,_=1===f.length?0:d.step.ordinal,b=r(u,v),E=l(u,v,_);return e.createElement("div",{className:"background-task__container"},e.createElement("section",null,f.map(function(t,n){var a=b(t,n),i=E(t,n),o=100-i,r=100===i?100:0===i?0:i+Math.floor(o*g/(g+20)*100)/100,l={width:r+"%"};return u.error&&(l.backgroundColor="red"),e.createElement("div",{key:n,className:s("background-task__progress","background-task__progress"+a)},e.createElement("div",{className:"background-task__progress-bar",style:l}),e.createElement("div",{className:"background-task__progress-bar-status"},t.name))})),e.createElement("section",null,e.createElement("div",null,u&&u.error?e.createElement("pre",{style:c},"Error: ",u.error,"\n",u.stackTrace):u.isPending?e.createElement("span",null,"Pending",h):u&&u.hasResolved?e.createElement("span",null,"Complete!"):d&&d.step&&e.createElement("span",null,d.step.name||"Processing",h)),e.createElement("div",null,e.createElement("button",{onClick:!u||u.hasEnded||u.error?a:n},!u||u.hasEnded||u.error?"Dismiss":"Cancel"))))},n}(e.Component);t.Progress=u}).call(t,n(0),n(34))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=function(t){function n(e){var n=t.call(this,e)||this;return n.showToolTip=function(){n.setState({isShown:!0})},n.hideToolTip=function(){n.setState({isShown:!1})},n.state={isShown:!1},n}return a.__extends(n,t),n.prototype.makeClassName=function(e){var t="tooltip-multiline"+(e||"")+"--left";return i("tooltip-multiline"+(e||""),(n={},n[t]=this.props.alignLeft,n),this.props.className);var n},n.prototype.render=function(){return e.createElement("span",{className:this.makeClassName(),onMouseEnter:this.showToolTip,onMouseLeave:this.hideToolTip},e.createElement("span",{className:this.makeClassName("__before"),style:{opacity:this.state.isShown?1:0}}),this.props.children,e.createElement("span",{className:this.makeClassName("__after"),style:{opacity:this.state.isShown?1:0}},this.props.tipContent))},n}(e.Component);t.ToolTipMultiLine=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),s=n(1084),o=function(t){function n(e){var n=t.call(this,e)||this;return n.onTabChanged=function(e){var t="followers"==e?n.props.followers:n.props.following,a=t.count>n.props.limitTo?n.props.limitTo:-1;n.setState({activeTab:e,activeList:t,showCount:a,isShowMoreButtonVisible:t.count>n.props.limitTo}),n.props.largeComponent&&n.props.replaceUrlForTab&&n.props.replaceUrlForTab(e)},n.onShowMore=function(){n.props.largeComponent?n.setState({showCount:-1,isShowMoreButtonVisible:!1}):n.props.onProfileTabChanged(n.state.activeTab)},n.state=n.getDefaultState(e.initiallyActiveTab||"followers"),n}return a.__extends(n,t),n.prototype.getDefaultState=function(e){var t=this.props.followers.count+this.props.following.count,n=i.Current.isAdmin||i.Current.userId===this.props.userId,a="Followers",s=!0,o="followers"==e?this.props.followers:this.props.following,r=o.count>this.props.limitTo?this.props.limitTo:-1;return n||(this.props.followers.count>0&&0==this.props.following.count?(a="Followers ("+this.props.followers.count+")",s=!1,o=this.props.followers):this.props.following.count>0&&0==this.props.followers.count&&(a="Following ("+this.props.following.count+")",s=!1,o=this.props.following)),{followers:this.props.followers,following:this.props.following,userId:this.props.userId,limitTo:this.props.limitTo,largeComponent:this.props.largeComponent,activeTab:e,activeList:o,showCount:r,isShowMoreButtonVisible:o.count>this.props.limitTo,isHeaderVisible:s,isFollowersVisible:!!n||this.props.followers.count>0,isFollowingVisible:!!n||this.props.following.count>0,isComponentVisible:!!n||t>0,title:a,onShowMore:this.onShowMore,onTabChanged:this.onTabChanged}},n.prototype.componentWillReceiveProps=function(e){this.state=this.getDefaultState(e.initiallyActiveTab||"followers")},n.prototype.render=function(){var t=this.getDefaultState(this.state.activeTab);return this.state.showCount<0&&(t.showCount=this.state.showCount,t.isShowMoreButtonVisible=this.state.isShowMoreButtonVisible),e.createElement(s.Followers,t)},n}(e.Component);t.FollowersContainer=o}).call(t,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),s=n(109),o=n(629),r=n(29),l=n(972),c=(n(34),n(1076));window.Kaggle=window.Kaggle||{};var p=window.Kaggle,u=p.State||[],d=function(e,t){if(void 0===t&&(t=[]),0===t.length)return e;var n=t[0],a=t.slice(1);return r(n,"Container must exist!"),d(i.createElement(n,null,e),a)},m=function(e){Array.from(document.querySelectorAll("[data-component-name]")).forEach(function(t,n){var l=u[n],c=t.getAttribute("data-component-name");r(c,"Component had no data-component-name attribute!");var p="true"===t.getAttribute("data-uses-apollo"),m=e[c];r(m,"Component with name "+c+" does not exist!");var h=p?[e.ApolloComponent,o.AppContainer]:[o.AppContainer],g=d(i.createElement(m,a.__assign({},l)),h);s.render(g,t),performance&&performance.mark&&performance.mark(c+".componentDidBootstrap")})};m(l.default),c.registerInstallMetrics(),c.printKaggleConsole(),c.registerPageErrors()},,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(80),s=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Build your model",subheading:"We want to help the world learn from data. To do this, Kaggle’s open data platform brings together the core requirements for innovation and reproducible analysis in one place: data, people, discussion, and code.",background:"/static/images/about/competitions/header-competitions-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-competitions-get"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("p",null,"You can explore competitions on Kaggle through Kernels and Discussion."),e.createElement("div",{className:"about-page__box-image"},e.createElement("a",{href:"//www.kaggle.com/deepmatrix/imdb-5000-movie-competition/kernels"},e.createElement("img",{src:"//kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/kernels_competitions586.gif",alt:"new kernel gif"}))),e.createElement("h3",null,e.createElement("span",{className:"about-page__callout-number"},"1")," Kernels"),e.createElement("p",null,"Kaggle Kernels is an in-browser coding and execution environment. It support individual scripts in R, RMarkdown, and Python, as well as Jupyter Notebooks in R and Python. The code you publish with Kernels will be shared alongside the relevant competition, as well as being listed on the Kernels tab of your profile. Go to the Kernels tab of any competition to get started."),e.createElement("p",null,"Kernels are run in Docker containers pre-loaded with all your favorite data science packages and libraries. Want your package loaded into Kernels? Send us a note in the ",e.createElement("a",{href:"https://www.kaggle.com/forums/f/809/product-feedback"},"product feedback forum"),"."),e.createElement("p",null,"View the Kernels section of any competition to see all of the reproducible code that’s been shared on the data. You can click “fork” on any kernel to create an editable copy of the code for you to modify or extend."),e.createElement("h3",null,e.createElement("span",{className:"about-page__callout-number"},"2")," Discussion"),e.createElement("p",null,"The Discussion tab is a place to ask questions, share what you've learned, and connect with other data enthusiasts. On the Discussion tab, you’ll see all the topics and Kernels comments about the competition and its analyses in one place."),e.createElement("div",{className:"about-page__box-image"},e.createElement("img",{style:{maxWidth:"800px"},src:"/static/images/data-about/data-about-callout-explore@2x.png"})),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/competitions",className:"button"},"Explore Competitions")))))},n}(e.Component);t.AboutCompetitionsBuild=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(80),s=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Find Competitions",subheading:"We want to help the world learn from data. To do this, Kaggle’s open data platform brings together the core requirements for innovation and reproducible analysis in one place: data, people, discussion, and code.",background:"/static/images/about/competitions/header-competitions-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-competitions-get"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("p",null,"The header of the ",e.createElement("a",{href:"https://www.kaggle.com/competitions"},"Competitions page")," makes it simple to discover and bookmark competitions you want to use now or save for later."),e.createElement("div",{className:"about-page__box-image"},e.createElement("a",{href:"https://www.kaggle.com/competitions"},e.createElement("img",{src:"https://kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/search_competition586.gif",alt:"new kernel gif"}))),e.createElement("div",{style:{marginTop:"32px"}},e.createElement("h2",null,"Competition Segments"),e.createElement("p",null,"Competitions are organized, searchable, and sortable across four listings.",e.createElement("br",null),"Flip between the tabs as you search to find and bookmark the data you need."),e.createElement("dl",{className:"about-competitions__segments"},e.createElement("dt",null,"Featured:"),e.createElement("dd",null,"Competitions that have been selected by the Kaggle team for being clean and well formatted for analysis.",e.createElement("br",null),"These competitions should be easy to integrate in an existing project."),e.createElement("dt",null,"All:"),e.createElement("dd",null,"Every competition that’s been published on Kaggle. You can find niche, small, or competitions lacking documentation here.",e.createElement("br",null),"These competitions may require some pre-processing before they're ready for use."),e.createElement("dt",null,"Mine:"),e.createElement("dd",null,"Competitions that you’ve published."),e.createElement("dt",null,"Upvoted:"),e.createElement("dd",null,"Competitions you’ve upvoted are saved here.",e.createElement("br",null),"You can use upvotes as bookmarks for content you want to use later."))),e.createElement("div",{className:"about-page__box-image"},e.createElement("img",{style:{maxWidth:"593px"},src:"/static/images/data-about/data-about-callout-download@2x.png"})),e.createElement("p",null,"Click “Download” at the top of any competition to download all the included files.",e.createElement("br",null),"Or scroll down to preview each table and download individual files."),e.createElement("div",null,e.createElement("h3",null,"Don’t see a specific competition or data topic you’re looking for?"),e.createElement("p",null,"Ask around or request it in the ",e.createElement("a",{href:"/data"},"forum"),"."),e.createElement("div",null,e.createElement("span",{className:"fa fa-twitter"})," Follow ",e.createElement("a",{href:"https://twitter.com/kagglecompetitions",target:"_blank"},"@KaggleCompetitions")," to keep up with featured competitions.")),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/competitions",className:"button"},"Get Competitions")))))},n}(e.Component);t.AboutCompetitionsFind=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(80),s=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Submit your entry",subheading:"We want to help the world learn from data. To do this, Kaggle’s open data platform brings together the core requirements for innovation and reproducible analysis in one place: data, people, discussion, and code.",background:"/static/images/about/competitions/header-competitions-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-competitions-get"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("h2",null,"Who?"),e.createElement("p",null,"Data enthusiasts of all types are encouraged to share their competitions. Organizations will want to start by ",e.createElement("a",{href:"https://www.kaggle.com/organizations/new"},"creating an organization profile")," on Kaggle. So far we’ve seen academics, hobbyists, package authors, governments, corporations, and journalists use the open data platform to collaborate and share their work."),e.createElement("h2",null,"Why?"),e.createElement("p",null,"It’s easy to join the open data movement by publishing a competition on Kaggle. Whether you’re curating a competition or sharing one of your favorites from around the web, publishing a competition to Kaggle gives the data new life. Read the stories of some top data publishers on Kaggle and how they are using open data to do things like ",e.createElement("a",{href:"http://blog.kaggle.com/2016/06/03/competition-spotlight-how-isis-uses-twitter/"},"fight ISIS"),", ",e.createElement("a",{href:"http://blog.kaggle.com/2016/10/05/open-data-spotlight-horses-for-courses-luke-byrne/"},"beat the betting odds"),", ",e.createElement("a",{href:"http://blog.kaggle.com/2016/08/22/competition-spotlight-european-soccer-database-hugo-mathien/"},"study the beautiful game"),", and ",e.createElement("a",{href:"http://blog.kaggle.com/tag/open-data-spotlight/"},"more"),"."),e.createElement("p",null,"All competitions published on Kaggle’s open data platform are publicly available and will appear under the ",e.createElement("a",{href:"https://www.kaggle.com/competitions?sortBy=hottest&group=all"},"“All” tab on the Competitions page"),". Kaggle’s team manually reviews competitions to hand-select well formatted and topical data for the ",e.createElement("a",{href:"https://www.kaggle.com/competitions?sortBy=hottest&group=featured"},"“Featured” tab"),"."),e.createElement("div",{className:"about-page__box-image"},e.createElement("img",{style:{maxWidth:"600px"},src:"/static/images/data-about/data-about-callout-create@2x.png"})),e.createElement("h2",null,"How?"),e.createElement("p",null,"If you’re not sure where to start with prepping your open competition for publishing, check out ",e.createElement("a",{href:"http://blog.kaggle.com/2016/10/21/a-guide-to-open-data-publishing-analytics/"},"our guide to open data publishing and analytics"),"."),e.createElement("p",null,"If your data is ready to go, click ",e.createElement("a",{href:"/competitions/new"},"New Competition")," to use our simple publisher. Then you’ll:"),e.createElement("ol",{className:"steps-list"},e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Choose a permanent URL"),e.createElement("dd",null,"Short, clear URLs are best."))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Select an image"),e.createElement("dd",null,"If you don’t have one on hand, use one from ",e.createElement("a",{href:"http://unsplash.com"},"unsplash.com")," or a similar site."))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Enter a description / acknowledgments"),e.createElement("dd",null,"Detailed and compelling descriptions of how the data has been or could be used are important to driving activity on your data."))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Select a competition license"),e.createElement("dd",null,"It’s important to choose the correct license as your data may be used in research or academic projects. "))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Upload uncompressed files"),e.createElement("dd",null,"CSV files, SQLite databases, and JSON files are best. If you need to upload more than 20 files, you can compress them into a .zip archive. This will be uncompressed on our side to make the data available in Kernels. "))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Publish a starter kernel (optional)"),e.createElement("dd",null,"Show others how to get started with your data with some simple exploratory code or publish any previous analyses performed.")))),e.createElement("p",null,"Here are a few examples of particularly well formatted competitions:"),e.createElement("ul",{className:"aboutdata-goodlist"},e.createElement("li",null,e.createElement("a",{href:"/hugomathien/soccer"},"European Soccer Database")," by ",e.createElement("a",{href:"/hugomathien"},"Hugo Mathien")),e.createElement("li",null,e.createElement("a",{href:"/IHME/us-countylevel-mortality"},"US County-level Mortality")," by ",e.createElement("a",{href:"/IHME"},"IHME")),e.createElement("li",null,e.createElement("a",{href:"/salvadordali/racingkings"},"Racing Kings (Chess Variant)")," by ",e.createElement("a",{href:"/salvadordali"},"SalvadorDali"))),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/competitions/new",className:"button"},"New Competition")))))},n}(e.Component);t.AboutCompetitionsSubmit=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(273),s=n(865),o=n(864),r=n(866),l=function(t){function n(n,a){var i=t.call(this,n)||this;return i.baseUrl="/about/competitions",i.tabs=[{title:"Find Competitions",slug:"find"},{title:"Build a Model",slug:"build"},{title:"Submit your Entry",slug:"submit"}],i.cta={title:"Browse Competitions",slug:"browse",redirect:"/competitions"},i.pages=[e.createElement(s.AboutCompetitionsFind,null),e.createElement(o.AboutCompetitionsBuild,null),e.createElement(r.AboutCompetitionsSubmit,null)],i}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.AboutPage,{baseUrl:this.baseUrl,cta:this.cta,pages:this.pages,tabs:this.tabs})},n}(e.Component);t.AboutCompetitions=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(80),s=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Explore Data",subheading:"We want to help the world learn from data. To do this, Kaggle’s open data platform brings together the core requirements for innovation and reproducible analysis in one place: data, people, discussion, and code.",background:"/static/images/about/datasets/header-datasets-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-datasets-get"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("p",null,"You can explore datasets on Kaggle through Kernels and Discussion."),e.createElement("div",{className:"about-page__box-image"},e.createElement("a",{href:"//www.kaggle.com/deepmatrix/imdb-5000-movie-dataset/kernels"},e.createElement("img",{src:"//kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/kernels_datasets586.gif",alt:"new kernel gif"}))),e.createElement("h3",null,e.createElement("span",{className:"about-page__callout-number"},"1")," Kernels"),e.createElement("p",null,"Kaggle Kernels is an in-browser coding and execution environment. It support individual scripts in R, RMarkdown, and Python, as well as Jupyter Notebooks in R and Python. The code you publish with Kernels will be shared alongside the relevant dataset, as well as being listed on the Kernels tab of your profile. Go to the Kernels tab of any dataset to get started."),e.createElement("p",null,"Kernels are run in Docker containers pre-loaded with all your favorite data science packages and libraries. Want your package loaded into Kernels? Send us a note in the ",e.createElement("a",{href:"https://www.kaggle.com/forums/f/809/product-feedback"},"product feedback forum"),"."),e.createElement("p",null,"View the Kernels section of any dataset to see all of the reproducible code that’s been shared on the data. You can click “fork” on any kernel to create an editable copy of the code for you to modify or extend."),e.createElement("h3",null,e.createElement("span",{className:"about-page__callout-number"},"2")," Discussion"),e.createElement("p",null,"The Discussion tab is a place to ask questions, share what you've learned, and connect with other data enthusiasts. On the Discussion tab, you’ll see all the topics and Kernels comments about the dataset and its analyses in one place."),e.createElement("div",{className:"about-page__box-image"},e.createElement("img",{style:{maxWidth:"800px"},src:"/static/images/data-about/data-about-callout-explore@2x.png"})),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/datasets",className:"button"},"Explore Datasets")))))},n}(e.Component);t.AboutDatasetsExplore=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(80),s=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Get Data",subheading:"We want to help the world learn from data. To do this, Kaggle’s open data platform brings together the core requirements for innovation and reproducible analysis in one place: data, people, discussion, and code.",background:"/static/images/about/datasets/header-datasets-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-datasets-get"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("p",null,"The header of the ",e.createElement("a",{href:"https://www.kaggle.com/datasets"},"Datasets page")," makes it simple to discover and bookmark datasets you want to use now or save for later."),e.createElement("div",{className:"about-page__box-image"},e.createElement("a",{href:"https://www.kaggle.com/datasets"},e.createElement("img",{src:"https://kaggle2.blob.core.windows.net/competitions/kaggle/3333/media/search_dataset586.gif",alt:"new kernel gif"}))),e.createElement("div",{style:{marginTop:"32px"}},e.createElement("h2",null,"Dataset Segments"),e.createElement("p",null,"Datasets are organized, searchable, and sortable across four listings.",e.createElement("br",null),"Flip between the tabs as you search to find and bookmark the data you need."),e.createElement("dl",{className:"about-datasets__segments"},e.createElement("dt",null,"Featured:"),e.createElement("dd",null,"Datasets that have been selected by the Kaggle team for being clean and well formatted for analysis.",e.createElement("br",null),"These datasets should be easy to integrate in an existing project."),e.createElement("dt",null,"All:"),e.createElement("dd",null,"Every dataset that’s been published on Kaggle. You can find niche, small, or datasets lacking documentation here.",e.createElement("br",null),"These datasets may require some pre-processing before they're ready for use."),e.createElement("dt",null,"Mine:"),e.createElement("dd",null,"Datasets that you’ve published."),e.createElement("dt",null,"Upvoted:"),e.createElement("dd",null,"Datasets you’ve upvoted are saved here.",e.createElement("br",null),"You can use upvotes as bookmarks for content you want to use later."))),e.createElement("div",{className:"about-page__box-image"},e.createElement("img",{style:{maxWidth:"593px"},src:"/static/images/data-about/data-about-callout-download@2x.png"})),e.createElement("p",null,"Click “Download” at the top of any dataset to download all the included files.",e.createElement("br",null),"Or scroll down to preview each table and download individual files."),e.createElement("div",null,e.createElement("h3",null,"Don’t see a specific dataset or data topic you’re looking for?"),e.createElement("p",null,"Ask around or request it in the ",e.createElement("a",{href:"/data"},"forum"),"."),e.createElement("div",null,e.createElement("span",{className:"fa fa-twitter"})," Follow ",e.createElement("a",{href:"https://twitter.com/kaggledatasets",target:"_blank"},"@KaggleDatasets")," to keep up with featured datasets.")),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/datasets",className:"button"},"Get Datasets")))))},n}(e.Component);t.AboutDatasetsGet=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(80),s=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Publish Data",subheading:"We want to help the world learn from data. To do this, Kaggle’s open data platform brings together the core requirements for innovation and reproducible analysis in one place: data, people, discussion, and code.",background:"/static/images/about/datasets/header-datasets-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-datasets-get"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside about-page__section-inside--content"},e.createElement("h2",null,"Who?"),e.createElement("p",null,"Data enthusiasts of all types are encouraged to share their datasets. Organizations will want to start by ",e.createElement("a",{href:"https://www.kaggle.com/organizations/new"},"creating an organization profile")," on Kaggle. So far we’ve seen academics, hobbyists, package authors, governments, corporations, and journalists use the open data platform to collaborate and share their work."),e.createElement("h2",null,"Why?"),e.createElement("p",null,"It’s easy to join the open data movement by publishing a dataset on Kaggle. Whether you’re curating a dataset or sharing one of your favorites from around the web, publishing a dataset to Kaggle gives the data new life. Read the stories of some top data publishers on Kaggle and how they are using open data to do things like ",e.createElement("a",{href:"http://blog.kaggle.com/2016/06/03/dataset-spotlight-how-isis-uses-twitter/"},"fight ISIS"),", ",e.createElement("a",{href:"http://blog.kaggle.com/2016/10/05/open-data-spotlight-horses-for-courses-luke-byrne/"},"beat the betting odds"),", ",e.createElement("a",{href:"http://blog.kaggle.com/2016/08/22/dataset-spotlight-european-soccer-database-hugo-mathien/"},"study the beautiful game"),", and ",e.createElement("a",{href:"http://blog.kaggle.com/tag/open-data-spotlight/"},"more"),"."),e.createElement("p",null,"All datasets published on Kaggle’s open data platform are publicly available and will appear under the ",e.createElement("a",{href:"https://www.kaggle.com/datasets?sortBy=hottest&group=all"},"“All” tab on the Datasets page"),". Kaggle’s team manually reviews datasets to hand-select well formatted and topical data for the ",e.createElement("a",{href:"https://www.kaggle.com/datasets?sortBy=hottest&group=featured"},"“Featured” tab"),"."),e.createElement("div",{className:"about-page__box-image"},e.createElement("img",{style:{maxWidth:"600px"},src:"/static/images/data-about/data-about-callout-create@2x.png"})),e.createElement("h2",null,"How?"),e.createElement("p",null,"If you’re not sure where to start with prepping your open dataset for publishing, check out ",e.createElement("a",{href:"http://blog.kaggle.com/2016/10/21/a-guide-to-open-data-publishing-analytics/"},"our guide to open data publishing and analytics"),"."),e.createElement("p",null,"If your data is ready to go, click ",e.createElement("a",{href:"/datasets/new"},"New Dataset")," to use our simple publisher. Then you’ll:"),e.createElement("ol",{className:"steps-list"},e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Choose a permanent URL"),e.createElement("dd",null,"Short, clear URLs are best."))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Select an image"),e.createElement("dd",null,"If you don’t have one on hand, use one from ",e.createElement("a",{href:"http://unsplash.com"},"unsplash.com")," or a similar site."))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Enter a description / acknowledgments"),e.createElement("dd",null,"Detailed and compelling descriptions of how the data has been or could be used are important to driving activity on your data."))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Select a dataset license"),e.createElement("dd",null,"It’s important to choose the correct license as your data may be used in research or academic projects. "))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Upload uncompressed files"),e.createElement("dd",null,"CSV files, SQLite databases, and JSON files are best. If you need to upload more than 20 files, you can compress them into a .zip archive. This will be uncompressed on our side to make the data available in Kernels. "))),e.createElement("li",null,e.createElement("dl",{className:"steps-list__item"},e.createElement("dt",null,"Publish a starter kernel (optional)"),e.createElement("dd",null,"Show others how to get started with your data with some simple exploratory code or publish any previous analyses performed.")))),e.createElement("p",null,"Here are a few examples of particularly well formatted datasets:"),e.createElement("ul",{className:"aboutdata-goodlist"},e.createElement("li",null,e.createElement("a",{href:"/hugomathien/soccer"},"European Soccer Database")," by ",e.createElement("a",{href:"/hugomathien"},"Hugo Mathien")),e.createElement("li",null,e.createElement("a",{href:"/IHME/us-countylevel-mortality"},"US County-level Mortality")," by ",e.createElement("a",{href:"/IHME"},"IHME")),e.createElement("li",null,e.createElement("a",{href:"/salvadordali/racingkings"},"Racing Kings (Chess Variant)")," by ",e.createElement("a",{href:"/salvadordali"},"SalvadorDali"))),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/datasets/new",className:"button"},"New Dataset")))))},n}(e.Component);t.AboutDatasetsPublish=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(273),s=n(869),o=n(868),r=n(870),l=function(t){function n(n,a){var i=t.call(this,n)||this;return i.baseUrl="/about/datasets",i.tabs=[{title:"Get Data",slug:"get"},{title:"Explore Data",slug:"explore"},{title:"Publish Data",slug:"publish"}],i.cta={title:"Browse Datasets",slug:"browse",redirect:"/datasets"},i.pages=[e.createElement(s.AboutDatasetsGet,null),e.createElement(o.AboutDatasetsExplore,null),e.createElement(r.AboutDatasetsPublish,null)],i}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.AboutPage,{baseUrl:this.baseUrl,cta:this.cta,pages:this.pages,tabs:this.tabs})},n}(e.Component);t.AboutDatasets=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(80),s=n(881),o=n(873),r=n(874),l=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Need help? <br/>Don’t just wait to be called on. Search our FAQs today.",subheading:"Find answers to the most common questions from teachers and students about hosting and participating in Kaggle inClass competitions.",background:"/static/images/about/inclass/header-background@2x.png"},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-inclass-faqs"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-inclass-faqs__content"},e.createElement(s.AboutFAQs,{faqs:o.FAQsContent}),e.createElement(r.AboutInClassFAQsSupport,null)))},n}(e.Component);t.AboutInClassFAQs=l}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FAQsContent=[{type:"Teachers",subheadings:[{subheading:"Creating a Competition",questions:[{q:"I launched the competition with the wrong deadline. How can I change the competition deadline?",a:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sollicitudin elit lacus. Etiam lobortis cursus nunc, at fringilla dui molestie dictum. Duis commodo nibh ipsum, eu lacinia urna sodales a. Sed eget bibendum velit. Donec nec volutpat lorem, quis gravida orci. Morbi volutpat condimentum mollis. Nam rutrum sed ligula eget condimentum. Etiam aliquam iaculis ultrices. Integer euismod ligula urna, eu auctor velit congue quis. Vivamus in cursus metus, tempor dignissim tortor. Sed dolor lacus, interdum sed ultricies volutpat, viverra quis est. Cras ullamcorper pharetra magna, et finibus nibh ullamcorper id. Nunc at facilisis lacus, nec tempor nulla."},{q:"Can I create a custom evaluation metric?",a:"Mauris et sapien vitae nisl cursus vehicula vel non lacus. Nam cursus arcu pharetra sapien venenatis varius. Nunc aliquet elit justo, eu pharetra dui posuere venenatis. Donec eu quam ultricies, lacinia diam a, pharetra velit. Sed interdum posuere faucibus. Nam orci purus, tempus eget lacinia a, tincidunt sit amet felis. Proin accumsan lectus non nibh finibus elementum. Cras eget quam diam. Ut posuere nisl vel elit ultrices posuere. Curabitur eros sem, tincidunt non nulla id, sodales lacinia metus. Nulla sodales diam eget elit volutpat, bibendum eleifend nunc ultricies. Integer cursus tellus lorem, ultricies luctus turpis tincidunt vitae. Nunc vehicula metus dignissim pretium viverra. Nam sit amet tincidunt velit."}]},{subheading:"Launching a Competition",questions:[{q:"How long will it take for my competition to launch after I submitted it?",a:"Donec sagittis rhoncus aliquam. In fringilla sem eget enim aliquam, eu efficitur augue varius. Cras arcu mauris, commodo vel arcu non, dignissim blandit tortor. Etiam finibus maximus pretium. Nullam pretium sem at posuere pretium. Maecenas non porta metus. Quisque porttitor, eros at euismod finibus, ex sapien eleifend est, quis finibus magna erat vel urna. Vivamus ac nisl sed urna mattis porta non non urna. Aliquam dictum eros in sapien pulvinar pulvinar."},{q:"Help! Can you expedite my competition’s launch? I need to get it to my class by THIS date!",a:"Donec in augue elit. Etiam diam eros, tincidunt ut ultricies et, facilisis in enim. Mauris sagittis purus non turpis sodales maximus. Cras imperdiet eu ligula vel posuere. Morbi hendrerit eros sapien, et rutrum massa efficitur eget. Sed facilisis gravida mauris. Phasellus eget nulla id orci convallis congue ut sed velit. Morbi quis pretium eros. Vestibulum fermentum velit dui, sed finibus orci dapibus nec. Suspendisse sagittis interdum dapibus."}]}]},{type:"Students",subheadings:[{subheading:"Registering",questions:[{q:"A question?",a:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sollicitudin elit lacus. Etiam lobortis cursus nunc, at fringilla dui molestie dictum. Duis commodo nibh ipsum, eu lacinia urna sodales a. Sed eget bibendum velit. Donec nec volutpat lorem, quis gravida orci. Morbi volutpat condimentum mollis. Nam rutrum sed ligula eget condimentum. Etiam aliquam iaculis ultrices. Integer euismod ligula urna, eu auctor velit congue quis. Vivamus in cursus metus, tempor dignissim tortor. Sed dolor lacus, interdum sed ultricies volutpat, viverra quis est. Cras ullamcorper pharetra magna, et finibus nibh ullamcorper id. Nunc at facilisis lacus, nec tempor nulla."},{q:"Another question?",a:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sollicitudin elit lacus. Etiam lobortis cursus nunc, at fringilla dui molestie dictum. Duis commodo nibh ipsum, eu lacinia urna sodales a. Sed eget bibendum velit. Donec nec volutpat lorem, quis gravida orci. Morbi volutpat condimentum mollis. Nam rutrum sed ligula eget condimentum. Etiam aliquam iaculis ultrices. Integer euismod ligula urna, eu auctor velit congue quis. Vivamus in cursus metus, tempor dignissim tortor. Sed dolor lacus, interdum sed ultricies volutpat, viverra quis est. Cras ullamcorper pharetra magna, et finibus nibh ullamcorper id. Nunc at facilisis lacus, nec tempor nulla."}]},{subheading:"Launching a Competition",questions:[{q:"One more question?",a:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sollicitudin elit lacus. Etiam lobortis cursus nunc, at fringilla dui molestie dictum. Duis commodo nibh ipsum, eu lacinia urna sodales a. Sed eget bibendum velit. Donec nec volutpat lorem, quis gravida orci. Morbi volutpat condimentum mollis. Nam rutrum sed ligula eget condimentum. Etiam aliquam iaculis ultrices. Integer euismod ligula urna, eu auctor velit congue quis. Vivamus in cursus metus, tempor dignissim tortor. Sed dolor lacus, interdum sed ultricies volutpat, viverra quis est. Cras ullamcorper pharetra magna, et finibus nibh ullamcorper id. Nunc at facilisis lacus, nec tempor nulla."},{q:"Ok, another question?",a:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sollicitudin elit lacus. Etiam lobortis cursus nunc, at fringilla dui molestie dictum. Duis commodo nibh ipsum, eu lacinia urna sodales a. Sed eget bibendum velit. Donec nec volutpat lorem, quis gravida orci. Morbi volutpat condimentum mollis. Nam rutrum sed ligula eget condimentum. Etiam aliquam iaculis ultrices. Integer euismod ligula urna, eu auctor velit congue quis. Vivamus in cursus metus, tempor dignissim tortor. Sed dolor lacus, interdum sed ultricies volutpat, viverra quis est. Cras ullamcorper pharetra magna, et finibus nibh ullamcorper id. Nunc at facilisis lacus, nec tempor nulla."}]}]}]},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AboutInClassFAQsSupport=function(){return e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside"},e.createElement("div",{className:"about-inclass-support"},e.createElement("h2",{className:"about-inclass-support__header"},"Support"),e.createElement("div",{className:"about-inclass-support__content"},e.createElement("p",null,"Kaggle in Class is a self-serve product. Try to resolve and troubleshoot your issues before contacting Kaggle."),e.createElement("p",null,"There are no dedicated resources for inClass support so the assistance you receive and the response time will vary considerably based on available resources."),e.createElement("p",null,"Below is a list of issues that Kaggle will try to resolve on your behalf."),e.createElement("ul",null,e.createElement("li",null,"Invalidating submissions;"),e.createElement("li",null,"Very clear bug behavior, such as students unable to make any submissions, or problems with the Leaderboard.")),e.createElement("p",null,"Do not contact support about launching your competitions. Competitions are launched in 1-2 business days and cannot be expedited."),e.createElement("p",null,"To contact support, email support@kaggle and include your competition URL. This will help us correctly find your competition and resolve the issue faster.")))))}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(80),s=n(884),o=n(880),r=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Kaggle inClass competitions make machine learning fun.",subheading:"Use our free, self-service platform to create classroom competitions that engage and inspire your students.",background:"/static/images/about/inclass/header-background@2x.png"},n.actionRow=[{image:"howitworks@2x.png",heading:"How it Works",text:"Start here to learn how to setup your first competition and how to best take advantage of the platform.",link:"/about/inclass/how-it-works"},{image:"faqs@2x.png",heading:"FAQs",text:"We've compiled the feedback and wisdom of other inClass hosts so you don't have to reinvent the bell curve.",link:"/about/inclass/faqs"},{image:"forums@2x.png",heading:"Forums",text:"Ask questions, share lesson plans, and swap strategies with other machine learning educators.",link:"/discussion"}],n.logos=[{image:"berkeley.png",width:117,link:"https://berkeley.edu"},{image:"uoc.png",width:105,link:"https://www.universityofcalifornia.edu"},{image:"ucl.png",width:107,link:"https://www.ucl.ac.uk"},{image:"columbia.png",width:115,link:"https://www.columbia.edu/"},{image:"cornell.png",width:78,link:"https://www.cornell.edu/"},{image:"erasmus.png",width:88,link:"https://www.eur.nl/english/"},{image:"harvard.png",width:101,link:"https://www.harvard.edu/"},{image:"unimelb.png",width:120,link:"https://www.unimelb.edu.au"},{image:"michigan.png",width:72,link:"https://umich.edu/"},{image:"oxford.png",width:91,link:"https://www.ox.ac.uk/"},{image:"stanford.png",width:102,link:"https://www.stanford.edu/"},{image:"toronto.png",width:123,link:"https://www.utoronto.ca/"}],n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside"},e.createElement(o.AboutActionRow,{actionRow:this.actionRow}),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:"/competitions/wizard/start/inclass",className:"button"},"Create new Competition")),e.createElement(s.AboutLogos,{title:this.logosTitle,logos:this.logos}))))},n}(e.Component);t.AboutInClassHome=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(80),s=n(883),o=n(882),r=n(877),l=n(878),c=function(t){function n(e){var n=t.call(this,e)||this;return n.header={heading:"Launching your first inClass competition is simple.",subheading:"Learn how to use our self-service platform to create a fun and engaging machine learning competition for your students.",background:"/static/images/about/inclass/header-background@2x.png"},n.switcherContent=l.switcherContent,n.features=r.features,n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page about-inclass-how"},e.createElement(i.AboutHeader,a.__assign({},this.header)),e.createElement("div",{className:"about-inclass-how__content"},e.createElement("div",{className:"about-page__section"},e.createElement("div",{className:"about-page__section-inside"},e.createElement(s.default,{tabs:this.switcherContent}),e.createElement("div",{className:"about-page__cta-bar"},e.createElement("a",{href:null,className:"button"},"Download Setup Guide"),e.createElement("a",{href:"/competitions/wizard/start/inclass",className:"button button--secondary"},"Create new Competition")),e.createElement(o.AboutFeatures,{features:this.features})))))},n}(e.Component);t.AboutInClassHowItWorks=c}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.features=[{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-selfservice@2x.png",title:"Self-Service Startup Wizard"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-datasets@2x.png",title:"Labeled Training Datasets"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-metrics@2x.png",title:"Preloaded Evaluation Metrics"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-scoring@2x.png",title:"Automated Submission Scoring"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-leaderboards@2x.png",title:"Real-time Leaderboards"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-forums@2x.png",title:"Competition Forums"},{image:"/static/images/about/inclass/how-it-works/about-inclass-feature-kernels@2x.png",title:"Kaggle Kernels"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switcherContent=[{title:"Define",copy:"Identify a machine learning problem and a labeled dataset your students can use to train their models.",image:"/static/images/about/inclass/how-it-works/about-inclass-step-1@2x.png"},{title:"Create",copy:"Use the self-service wizard to upload your data, select an evaluation metric, and craft your problem statement.",image:"/static/images/about/inclass/how-it-works/about-inclass-step-2@2x.png"},{title:"Invite",copy:"Generate an open invite link or single-use invitations for your students to join the competition.",image:"/static/images/about/inclass/how-it-works/about-inclass-step-3@2x.png"},{title:"Launch",copy:"Once you've tested your competition, it will be submitted for a Kaggle admin to approve in 1-2 business days.",image:"/static/images/about/inclass/how-it-works/about-inclass-step-4@2x.png"}]},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(875),s=n(876),o=n(872),r=n(273),l=function(t){function n(n,a){var r=t.call(this,n)||this;return r.baseUrl="/about/inclass",r.tabs=[{title:"Overview",slug:"overview"},{title:"How it Works",slug:"how-it-works"},{title:"FAQs",slug:"faqs"},{title:"Forum",slug:"forum",redirect:"/discussion"}],r.cta={title:"Create new Competition",slug:"create-new-competition",redirect:"/competitions/wizard/start/inclass"},r.pages=[e.createElement(i.AboutInClassHome,null),e.createElement(s.AboutInClassHowItWorks,null),e.createElement(o.AboutInClassFAQs,null)],r}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(r.AboutPage,{baseUrl:this.baseUrl,cta:this.cta,pages:this.pages,tabs:this.tabs})},n}(e.Component);t.AboutInClass=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page__actions"},this.props.actionRow.map(function(t){return e.createElement("a",{href:t.link,key:t.heading,className:"about-page__action"},e.createElement("img",{className:"about-page__action-image",src:"/static/images/about/inclass/"+t.image}),e.createElement("h3",{className:"about-page__action-heading"},t.heading),e.createElement("p",{className:"about-page__action-text"},t.text))}))},n}(e.Component);t.AboutActionRow=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(e){var n=t.call(this,e)||this;return n.state={searchTerm:""},n}return a.__extends(n,t),n.prototype.handleSearchChange=function(e){this.setState({searchTerm:e.target.value})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"about-page__section about-faqs"},e.createElement("div",{className:"about-page__section-inside"},e.createElement("div",{className:"about-faqs__search-container"},e.createElement("i",{className:"fa fa-search"}),e.createElement("input",{className:"about-faqs__search",type:"search",onChange:this.handleSearchChange.bind(this),value:this.state.searchTerm,placeholder:"Search FAQs"})),e.createElement("div",{className:"about-faqs__qas"},this.props.faqs.map(function(n){return e.createElement(s,{key:n.type,userType:n,searchTerm:t.state.searchTerm})}))))},n}(e.Component);t.AboutFAQs=i;var s=function(t){var n=t.userType,a=t.searchTerm;return e.createElement("div",{className:"about-faqs__usertype"},e.createElement("h2",{className:"about-faqs__usertype-heading"},e.createElement("img",{className:"about-faqs__usertype-icon",src:"/static/images/about/inclass/icons/inclass-icon-"+n.type.toLowerCase()+".png"}),n.type),n.subheadings.map(function(t){return e.createElement(o,{key:t.subheading,subheading:t,searchTerm:a})}))},o=function(t){var n=t.subheading,a=t.searchTerm;return e.createElement("div",{className:"about-faqs__subsection"},e.createElement("h3",{className:"about-faqs__subheading"},n.subheading),n.questions.map(function(t,n){return e.createElement(r,{qa:t,key:n,searchTerm:a})}))},r=function(t){function n(e){var n=t.call(this,e)||this;return n.state={clickedOpen:!1,formattedQ:n.props.qa.q,formattedA:n.props.qa.a,searchFound:!1,showAnswer:!1},n}return a.__extends(n,t),n.prototype.componentWillUpdate=function(e,t){if(e.searchTerm!==this.props.searchTerm){var n=e.searchTerm,a=e.qa,i=n.length>=3&&a.q.toLowerCase().indexOf(n.toLowerCase())>=0,s=n.length>=3&&a.a.toLowerCase().indexOf(n.toLowerCase())>=0;this.setState({formattedQ:i?l(a.q,n,"about-faqs__highlight"):a.q,formattedA:s?l(a.a,n,"about-faqs__highlight"):a.a,searchFound:i||s,showAnswer:this.state.clickedOpen||i||s})}},n.prototype.handleQuestionClick=function(e){this.setState({clickedOpen:!(!this.state.clickedOpen&&this.state.showAnswer)&&!this.state.clickedOpen,showAnswer:!(!this.state.clickedOpen&&this.state.showAnswer)&&!this.state.clickedOpen})},n.prototype.render=function(){return e.createElement("dl",{className:"about-faqs__qa "+(this.state.searchFound&&"about-faqs__qa--highlighted")},e.createElement("dt",{className:"about-faqs__q",onClick:this.handleQuestionClick.bind(this)},e.createElement("i",{className:"fa "+(this.state.showAnswer?"fa-minus-circle":"fa-plus-circle")+" "}),e.createElement("span",{dangerouslySetInnerHTML:{__html:this.state.formattedQ}})),e.createElement("dd",{style:{display:this.state.showAnswer?"block":"none"},className:"about-faqs__a",dangerouslySetInnerHTML:{__html:this.state.formattedA}}))},n}(e.Component),l=function(e,t,n){var a=new RegExp("("+t+")","gi");return e.replace(a,'<span class="'+n+'">$1</span>')}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page__logos"},e.createElement("div",{className:"about-page__logos-heading"},"Platform features"),e.createElement("div",{className:"about-page__logos-features"},this.props.features.map(function(t,n){return e.createElement("div",{className:"about-page__logos-feature",key:t.title},e.createElement("img",{src:t.image}),e.createElement("h3",null,t.title))})))},n}(e.Component);t.AboutFeatures=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);n(408);var i=function(t){function n(e){var n=t.call(this,e)||this;return n.state={currentIndex:0},n.tabsLowerBound=768,n}return a.__extends(n,t),n.prototype.handleMouseEnter=function(e){this.setState({currentIndex:e})},n.prototype.componentDidMount=function(){this.props.tabs.map(function(e){(new Image).src=e.image})},n.prototype.render=function(){var t=this;return window.innerWidth>=this.tabsLowerBound?e.createElement("div",{className:"info-switcher"},e.createElement("ul",{className:"info-switcher__tabs"},this.props.tabs.map(function(n,a){return e.createElement("li",{className:"info-switcher__tab "+(a==t.state.currentIndex&&"info-switcher__tab--active"),key:a,onMouseEnter:function(){return t.handleMouseEnter(a)}},e.createElement("h3",null,n.title),e.createElement("div",null,n.copy))})),e.createElement("div",{className:"info-switcher__images"},e.createElement("svg",{className:"info-switcher__dots",width:"638px",height:"29px",viewBox:"0 0 638 29",style:{background:"#EBEBEB"}},e.createElement("g",{fill:"#D8D8D8"},e.createElement("circle",{cx:"14.5",cy:"14.5",r:"6.5"}),e.createElement("circle",{cx:"36.5",cy:"14.5",r:"6.5"}),e.createElement("circle",{cx:"58.5",cy:"14.5",r:"6.5"}))),e.createElement("img",{className:"info-switcher__image",src:this.props.tabs[this.state.currentIndex].image}))):e.createElement("div",{className:"info-switcher-mobile"},this.props.tabs.map(function(t){return e.createElement("div",{className:"info-switcher-mobile__item"},e.createElement("img",{className:"info-switcher-mobile__image",src:t.image}),e.createElement("h3",{className:"info-switcher-mobile__title"},t.title),e.createElement("div",{className:"info-switcher-mobile__copy"},t.copy))}))},n}(e.Component);t.default=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"about-page__logos"},e.createElement("div",{className:"about-page__logos-heading"},this.props.title),e.createElement("div",{className:"about-page__logos-logos"},this.props.logos.map(function(t,n){return e.createElement("a",{className:"about-page__logo",key:n,href:t.link,target:"__blank"},e.createElement("img",{width:t.width,src:"/static/images/about/inclass/logos/"+t.image}))})))},n}(e.Component);t.AboutLogos=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.componentDidMount=function(){performance&&performance.mark&&performance.mark("ApiContainer.componentDidMount")},n.prototype.render=function(){return e.createElement("div",null,e.createElement("h1",null,"Api Container"))},n}(e.Component);t.ApiContainer=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(e){var n=t.call(this,e)||this;return n.state={id:e.typeName?e.id:null,typeName:e.typeName},n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"autoform-page"},e.createElement("div",{className:"autoform-page__selectors"},e.createElement(i.SelectBox,{addLabelText:"Type",className:"autoform-page__type-selector",onChange:function(e){return t.setState({id:null,typeName:e})},options:this.props.typeNames.map(function(e){return{label:e,value:e}}),searchable:!1,value:this.state.typeName}),e.createElement("input",{className:"autoform-page__id-selector",disabled:!this.state.typeName,onChange:function(e){return t.setState({id:parseInt(e.target.value)})},placeholder:this.state.typeName?this.state.typeName+" Id":"Please select an entity type",type:"number",value:this.state.id})),this.state.id&&this.state.typeName?e.createElement(i.AutoFormContainer,{id:this.state.id,typeName:this.state.typeName}):null)},n}(e.Component);t.AutoForm=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(678),o=n(44),r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapMetricsToChartData=function(e){return e.map(function(e,t){return{x:new Date(e.startTime),y:e.totalCpuTimeMilliseconds}})},e}return a.__extends(n,t),n.prototype.handleQueryBarClick=function(e,t){this.props.loadQueryDetails(t.datum.x,t.datum.batchQueryHandle)},n.prototype.handleQueryPointClick=function(e,t){this.props.loadQueryDetails(t.x,t.batchQueryHandle)},n.prototype.handeOuterDomainChange=function(e){this.props.updateOuterTimes(e.x[0],e.x[1])},n.prototype.handeInnerDomainChange=function(e){this.props.updateInnerTimes(e.x[0],e.x[1])},n.prototype.render=function(){var t=this,n=this.props.databaseLoadMetrics&&5e4*Math.ceil(Math.max(3e5,this.props.databaseLoadMetrics.concat().filter(function(e){return new Date(e.startTime)>=t.props.startTime&&new Date(e.startTime)<=t.props.endTime}).sort(function(e,t){return t.totalCpuTimeMilliseconds-e.totalCpuTimeMilliseconds})[0].totalCpuTimeMilliseconds)/5e4),a=this.props.isLoadingCpuTime||this.props.isLoadingSelectedQueryDetails||this.props.isLoadingQwos,r=this.props.selectedQueryMetrics&&this.props.selectedQueryMetrics.filter(function(e){return new Date(e.startTime)>=t.props.startTime&&new Date(e.startTime)<t.props.endTime});return e.createElement("div",{className:"database"},e.createElement("div",{className:"database__refresh database__refresh--"+(a?"loading":"clickable"),onClick:a?null:this.props.handleRefresh},e.createElement("span",{className:"fa fa-refresh"})," get latest CPU utilization"),e.createElement(i.ContentBox,{title:"Database % CPU utilization",titleBarRightSide:this.props.isLoadingCpuUtilization&&e.createElement("div",null,e.createElement("span",{className:"fa fa-spin fa-refresh"})," loading")},this.props.cpuUtilizationMetricsByHour&&this.props.initialOuterStartTime&&e.createElement("div",null,e.createElement("div",{className:"database__date-range"},e.createElement("div",null,new Date(this.props.cpuUtilizationMetricsByHour[0].startTime).toLocaleString()),e.createElement("div",null,"past 30 days"),e.createElement("div",null,new Date(this.props.cpuUtilizationMetricsByHour[this.props.cpuUtilizationMetricsByHour.length-1].startTime).toLocaleString())),e.createElement(s.VictoryChart,{domain:{y:[0,100]},scale:{x:"time",y:"linear"},width:1e3,height:125,padding:{left:75,right:25,top:10,bottom:35},containerComponent:e.createElement(s.VictoryBrushContainer,{dimension:"x",selectedDomain:{x:[this.props.initialOuterStartTime,this.props.initialOuterEndTime]},onDomainChange:function(e){return t.handeOuterDomainChange(e)}})},e.createElement(s.VictoryAxis,{style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}}}),e.createElement(s.VictoryAxis,{dependentAxis:!0,style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}},tickValues:[25,50,75,100]}),e.createElement(s.VictoryArea,{style:{data:{fill:"#808080"}},data:!this.props.isLoadingCpuUtilization&&this.props.cpuUtilizationMetricsByHour.map(function(e,t){return{x:new Date(e.startTime),y:Math.floor(e.avgCpuPercent),startTime:e.startTime}})}))),this.props.cpuUtilizationMetricsByMinute&&this.props.outerStartTime&&e.createElement("div",null,e.createElement("div",{className:"database__date-range"},e.createElement("div",null,this.props.outerStartTime.toLocaleString()),e.createElement("div",null,"zoomed in range from above"),e.createElement("div",null,this.props.outerEndTime.toLocaleString())),e.createElement(s.VictoryChart,{domain:{y:[0,100],x:[this.props.outerStartTime,this.props.outerEndTime]},scale:{x:"time",y:"linear"},width:1e3,height:150,padding:{left:75,right:25,top:10,bottom:35},containerComponent:e.createElement(s.VictoryBrushContainer,{dimension:"x",selectedDomain:{x:[this.props.startTime,this.props.endTime]},onDomainChange:function(e){return t.handeInnerDomainChange(e)}})},e.createElement(s.VictoryAxis,{style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}},tickCount:12}),e.createElement(s.VictoryAxis,{dependentAxis:!0,style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}},tickValues:[25,50,75,100]}),e.createElement(s.VictoryArea,{style:{data:{fill:"#808080"}},data:!this.props.isLoadingCpuUtilization&&this.props.cpuUtilizationMetricsByMinute.filter(function(e){return new Date(e.startTime)>t.props.outerStartTime&&new Date(e.startTime)<t.props.outerEndTime}).map(function(e,t){return{x:new Date(e.startTime),y:Math.floor(e.avgCpuPercent),startTime:e.startTime}})})))),e.createElement(i.ContentBox,{title:"QWoS - Top queries by CPU (in selected window)",titleBarRightSide:this.props.isLoadingQwos&&e.createElement("div",null,e.createElement("span",{className:"fa fa-spin fa-refresh"}),"  loading")},this.props.topHistogram&&e.createElement("div",{className:"database__histogram-container"},e.createElement(s.VictoryChart,{width:1e3,height:250,padding:{left:75,right:25,top:25,bottom:35},domain:{x:[0,26]}},e.createElement(s.VictoryAxis,{style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12}},tickValues:Array(25).fill(0).map(function(e,t){return t+1})}),e.createElement(s.VictoryAxis,{dependentAxis:!0,style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}}}),e.createElement(s.VictoryGroup,null,e.createElement(s.VictoryBar,{labelComponent:e.createElement(s.VictoryTooltip,null),data:this.props.isLoadingQwos?[{x:-1,y:0}]:this.props.topHistogram.map(function(e,t){return{x:t+1,y:e.totalCpuTimeMilliseconds,label:"Query "+(t+1)+"\nTotal ms: "+e.totalCpuTimeMilliseconds.toLocaleString()+"\nExecutions: "+e.executionCount.toLocaleString()+"\nAvg ms: "+e.avgCpuTimeMilliseconds.toLocaleString(),batchQueryHandle:e.batchQueryHandle}}),events:[{target:"data",eventHandlers:{onClick:function(e,n){return t.handleQueryBarClick(e,n)}}}],style:{data:{fill:function(e){return e.x==t.props.selectedQueryNumber?"#20BEFF":"#808080"}}}}),!this.props.isLoadingQwos&&e.createElement(s.VictoryScatter,{labelComponent:e.createElement(s.VictoryTooltip,null),data:!this.props.isLoadingQwos&&this.props.topHistogram.map(function(e,n){return{x:n+1,y:e.executionCount/t.props.topHistogram.concat().sort(function(e,t){return t.executionCount-e.executionCount})[0].executionCount*t.props.topHistogram[0].totalCpuTimeMilliseconds,label:"Query "+(n+1)+"\nTotal ms: "+e.totalCpuTimeMilliseconds.toLocaleString()+"\nExecutions: "+e.executionCount.toLocaleString()+"\nAvg ms: "+e.avgCpuTimeMilliseconds.toLocaleString(),batchQueryHandle:e.batchQueryHandle}}),symbol:"circle",events:[{target:"data",eventHandlers:{onClick:function(e,n){return t.handleQueryPointClick(e,n)}}}],style:{data:{fill:"black"}}}),!this.props.isLoadingQwos&&e.createElement(s.VictoryScatter,{labelComponent:e.createElement(s.VictoryTooltip,null),data:!this.props.isLoadingQwos&&this.props.topHistogram.map(function(e,n){return{x:n+1,y:e.avgCpuTimeMilliseconds/t.props.topHistogram.concat().sort(function(e,t){return t.avgCpuTimeMilliseconds-e.avgCpuTimeMilliseconds})[0].avgCpuTimeMilliseconds*t.props.topHistogram[0].totalCpuTimeMilliseconds,label:"Query "+(n+1)+"\nTotal ms: "+e.totalCpuTimeMilliseconds.toLocaleString()+"\nExecutions: "+e.executionCount.toLocaleString()+"\nAvg ms: "+e.avgCpuTimeMilliseconds.toLocaleString(),batchQueryHandle:e.batchQueryHandle}}),symbol:"star",events:[{target:"data",eventHandlers:{onClick:function(e,n){return t.handleQueryPointClick(e,n)}}}],style:{data:{fill:"tomato"}}}))),e.createElement("div",{className:"database__histogram-legend"},e.createElement("div",{className:"database__histogram-legend-cpu"}," Average CPU relative to other queries"),e.createElement("div",{className:"database__histogram-legend-execution"}," Execution count relative to other queries")),this.props.databaseLoadMetrics&&e.createElement("div",null,e.createElement("div",{className:"database__date-range"},e.createElement("div",null,new Date(this.props.startTime).toLocaleString()),e.createElement("div",null,"total CPU per minute - all queries vs. selected query"),e.createElement("div",null,new Date(this.props.endTime).toLocaleString())),e.createElement(s.VictoryChart,{containerComponent:e.createElement(s.VictoryVoronoiContainer,{dimension:"x",labels:function(e){return(null!=e.index?"Query "+(e.index+1):"Total")+": "+e.y.toLocaleString()+" ms, "+e.executionCount.toLocaleString()+" runs, "+e.avgCpuTimeMilliseconds.toLocaleString()+" avg ms ("+(e.y/t.props.databaseLoadMetrics.filter(function(t){return t.startTime===e.startTime})[0].totalCpuTimeMilliseconds*100).toFixed(1)+"%)"},labelComponent:e.createElement(s.VictoryTooltip,null)}),domain:{y:[0,n]},scale:{x:"time",y:"linear"},width:1e3,height:250,padding:{left:75,right:25,top:10,bottom:35}},e.createElement(s.VictoryAxis,{style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}}}),e.createElement(s.VictoryAxis,{dependentAxis:!0,style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}},tickCount:7}),e.createElement(s.VictoryGroup,null,e.createElement(s.VictoryArea,{style:{data:{fill:"#808080"}},data:!this.props.isLoadingCpuTime&&this.props.databaseLoadMetrics.filter(function(e){return new Date(e.startTime)>=t.props.startTime&&new Date(e.startTime)<=t.props.endTime}).map(function(e){return{x:new Date(e.startTime),y:e.totalCpuTimeMilliseconds,startTime:e.startTime,executionCount:e.executionCount,avgCpuTimeMilliseconds:e.avgCpuTimeMilliseconds}})}),this.props.selectedQueryMetrics&&e.createElement(s.VictoryArea,{style:{data:{fill:"#20BEFF"}},data:!this.props.isLoadingCpuTime&&this.props.selectedQueryMetrics.filter(function(e){return new Date(e.startTime)>=t.props.startTime&&new Date(e.startTime)<=t.props.endTime}).map(function(e){return{x:new Date(e.startTime),y:e.totalCpuTimeMilliseconds,startTime:e.startTime,executionCount:e.executionCount,avgCpuTimeMilliseconds:e.avgCpuTimeMilliseconds}})})))))),e.createElement(i.ContentBox,{title:"Selected query details",titleBarRightSide:this.props.isLoadingSelectedQueryDetails&&e.createElement("div",null,e.createElement("span",{className:"fa fa-spin fa-refresh"}),"  loading")},this.props.selectedQueryMetrics&&e.createElement("div",null,e.createElement("div",{className:"database__query-details"},e.createElement("div",{className:"database__query-details-handle"},this.props.selectedQueryHandle),e.createElement("div",{className:"database__query-details-header"},e.createElement("div",{className:"database__query-details-descriptor"}),e.createElement("div",{className:"database__query-details-window"},"In window"),e.createElement("div",{className:"database__query-details-total"},"Total")),e.createElement("div",{className:"database__query-details-meta"},e.createElement("div",{className:"database__query-details-descriptor"},"Start time"),e.createElement("div",{className:"database__query-details-window"},this.props.startTime.toLocaleString()),e.createElement("div",{className:"database__query-details-total"},new Date(this.props.selectedQueryMetrics[0].startTime).toLocaleString())),e.createElement("div",{className:"database__query-details-meta"},e.createElement("div",{className:"database__query-details-descriptor"},"End time"),e.createElement("div",{className:"database__query-details-window"},this.props.endTime.toLocaleString()),e.createElement("div",{className:"database__query-details-total"},new Date(this.props.selectedQueryMetrics[this.props.selectedQueryMetrics.length-1].startTime).toLocaleString())),e.createElement("div",{className:"database__query-details-meta"},e.createElement("div",{className:"database__query-details-descriptor"},"Timespan"),e.createElement("div",{className:"database__query-details-window"},o.duration(o(this.props.endTime).diff(o(this.props.startTime))).humanize()),e.createElement("div",{className:"database__query-details-total"},o.duration(o(this.props.selectedQueryMetrics[this.props.selectedQueryMetrics.length-1].startTime).diff(o(this.props.selectedQueryMetrics[0].startTime))).humanize())),e.createElement("div",{className:"database__query-details-meta"},e.createElement("div",{className:"database__query-details-descriptor"},"Total CPU (minutes)"),e.createElement("div",{className:"database__query-details-window"},""+(r.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/6e4).toLocaleString()),e.createElement("div",{className:"database__query-details-total"},""+(this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/6e4).toLocaleString())),e.createElement("div",{className:"database__query-details-meta"},e.createElement("div",{className:"database__query-details-descriptor"},"Executions"),e.createElement("div",{className:"database__query-details-window"},""+r.reduce(function(e,t){return e+t.executionCount},0).toLocaleString()),e.createElement("div",{className:"database__query-details-total"},""+this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.executionCount},0).toLocaleString())),e.createElement("div",{className:"database__query-details-meta"},e.createElement("div",{className:"database__query-details-descriptor"},"Avg CPU ms"),e.createElement("div",{className:"database__query-details-window"},""+(r.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/r.reduce(function(e,t){return e+t.executionCount},0)).toLocaleString()),e.createElement("div",{className:"database__query-details-total"},""+(this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.totalCpuTimeMilliseconds},0)/this.props.selectedQueryMetrics.reduce(function(e,t){return e+t.executionCount},0)).toLocaleString()))),e.createElement("div",{className:"database__date-range"},e.createElement("div",null,new Date(this.props.selectedQueryMetrics[0].startTime).toLocaleString()),e.createElement("div",null,"query total CPU over time"),e.createElement("div",null,new Date(this.props.selectedQueryMetrics[this.props.selectedQueryMetrics.length-1].startTime).toLocaleString())),e.createElement(s.VictoryChart,{scale:{x:"time",y:"linear"},style:{data:{strokeWidth:3,fillOpacity:.4}},width:1e3,height:250,padding:{left:75,right:25,top:10,bottom:35}},e.createElement(s.VictoryAxis,{style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}}}),e.createElement(s.VictoryAxis,{dependentAxis:!0,style:{ticks:{stroke:"gray"},tickLabels:{fill:"gray",fontSize:12},grid:{stroke:"gray"}}}),e.createElement(s.VictoryArea,{style:{data:{fill:"#20BEFF"}},data:!this.props.isLoadingSelectedQueryDetails&&this.props.selectedQueryMetrics.map(function(e){return{x:new Date(e.startTime),y:e.totalCpuTimeMilliseconds,startTime:e.startTime,executionCount:e.executionCount,avgCpuTimeMilliseconds:e.avgCpuTimeMilliseconds}})})),e.createElement("div",{className:"database__query-details"},this.props.selectedQueryLink&&e.createElement("div",{className:"database__query-details-link-container"},e.createElement("a",{className:"database__query-details-link",href:this.props.selectedQueryLink,target:"_blank"},this.props.selectedQueryLink)),e.createElement("pre",null,this.props.selectedQueryText)))))},n}(e.Component);t.AdminDatabase=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(887),o=n(44),r=function(t){function n(e){var n=t.call(this,e)||this;return n.initializeOuterWindow=function(){var e=n.props.startTime,t=n.state.cpuUtilizationMetricsByHour[n.state.cpuUtilizationMetricsByHour.length-1].startTime,a=n.state.cpuUtilizationMetricsByHour[0].startTime,i=o(e).add("hours",12)>o(t)?new Date(t):o(e).add("hours",12).toDate(),s=o(i).add("hours",-12)<o(a)?new Date(a):o(i).add("hours",-12).toDate();n.setState({initialOuterStartTime:s,initialOuterEndTime:i},function(){n.updateOuterTimes(s,i)})},n.refresh=function(){n.setState({isLoadingCpuUtilization:!0,isLoadingCpuTime:!0}),a.Admin.databaseCpuTime({}).then(function(e){n.setState({isLoadingCpuTime:!1,databaseLoadMetrics:e})}),a.Admin.databaseCpuUtilization({}).then(function(e){n.setState({isLoadingCpuUtilization:!1,cpuUtilizationMetricsByMinute:e.metricsByMinute,cpuUtilizationMetricsByHour:e.metricsByHour},function(){n.initializeOuterWindow()})}),n.fetchData()},n.fetchData=function(){n.setState({isLoadingQwos:!0,selectedQueryNumber:null,selectedQueryHandle:null,selectedQueryText:null,selectedQueryLink:null,selectedQueryMetrics:null});var e={startTime:n.state.startTime.toJSON(),endTime:n.state.endTime.toJSON()};a.Admin.databaseQueryWallOfShame(e).then(function(e){n.loadQueryDetails(1,e[0].batchQueryHandle),n.setState({topHistogram:e,isLoadingQwos:!1})})},n.loadQueryDetails=function(e,t){n.setState({isLoadingSelectedQueryDetails:!0,selectedQueryNumber:e,selectedQueryHandle:t,selectedQueryText:null,selectedQueryLink:null,selectedQueryMetrics:null});var i={batchQueryHandle:t};a.Admin.databaseQueryDetails(i).then(function(a){n.setState({isLoadingSelectedQueryDetails:!1,selectedQueryNumber:e,selectedQueryHandle:t,selectedQueryText:a.batchText||a.queryText,selectedQueryLink:a.sourceLink,selectedQueryMetrics:a.metrics})})},n.setOuterTimes=function(e,t){var a=new Date(n.state.cpuUtilizationMetricsByHour[n.state.cpuUtilizationMetricsByHour.length-1].startTime),i=t.getTime()===a.getTime(),s=new Date(n.state.cpuUtilizationMetricsByMinute[n.state.cpuUtilizationMetricsByMinute.length-1].startTime),o=e,r=i?s:t;n.setState({outerStartTime:o,outerEndTime:r})},n.updateOuterTimes=function(e,t){n.outerWindowTimeout&&window.clearTimeout(n.outerWindowTimeout),n.outerWindowTimeout=window.setTimeout(function(){n.setOuterTimes(e,t)},1e3)},n.updateInnerTimes=function(e,t){n.innerWindowTimeout&&window.clearTimeout(n.innerWindowTimeout),n.innerWindowTimeout=window.setTimeout(function(){window.history.replaceState({},"","db?startTime="+e.toJSON()+"&endTime="+t.toJSON()),n.setState({startTime:e,endTime:t},function(){n.fetchData()})},1e3)},n.state=i.__assign({},e,{startTime:new Date(n.props.startTime),endTime:new Date(n.props.endTime)}),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){this.refresh()},n.prototype.render=function(){return e.createElement(s.AdminDatabase,i.__assign({},this.state,{handleRefresh:this.refresh,loadQueryDetails:this.loadQueryDetails,updateOuterTimes:this.updateOuterTimes,updateInnerTimes:this.updateInnerTimes}))},n}(e.Component);t.AdminDatabaseContainer=r}).call(t,n(0),n(34))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),s=n(7),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"admin-home"},e.createElement(s.ContentBox,{titleBarRightSide:e.createElement("a",{className:"admin-home__text-link",href:"/admin"},"Old admin ",e.createElement("span",{className:"fa fa-angle-double-right"})),title:"Welcome to the New Admin Home!"},e.createElement("div",{className:"admin-home__content"},e.createElement(i.ButtonAutoWidth,{href:"/admin/submissions",text:"Recent / Pending Submissions"})),e.createElement("div",{className:"admin-home__content"},e.createElement(i.ButtonAutoWidth,{href:"/admin/db",text:"Database Info"})),e.createElement("div",{className:"admin-home__content"},e.createElement(i.ButtonAutoWidth,{href:"/admin/react",text:"React Component Docs"})),e.createElement("div",{className:"admin-home__content"},e.createElement(i.ButtonAutoWidth,{href:"/admin/niko",text:"Niko Calendar"}))))},n}(e.Component);t.AdminHome=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(889),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.AdminHome,{})},n}(e.Component);t.AdminHomeContainer=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(6),o=n(44),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){for(var t=this,n=(o.utc(this.props.beginDate).month()!=o.utc(this.props.endDate).month()?"MMMM ":"")+"D",a=[],r=o.utc(this.props.beginDate),l=o.utc(this.props.endDate);r<=l;)0!=r.day()&&6!=r.day()&&a.push(r.toDate()),r=o.utc(r).add("day",1);return e.createElement("div",{className:"niko"},e.createElement(i.ContentBox,null,e.createElement("div",{className:"niko__header"},e.createElement("span",{className:"niko__header-navigation fa fa-chevron-circle-left",onClick:function(){return t.props.onLoadCalendar(t.props.previousBeginDate,t.props.previousEndDate)}}),o.utc(this.props.beginDate).format("MMMM D")," - ",o.utc(this.props.endDate).format(n),e.createElement("span",{className:"niko__header-navigation fa fa-chevron-circle-right",onClick:function(){return t.props.onLoadCalendar(t.props.nextBeginDate,t.props.nextEndDate)}}))),this.props.teams.map(function(n){return e.createElement(i.ContentBox,{title:n.teamName,onTitleClick:function(){return t.props.onLoadNotes(n.teamId,null,o(t.props.beginDate).toDate(),o(t.props.endDate).toDate())}},e.createElement("div",{className:"niko__date-header-row"},e.createElement("div",{className:"niko__date-header"}),a.map(function(t,n){return e.createElement("div",{className:"niko__date-header "+(o.utc().startOf("day").isSame(o.utc(t))?"niko__date-header--today":"")+" "+(5==o.utc(t).weekday()&&n<a.length-1?"niko__date-header--friday":"")},o.utc(t).format("ddd M/D"))})),e.createElement("div",null,n.users.map(function(n){var i=t.props.logUsers&&t.props.logUsers.length?t.props.logUsers.filter(function(e){return e.userId==n.userId}):null,r=n.logs.length>0;return e.createElement("div",null,e.createElement("div",{className:"niko__user-row "+(s.Current.userId==n.userId?"niko__user-row--current":"")+" "+(n.userId==t.props.selectedUserId&&o.utc(t.props.beginDate).toDate().getTime()===o.utc(t.props.selectedBeginDate).toDate().getTime()&&o.utc(t.props.endDate).toDate().getTime()===o.utc(t.props.selectedEndDate).toDate().getTime()?"niko__user-row--selected":"")},e.createElement("img",{className:"niko__user-image "+(r?"niko__user-image--clickable":""),src:n.thumbnailUrl,title:n.userDisplayName,onClick:r?function(){return t.props.onLoadNotes(null,n.userId,o(t.props.beginDate).toDate(),o(t.props.endDate).toDate())}:null}),a.map(function(i,r){var l=n.logs.filter(function(e){return o.utc(e.logDate).isSame(o.utc(i))}),c="niko__user-image "+(o.utc().startOf("day").isSame(o.utc(i))?"niko__user-image--today":"")+" "+(5==o.utc(i).weekday()&&r<a.length-1?"niko__user-image--friday":"")+" "+(s.Current.userId==n.userId?"niko__user-image--current":"")+(n.userId==t.props.selectedUserId&&o.utc(i).toDate().getTime()===o.utc(t.props.selectedBeginDate).toDate().getTime()&&o.utc(i).toDate().getTime()===o.utc(t.props.selectedEndDate).toDate().getTime()?"niko__user-image--selected":"");if(l.length>0){var p=l[0];return e.createElement("img",{className:c+" niko__user-image--clickable",src:"/static/images/niko-"+p.nikoName.toLowerCase()+".png",onClick:function(){return t.props.onLoadNotes(null,n.userId,o(p.logDate).toDate(),o(p.logDate).toDate())}})}return e.createElement("img",{className:c,src:"/static/images/niko-notset.png"})})),i&&i.length?e.createElement("div",{className:"niko__user-log-sets"},i[0].dates.map(function(t){return e.createElement("div",{className:"niko__user-log-set"},e.createElement("div",{className:"niko__user-log-date-line"},e.createElement("img",{className:"niko__user-log-niko",src:"/static/images/niko-"+t.nikoName.toLowerCase()+".png"}),e.createElement("div",{className:"niko__user-log-date"},o.utc(t.logDate).format("ddd M/D"))),e.createElement("ol",{className:"niko__user-log-entries"},t.todayNotes?e.createElement("li",{className:"niko__user-log-entry niko__user-log-entry--today"},t.todayNotes):null,t.tomorrowNotes?e.createElement("li",{className:"niko__user-log-entry niko__user-log-entry--tomorrow"},t.tomorrowNotes):null,t.impedimentNotes?e.createElement("li",{className:"niko__user-log-entry niko__user-log-entry--impediments"},t.impedimentNotes):null,t.fyiNotes?e.createElement("li",{className:"niko__user-log-entry niko__user-log-entry--fyi"},t.fyiNotes):null))})):null)})))}))},n}(e.Component);t.Niko=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(891),o=n(44),r=function(t){function n(e){var n=t.call(this,e)||this;return n.onLoadNotes=function(e,t,s,r){return i.__awaiter(n,void 0,void 0,function(){var n,l=this;return i.__generator(this,function(c){switch(c.label){case 0:return e==this.state.selectedTeamId&&t==this.state.selectedUserId&&o(this.state.selectedBeginDate).toDate().getTime()==o(s).toDate().getTime()&&o(this.state.selectedEndDate).toDate().getTime()==o(r).toDate().getTime()?(this.setState(i.__assign({},this.state,{selectedTeamId:null,selectedUserId:null,selectedBeginDate:null,selectedEndDate:null,logUsers:null})),[2]):(this.setState(i.__assign({},this.state,{selectedTeamId:e,selectedUserId:t,selectedBeginDate:s,selectedEndDate:r})),[4,a("/admin/niko/notes.json",{method:"POST",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify({teamId:e,userId:t,beginDate:s||null,endDate:r||null}),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return l.setState(i.__assign({},l.state,{logUsers:e.notes}))})]);case 1:return n=c.sent(),[2]}})})},n.onLoadCalendar=function(e,t,s){return i.__awaiter(n,void 0,void 0,function(){var n,o=this;return i.__generator(this,function(r){switch(r.label){case 0:return[4,a("/admin/niko.json?beginDate="+e+"&endDate="+t+"&showAllTeams="+s,{method:"GET",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return o.setState(i.__assign({},o.state,e))})];case 1:return n=r.sent(),[2]}})})},n.state=i.__assign({},e,{logUsers:null}),n}return i.__extends(n,t),n.prototype.render=function(){return e.createElement(s.Niko,i.__assign({},this.state,{onLoadNotes:this.onLoadNotes,onLoadCalendar:this.onLoadCalendar}))},n}(e.Component);t.NikoContainer=r}).call(t,n(0),n(32))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(678),o=function(t){function n(e){var n=t.call(this,e)||this;return n.state={title:"",queryData:[],sqlSource:"",editUrl:"",isShowingChart:!0,chartDataWithoutFinalLineSegment:[],finalLineSegment:[]},n}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;this.props.getQueryData().then(function(t){e.setState({title:t.title,queryData:t.queryResult,sqlSource:t.sql,editUrl:t.editUrl,isShowingChart:!0,chartDataWithoutFinalLineSegment:e.getChartDataWithoutFinalLineSegment(t.queryResult),finalLineSegment:e.getFinalLineSegment(t.queryResult)})})},n.prototype.componentWillReceiveProps=function(e){this.props.showFinalDatapoint===e.showFinalDatapoint&&this.props.grossUpFinalDatapoint===e.grossUpFinalDatapoint||this.setState({chartDataWithoutFinalLineSegment:this.getChartDataWithoutFinalLineSegment(this.state.queryData),finalLineSegment:this.getFinalLineSegment(this.state.queryData)})},n.prototype.getChartDataWithoutFinalLineSegment=function(e){var t=this.getDataAndFinalIndices(e),n=t.data,a=(t.finalTime,t.finalIndex);t.secondFromFinalTime,t.secondFromFinalIndex;return n.splice(a,1),n},n.prototype.getFinalLineSegment=function(e){if(!this.props.showFinalDatapoint)return[];var t=this.getDataAndFinalIndices(e),n=t.data,a=t.finalTime,i=t.finalIndex,s=t.secondFromFinalTime,o=t.secondFromFinalIndex,r={x:n[i].x,y:this.props.grossUpFinalDatapoint?this.grossUpFinalNumber(a.getTime(),s.getTime(),n[i].y):n[i].y};return[n[o],r]},n.prototype.grossUpFinalNumber=function(e,t,n){var a=(new Date).getTime(),i=1-(e-a)/(e-t);return i?n/i:n},n.prototype.getDataAndFinalIndices=function(e){var t=e.map(function(e){return{x:new Date(e.time),y:e.series1}}),n=this.getEndpoints(t),a=n.finalTime,i=n.secondFromFinalTime;return{data:t,finalTime:a,finalIndex:t.map(function(e){return e.x.getTime()}).indexOf(a.getTime()),secondFromFinalTime:i,secondFromFinalIndex:t.map(function(e){return e.x.getTime()}).indexOf(i.getTime())}},n.prototype.getEndpoints=function(e){var t=e.map(function(e){return e.x.getTime()}),n=new Date(Math.max.apply(Math,t)),a=new Date(Math.max.apply(Math,t.filter(function(e){return e<n.getTime()})));return{finalTime:n,secondFromFinalTime:a}},n.prototype.renderEmptyBox=function(){return e.createElement(i.ContentBox,{title:"Loading..."},e.createElement("div",{style:{height:"200px"}}))},n.prototype.render=function(){var t=this;return 0===this.state.chartDataWithoutFinalLineSegment.length?this.renderEmptyBox():e.createElement("div",{className:"product-metrics__chart"},e.createElement(i.ContentBox,null,this.state.isShowingChart?e.createElement(l,a.__assign({},this.props,this.state)):e.createElement(r,{sqlSource:this.state.sqlSource}),e.createElement("div",{className:"product-metrics__action-buttons"},e.createElement("span",{className:"product-metrics__action-button fa fa-"+(this.state.isShowingChart?"code":"line-chart"),onClick:function(){t.setState({isShowingChart:!t.state.isShowingChart})},title:this.state.isShowingChart?"Show SQL query":"Show chart"}),e.createElement("span",{className:"product-metrics__action-button fa fa-edit",onClick:function(){window.open(t.state.editUrl)},title:"Edit SQL query"}))))},n}(e.Component);t.ProductMetricChartContainer=o;var r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.componentDidMount=function(){window.setTimeout(function(){Prism.highlightAll(!0)},0)},n.prototype.render=function(){return e.createElement("div",{className:"product-metrics__code"},e.createElement("pre",{style:{padding:"20px"}},e.createElement("code",{className:"language-sql"},this.props.sqlSource)))},n}(e.Component),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t={tickLabels:{fill:"gray",fontSize:12,fontFamily:"Atlas Grotesk"},grid:{stroke:"lightgray"}};return e.createElement(s.VictoryChart,{scale:{x:"time",y:"linear"},domainPadding:10,width:670,height:500},e.createElement(s.VictoryAxis,{style:t}),e.createElement(s.VictoryAxis,{dependentAxis:!0,style:t}),e.createElement(s.VictoryAxis,{dependentAxis:!0,orientation:"right",style:t}),e.createElement(s.VictoryLabel,{text:this.props.title,style:{fontFamily:"Atlas Grotesk",textAnchor:"start",verticalAnchor:"end",fontSize:"18px",fontWeight:"bold"},x:25,y:25}),e.createElement(s.VictoryLine,{data:this.props.chartDataWithoutFinalLineSegment}),this.props.showFinalDatapoint&&this.props.finalLineSegment.length>0?e.createElement(s.VictoryLine,{data:this.props.finalLineSegment,style:{data:{stroke:"#555",opacity:.7}}}):null)},n}(e.Component)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(893),s=n(50),o=n(34),r=function(t){function n(e){var n=t.call(this,e)||this;n.handleActiveTabChange=function(e){n.setState({activeTab:e})},n.pendingMetricQueryIds={},n.pendingMetricQueryTimeout=null,n.fetchQueryData=function(){if(n.pendingMetricQueryTimeout=null,n.pendingMetricQueryIds){var e={productMetricsIds:Object.keys(n.pendingMetricQueryIds)},t={};for(var a in n.pendingMetricQueryIds)t[a]=n.pendingMetricQueryIds[a];n.pendingMetricQueryIds={},o.Admin.getProductMetricsQueries({},e).then(function(e){e.forEach(function(e){t[e.productMetricsId](e)})})}},n.handleMetricFetchRequest=function(e){return new Promise(function(t){n.pendingMetricQueryIds[e]=t,n.pendingMetricQueryTimeout||(n.pendingMetricQueryTimeout=setTimeout(n.fetchQueryData,0))})};var a=n.props.tabs.map(function(e){return e.tabName}).indexOf(n.props.activeTab)>-1;return n.state={activeTab:a?n.props.activeTab:n.props.tabs[0].tabName},n}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.tabs.map(function(e){return{tab:e.tabName,text:e.tabName,title:e.tabName}}),a=this.props.tabs.find(function(e){return e.tabName===t.state.activeTab});return e.createElement("div",null,e.createElement(s.PageHeader,null,e.createElement(s.PageHeaderTopRow,{isEditingHeaderInfo:!1,title:"Site Metrics",subtitle:null,titleUrl:null,coverImageUrl:this.props.coverImageUrl}),e.createElement(s.PageHeaderBottomRow,null,e.createElement(s.PageHeaderNav,{menuLinks:n,activeTab:this.state.activeTab,changeActiveTab:this.handleActiveTabChange}))),e.createElement("div",{className:"product-metrics__container"},a?a.metricIds.map(function(n){return e.createElement(i.ProductMetricChartContainer,{key:"metric-"+t.state.activeTab+"-"+n,getQueryData:function(){return t.handleMetricFetchRequest(n)},showFinalDatapoint:!0,grossUpFinalDatapoint:!0})}):"No metrics to show"))},n}(e.Component);t.ProductMetricsContainer=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(897),s=n(1783),o=n(38),r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onScroll=function(){e.props.onScroll(e.reactComponents.getBoundingClientRect().top)},e}return a.__extends(n,t),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!1),window.setTimeout(this.onScroll)},n.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.onScroll,!1)},n.prototype.renderComponentNav=function(t){return e.createElement("nav",{className:"react-components__nav"},t.map(function(t,n){return e.createElement(o.BlockLink,{className:"react-components__nav-item",href:"#"+t.title.replace(/\s+/g,"-"),key:n},t.title)}))},n.prototype.render=function(){var t=this,n=this.props,o=n.components,r=n.menuIsStuck;return e.createElement("div",{className:"react-components",ref:function(e){t.reactComponents=e}},r?e.createElement("div",{className:"react-components__menu"}):null,e.createElement("div",{className:r?"react-components__menu--stuck":"react-components__menu"},e.createElement("h1",{className:"react-components__page-title"},"React Components"),e.createElement(s.default,{className:"react-components__search",onChange:this.props.onUpdateSearchTerm}),this.renderComponentNav(o)),e.createElement("div",{className:"react-components__style-guide-list"},o.map(function(t,n){return e.createElement("div",{className:"react-components__style-guide-item-wrapper",key:n},e.createElement(i.ReactDocItem,a.__assign({expanderInactiveText:"Expand Code Snippet",expanderActiveText:"Collapse Code Snippet",markupExpandedByDefault:!1,componentClass:"react-components__style-guide-item",descriptionClass:"react-components__style-guide-description",headingClass:"react-components__style-guide-title",exampleClass:"react-components__style-guide-example"},t)))})))},n}(e.Component);t.ReactComponents=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(895),s=n(1041),o=function(t){function n(e){var n=t.call(this,e)||this;return n.keysToFilters=["title","description"],n.allComponents=[],n.allComponents=Object.values(s),n.state={menuIsStuck:!1,searchTerm:""},n}return a.__extends(n,t),n.prototype.onScroll=function(e){this.setState({menuIsStuck:e<=0})},n.prototype.onUpdateSearchTerm=function(e){this.setState({searchTerm:e})},n.prototype.render=function(){var t=this;console.info(this.allComponents);var n={components:this.state.searchTerm?this.allComponents.filter(function(e){return e.title.includes(t.state.searchTerm)}):this.allComponents,onScroll:this.onScroll.bind(this),onUpdateSearchTerm:this.onUpdateSearchTerm.bind(this)};return e.createElement(i.ReactComponents,a.__assign({},n,this.state))},n}(e.Component);t.ReactComponentsContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1792),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=(t.children,t.examples),s=a.__rest(t,["children","examples"]);return e.createElement(i.default,a.__assign({},s),n)},n}(e.Component);t.ReactDocItem=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(412),s=n(7),o=n(1797),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(s.ContentBox,{containerClassName:"admin-submissions",title:"Recent / Pending Submissions ("+(this.props.submissions&&this.props.submissions.length||0)+" in last 5 minutes, "+(this.props.submissions&&this.props.submissions.filter(function(e){return"pending"==e.submissionStatus}).length||0)+" pending)"},e.createElement(o.CSSTransitionGroup,{transitionName:"admin-submissions__scoring-banner-transition",transitionEnterTimeout:500,transitionLeaveTimeout:500},this.props.submissions&&this.props.submissions.map(function(t){return e.createElement("div",{className:"admin-submissions__scoring-banner",key:t.id},e.createElement(i.CompetitionScoringBannerContainer,a.__assign({},t,{forListing:!0})))})))},n}(e.Component);t.AdminSubmissions=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(898),o=function(t){function n(e){var n=t.call(this,e)||this;return n.poll=function(){a.Admin.submissionsPoll({}).then(function(e){return n.setState({submissions:e})})},n.pollingTimer=setInterval(n.poll,500),n}return i.__extends(n,t),n.prototype.render=function(){return e.createElement(s.AdminSubmissions,i.__assign({},this.state))},n}(e.Component);t.AdminSubmissionsContainer=o}).call(t,n(0),n(34))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(906),o=n(902),r=n(901),l=n(907),c=n(905),p=n(904),u=n(903),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props.activeAdminTab;return e.createElement("div",{className:"competition-admin"},e.createElement(i.ContentBox,{title:"Competition Setup"},e.createElement("div",{className:"competition-admin__nav-content-container"},e.createElement(s.CompetitionAdminNav,a.__assign({},this.props)),"basics"==t?e.createElement(o.CompetitionAdminBasics,a.__assign({},this.props)):"attributes"==t?e.createElement(r.CompetitionAdminAttributes,a.__assign({},this.props)):"scoring"==t?e.createElement(l.CompetitionAdminScoring,a.__assign({},this.props)):"manage-hosts"==t?e.createElement(c.CompetitionAdminHosts,a.__assign({},this.props)):"email-participants"==t?e.createElement(p.CompetitionAdminContact,a.__assign({},this.props)):"clone"==t?e.createElement(u.CompetitionAdminClone,a.__assign({},this.props)):null)))},n}(e.Component);t.CompetitionAdmin=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"competition-settings__section"},e.createElement(i.AutoFormContainer,{id:this.props.competitionId,typeName:"Competition"}))},n}(e.Component);t.CompetitionAdminAttributes=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(280),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.competitionHasEnded,a=t.competitionHasLaunched,s=t.onToggleDeadlineConfirmationModal,o=t.onLaunchCompetition,r=t.onSetDeadlineToNow,l=t.showDeadlineConfirmationModal;return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Status"),a?a&&!n?e.createElement("div",{className:"competition-admin__attribute-status"},e.createElement("span",{className:"competition-admin__attribute-status-header--launched"},"Competition is launched and in progress"),e.createElement("a",{onClick:s,className:"competition__text-link"},e.createElement("span",{className:"fa fa-calendar"})," Set deadline to now")):n?e.createElement("div",{className:"competition-admin__attribute-status"},e.createElement("span",{className:"competition-admin__attribute-status-header--closed"},"Competition deadline has passed")):null:e.createElement("div",{className:"competition-admin__attribute-status"},e.createElement("span",{className:"competition-admin__attribute-status-header--unlaunched"},"Competition is not launched"),e.createElement("a",{onClick:o,className:"competition__text-link"},e.createElement("span",{className:"fa fa-rocket"})," Launch competition by setting enabled time to now and ensure forum exists"))),e.createElement(i.Confirm,{cancelText:"Cancel",confirmText:"I'm Sure",isShown:l,onCancel:s,onConfirm:r,title:"Are you sure you want to set the deadline to now? This reveals the private leaderboard."}))},n}(e.Component);t.CompetitionAdminBasics=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(282),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.onCloneCompetition,a=t.onChangeCloneInput;return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-admin-clone"},"Clone from..."),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(i.InputGroupInline,{buttonClassName:"competition-setting__field-action-button-inline",inputClassName:"competition-setting__field-control-input",inputId:"competition-admin-clone",onInputChange:a,onSubmit:n,placeholder:"Competition ID",buttonChildren:e.createElement("span",null,"Clone Competition")}),e.createElement("p",{className:"competition-admin__clone-info"},"You will clone the data and pages FROM the above competition INTO the current competition. The current competition will be overwritten.")))))},n}(e.Component);t.CompetitionAdminClone=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),s=n(6),o=n(100),r=n(63),l=n(409),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.emailLeaderboardFilter,a=t.emailFrom,c=t.emailSubject,p=t.emailBody,u=t.onChangeEmailLeaderboardFilter,d=t.onChangeEmailFrom,m=t.onChangeEmailSubject,h=t.onChangeEmailBody,g=t.onEmailParticipants,f=[{label:"Submitted",value:l.CompetitionAdminContactLeaderboardFilters[l.CompetitionAdminContactLeaderboardFilters.Submitted]},{label:"Accepted Rules",value:l.CompetitionAdminContactLeaderboardFilters[l.CompetitionAdminContactLeaderboardFilters.AcceptedRules]},{label:"Accepted Rules, Not Submitted",value:l.CompetitionAdminContactLeaderboardFilters[l.CompetitionAdminContactLeaderboardFilters.AcceptedRulesUnsubmitted]}];return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-leaderboard-filter"},"Leaderboard Filter"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement(r.SelectBox,{className:"competition-setting__field-dropdown",onChange:u,options:f,searchable:!1,value:n}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-contact-from"},"From"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("input",{className:"competition-setting__field-control-input",name:"competition-contact-from",onChange:d,value:a}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-contact-subject"},"Subject"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("input",{className:"competition-setting__field-control-input",name:"competition-contact-subject",onChange:m,value:c}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Message"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-admin__contact-message-wrapper"},e.createElement("div",{className:"competition-admin__contact-message"},e.createElement(o.MarkdownEditor,{alwaysShowToolbar:!0,onChangeCallback:h,minRows:5,shouldSanitizeHtml:!0,defaultValue:p})),e.createElement("div",{className:"competition-admin__contact-actions"},e.createElement(i.ButtonAutoWidth,{classNames:"competition-admin__contact-action",onClick:function(){return g(!0)},text:"Preview Email"}),e.createElement(i.ButtonAutoWidth,{classNames:"competition-admin__contact-action",onClick:function(){return g()},text:"Send Email"}),s.Current.userEmail?e.createElement("a",{className:"competition-admin__contact-test-link",onClick:function(){return g(void 0,!0)}},"Send sample email to ",s.Current.userEmail):null)))))},n}(e.Component);t.CompetitionAdminContact=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(69),s=n(38),o=n(282),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.onAddNewHost,r=t.onRemoveHost,l=t.onChangeHostQuery,c=t.onGetHostsList,p=t.hostsList,u=t.isLoadingHostsList,d=t.isLoadingSearchResults,m=t.onSearchForUsers,h=t.userSearchResults;return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Hosts",e.createElement("a",{className:"competition-admin__hosts-refresh",onClick:c},e.createElement("span",{className:"competition-admin__hosts-refresh-icon"},e.createElement("span",{className:"fa fa-refresh"+(u?" fa-spin":"")})))),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",null,p.length>0?p.map(function(t,n){return e.createElement(s.BlockLink,{className:"competition-admin__host",href:t.userUrl,key:"competition-host-"+n},e.createElement(i.Avatar,a.__assign({},t,{width:55})),e.createElement("a",{className:"competition-admin__host-name",href:t.userUrl},t.displayName),e.createElement("a",{className:"competition-admin__host-remove",onClick:function(){return r(t.id)}},e.createElement("span",{className:"fa fa-times"})," Remove"))}):e.createElement("div",{className:"competition-admin__host-empty"},"There doesn't seem to be anything here..."))))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-admin-search-users"},"Search Users"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement(o.InputGroupInline,{buttonClassName:"competition-setting__field-action-button-inline",clearAfterSubmit:!0,inputClassName:"competition-setting__field-control-input",inputId:"competition-admin-search-users",onInputChange:l,onSubmit:m,placeholder:"Display Name, User Name, or Email Address",buttonChildren:e.createElement("span",null,"Search Users"),wrapperClassName:"competition-admin__user-search-wrapper"}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Search Results"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",null,d?e.createElement("div",{className:"competition-admin__hosts-loading"},e.createElement("span",{className:"competition-admin__hosts-refresh-icon"},e.createElement("span",{className:"fa fa-circle-o-notch fa-spin"})),"Fetching Results. Hang tight."):h.length>0?h.map(function(t,a){return e.createElement(s.BlockLink,{className:"competition-admin__host",href:t.profileUrl,key:"competition-host-result-"+a},e.createElement(i.Avatar,{thumbnailUrl:t.thumbnailUrl,displayName:t.displayName,userUrl:t.profileUrl,id:t.id,width:55}),e.createElement("a",{className:"competition-admin__host-name",href:t.profileUrl},t.displayName),e.createElement("a",{className:"competition-admin__host-add",onClick:function(){return n(t.id)}},e.createElement("span",{className:"fa fa-plus"})," Add"))}):e.createElement("div",{className:"competition-admin__host-empty"},"..."))))))},n}(e.Component);t.CompetitionAdminHosts=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(169),s=n(50),o=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.adminPageNames=["attributes","basics","scoring","manage-hosts","email-participants","clone"],e}return a.__extends(n,t),n.prototype.scrollToTop=function(){if(window.innerWidth>=768){var e=this.navRef.getBoundingClientRect().top+window.scrollY-44;e<window.scrollY&&window.scrollTo(window.scrollX,e)}},n.prototype.render=function(){for(var t=this,n=[],a=0,o=this.adminPageNames;a<o.length;a++){var r=o[a],l="/c/"+this.props.competitionSlug+"/admin#"+r;n.push(s.buildLink(r,i.deslugify(r),l))}return e.createElement("div",{ref:function(e){return t.navRef=e},className:"competition-admin__nav-wrapper"},e.createElement("nav",{className:"competition-admin__nav"},n.map(function(n,a){return e.createElement("a",{className:t.props.activeAdminTab==n.title?"competition-admin__nav-item--selected":"competition-admin__nav-item",href:n.href,key:"competition-admin-nav-"+a,onClick:function(e){return t.props.onAdminTabChanged(n.title,e)},title:n.title},n.text)})))},n}(e.Component);t.CompetitionAdminNav=o;!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}a.__extends(n,t),n.prototype.scrollToTop=function(){if(window.innerWidth>=768){var e=this.navRef.getBoundingClientRect().top+window.scrollY-44;e<window.scrollY&&window.scrollTo(window.scrollX,e)}},n.prototype.render=function(){var t=this,n=this.props.activeOverviewTab.toLowerCase();return e.createElement("div",{ref:function(e){return t.navRef=e},className:"competition-overview__nav-wrapper"},e.createElement("nav",{className:"competition-overview__nav"},this.props.localPages.map(function(a,i){var o=a.name.replace(/-+/g," "),r="/c/"+t.props.competitionSlug+("overview"!=a.name?"#"+a.name:""),l=s.buildLink(a.name,o,r);return e.createElement("a",{className:(n==l.tab.toLowerCase()?"competition-overview__nav-item competition-overview__nav-item--selected":"competition-overview__nav-item")+(a.isPublished?"":" competition-overview__nav-item--unpublished"),href:l.href,key:"overview-nav-"+i,onClick:function(e){t.scrollToTop(),t.props.onOverviewTabChanged(l.tab,e)},title:l.title},l.text)}),this.props.isEditingOverview?e.createElement("a",{className:"competition-overview__nav-add",onClick:function(){return t.props.onAddOverviewPage()}},e.createElement("span",{className:"fa fa-plus"})," Add Page"):null))}}(e.Component)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),s=n(111),o=n(393),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.onRescoreErrored,a=t.onRescorePending,r=t.onRescoreCompleted,l=t.onRescoreCompletedWithoutDetails,c=t.onRescoreAll,p=t.onRescoreManual,u=t.onRescoreManualTextChange,d=t.onRecalculateLeaderboard,m=t.onChangeLeftTeamId,h=t.onChangeRightTeamId,g=t.mergeLeftTeamId,f=t.mergeRightTeamId,v=t.onMergeTeams,_=t.submissionsToRescore,b=t.shouldForceMerge,E=t.onChangeForceMerge;return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Bulk Rescore"),e.createElement("div",{className:"competition-admin__attribute-status"},e.createElement("a",{onClick:function(){return n()},className:"competition__text-link"},"Errored Submissions ",e.createElement("span",{className:"fa fa-angle-double-right"})),e.createElement("a",{onClick:function(){return a()},className:"competition__text-link"},"Pending Submissions ",e.createElement("span",{className:"fa fa-angle-double-right"})),e.createElement("a",{onClick:function(){return r()},className:"competition__text-link"},"All Completed Submissions ",e.createElement("span",{className:"fa fa-angle-double-right"})),e.createElement("a",{onClick:function(){return l()},className:"competition__text-link"},"Completed Submissions Without Additional Details ",e.createElement("span",{className:"fa fa-angle-double-right"})),e.createElement("a",{onClick:function(){return c()},className:"competition__text-link"},"All Submissions ",e.createElement("span",{className:"fa fa-angle-double-right"})))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-manual-rescore"},"Manual Rescore"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(o.default,{defaultValue:_.join(","),onChange:function(e){return u(e)},className:"competition-setting__field-control-input",placeholder:"Enter comma-separated submissions to rescore"}),e.createElement("div",{className:"competition-setting__field-action-button"},e.createElement(i.ButtonAutoWidth,{onClick:function(){return p()},text:"Rescore"}))))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Recalculate"),e.createElement("div",{className:"competition-admin__attribute-status"},e.createElement("a",{onClick:d,className:"competition__text-link"},"Recalculate Leaderboard ",e.createElement("span",{className:"fa fa-angle-double-right"})))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-merge-team-1"},"Merge Teams"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-checkbox"},e.createElement(s.Checkbox,{text:"Force merge",isChecked:b,isEditable:!0,onChange:E,textIsClickable:!0})),e.createElement("div",{className:"competition-admin__teams"},e.createElement("div",{className:"competition-admin__edit-team"},e.createElement("input",{className:"competition-setting__field-control-input",onChange:m,placeholder:"Team ID",value:g})),e.createElement("p",{className:"competition-admin__merge-team-amp"},"&"),e.createElement("div",{className:"competition-admin__edit-team"},e.createElement("input",{className:"competition-setting__field-control-input",onChange:h,placeholder:"Team ID",value:f})),e.createElement("div",{className:"competition-admin__merge-team-button"},e.createElement(i.ButtonAutoWidth,{onClick:function(){return v()},text:"Merge"})))))))},n}(e.Component);t.CompetitionAdminScoring=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(409),s=n(916),o=n(930),r=n(920),l=n(913),c=n(932),p=n(274),u=n(915),d=n(925),m=n(927),h=n(935),g=n(937),f=n(939),v=n(910),_=n(276),b=n(412),E=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getPageContainerComponent=function(){var t=e.props,n=t.activePane,a=t.canEdit,s=t.isCompetitionHost;if(t.isCreatingCompetition)return v.CompetitionCreatorContainer;switch(n){case"overview":return o.CompetitionOverviewContainer;case"host":if(a||s)return r.CompetitionHostContainer;case"data":return l.CompetitionDataContainer;case"rules":return c.CompetitionRulesContainer;case"discussion":return u.CompetitionDiscussion;case"kernels":return d.CompetitionKernels;case"team":return f.CompetitionTeamContainer;case"submissions":return g.CompetitionSubmissionsContainer;case"submit":return h.CompetitionSubmissionContainer;case"admin":if(a)return i.CompetitionAdminContainer;default:return null}},e.onNewKernelClicked=function(){e.newKernelModalRef.show()},e}return a.__extends(n,t),n.prototype.refreshPublicLeaderboard=function(){this.leaderboardRef.triggerPublicLeaderboardReload()},n.prototype.render=function(){var t=this,n=this.props,E=n.activePane,y=n.canEdit,C=n.isCompetitionHost,w=n.isCreatingCompetition;this.getPageContainerComponent();return e.createElement("div",{className:"competition"},e.createElement(s.CompetitionHeader,a.__assign({},this.props,{onNewKernelClicked:this.onNewKernelClicked.bind(this)})),!this.props.mostRecentSubmissionStatus||"leaderboard"!=E&&"submissions"!=E&&"submit"!=E?null:e.createElement(b.CompetitionScoringBannerContainer,a.__assign({key:this.props.mostRecentSubmissionStatus.id},this.props.mostRecentSubmissionStatus,{jumpToLeaderboardPosition:this.props.jumpToLeaderboardPosition})),w&&e.createElement(v.CompetitionCreatorContainer,a.__assign({},this.props)),"overview"==E&&!w&&e.createElement(o.CompetitionOverviewContainer,a.__assign({},this.props)),"data"==E&&!w&&e.createElement(l.CompetitionDataContainer,a.__assign({},this.props)),"host"===E&&(y||C)&&!w&&e.createElement(r.CompetitionHostContainer,a.__assign({},this.props)),"rules"==E&&!w&&e.createElement(c.CompetitionRulesContainer,a.__assign({},this.props)),"discussion"==E&&!w&&e.createElement(u.CompetitionDiscussion,a.__assign({},this.props)),"kernels"==E&&!w&&e.createElement(d.CompetitionKernels,a.__assign({},this.props)),"team"==E&&!w&&e.createElement(f.CompetitionTeamContainer,a.__assign({},this.props)),"submissions"==E&&!w&&e.createElement(g.CompetitionSubmissionsContainer,a.__assign({},this.props)),"admin"==E&&y&&!w&&e.createElement(i.CompetitionAdminContainer,a.__assign({},this.props)),"submit"==E&&!w&&e.createElement(h.CompetitionSubmissionContainer,a.__assign({},this.props)),!w&&e.createElement(m.CompetitionLeaderboardContainer,a.__assign({},this.props,{ref:function(e){t.leaderboardRef=e,t.props.setLeaderboardRef(e)}})),!w&&e.createElement(p.CompetitionRulesModal,{show:this.props.showRulesModal&&!this.props.hasAcceptedRules,onClose:function(){return t.props.onCompetitionStateChanged("showRulesModal",!1)},onAcceptCompetitionRules:function(){return t.props.onAcceptCompetitionRules()},competitions:[{competitionId:this.props.competitionId,title:this.props.competitionTitle,rulesUrl:this.props.competitionUrl+"/rules"}]}),!w&&e.createElement(_.NewKernelModal,{ref:function(e){return t.newKernelModalRef=e},competitionId:this.props.competitionId}))},n}(e.Component);t.Competition=E}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),s=n(7),o=n(99),r=n(50),l=n(63),c=n(6),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.newCompetitionDescription,a=t.newCompetitionSlug,p=t.newCompetitionTitle,u=t.isSavingNewCompetition,d=t.newCompetitionCategory,m=t.onCompetitionDescriptionChanged,h=t.onCompetitionTitleChanged,g=t.onCompetitionSlugChanged,f=t.onSaveNewCompetition,v=t.onSelectCategoryType,_=t.validationPageMessages,b=this.props.hostSegments;return e.createElement("div",{className:"competition-creator"},e.createElement(r.PageHeader,null,e.createElement(r.PageHeaderTopRowSafe,null,e.createElement("div",{className:"competition-creator__header"},e.createElement("div",{className:"competition-creator__header-top"},e.createElement(o.InlineTextEditor,{className:"competition-creator__header-title-input",onChangeCallback:function(e){return h(e)},placeholder:"Enter a descriptive title",value:p}),e.createElement(o.InlineTextEditor,{className:"competition-creator__header-subtitle-input",onChangeCallback:function(e){return m(e)},placeholder:"Enter a description explaining what competitors do. Keep it short!",value:n})))),e.createElement(r.PageHeaderBottomRow,{pageMessages:_})),e.createElement(s.ContentBox,{title:"Competition Setup"},e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Competition URL"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-control-inline"},e.createElement("span",{className:"competition-setting__field-inline-label"},"http://www.kaggle.com/c/"),e.createElement(o.InlineTextEditor,{className:"competition-setting__field-control-input",rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(e){return g(e)},placeholder:a,value:a})))),c.Current.isAdmin&&e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Category"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(l.SelectBox,{className:"competition-setting__field-dropdown",onChange:v,options:b,searchable:!1,value:d}))))),e.createElement("div",{className:"competition-settings__save-button-wrapper"},e.createElement("div",{className:"competition-settings__save-button"},e.createElement(i.ButtonAutoWidth,{isDisabled:_.length>0,onClick:f,text:"Create Competition"}),u&&e.createElement("div",{className:"competition-settings__save-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))))},n}(e.Component);t.CompetitionCreator=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(909),o=n(24),r=n(169),l=n(6),c=function(t){function n(e){var n=t.call(this,e)||this;return n.validationRules=[{isValid:function(){return n.state.newCompetitionTitle&&n.state.newCompetitionTitle.trim().length>0},id:"competition-no-title",message:function(){return"Please enter a title for your competition."}},{isValid:function(){return!n.state.newCompetitionTitle||0==n.state.newCompetitionTitle.trim().length||n.state.newCompetitionTitle.trim().length>6&&n.state.newCompetitionTitle.trim().length<50},id:"competition-title-length",message:function(){return"The title must be between 6 and 50 characters in length."},alwaysValidate:!0},{isValid:function(){return!(!n.state.newCompetitionDescription||!n.state.newCompetitionDescription.trim())},id:"competition-no-description",message:function(){return"Please enter a short description for your competition."}},{isValid:function(){return!(n.state.newCompetitionDescription&&n.state.newCompetitionDescription.trim().length>125)},id:"competition-description-length",message:function(){return"Your description must be fewer than 125 characters."}},{isValid:function(){return!(!n.state.newCompetitionSlug||!n.state.newCompetitionSlug.trim())},id:"competition-no-slug",message:function(){return"Please enter a URL for your competition."}},{isValid:function(){return!(n.state.newCompetitionSlug&&(n.state.newCompetitionSlug.trim().length<3||n.state.newCompetitionSlug.trim().length>50))},id:"competition-slug-length",message:function(){return"The URL must be between 3 and 50 characters."}}],n.onCompetitionTitleChanged=function(e){var t={newCompetitionTitle:e};n.state.useTitleForSlug&&(t.newCompetitionSlug=r.slugify(e)),n.setState(t,function(){return n.clearFixedValidations()})},n.onCompetitionSlugChanged=function(e){n.setState({newCompetitionSlug:e,useTitleForSlug:!1},function(){return n.clearFixedValidations()})},n.onCompetitionDescriptionChanged=function(e){n.setState({newCompetitionDescription:e},function(){return n.clearFixedValidations()})},n.onSelectCategoryType=function(e){n.setState({newCompetitionCategory:e})},n.onSaveNewCompetition=function(){n.setState({isSavingNewCompetition:!0,validationPageMessages:[]},function(){var e=n.getValidationPageMessages();if(e.filter(function(e){return e.type="error"}).length>0)return void n.setState({isSavingNewCompetition:!1,validationPageMessages:e});a.Competitions.createCompetition({},{title:n.state.newCompetitionTitle,slug:n.state.newCompetitionSlug,briefDescription:n.state.newCompetitionDescription,hostSegment:n.state.newCompetitionCategory,competitionType:"prediction",useKernels:!1}).then(function(e){var t=e;n.setState({isSavingNewCompetition:!1},function(){t.errors?(o.PageMessages.clear(),t.errors.map(function(e){o.PageMessages.error(e)})):window.location.href=t.competitionUrl})})})},n.state={newCompetitionCategory:l.Current.isAdmin?"featured":"inClass",newCompetitionDescription:"",newCompetitionSlug:"",newCompetitionTitle:"",isSavingNewCompetition:!1,useTitleForSlug:!0,validationPageMessages:[]},n.helperProps={onCompetitionDescriptionChanged:n.onCompetitionDescriptionChanged,onCompetitionTitleChanged:n.onCompetitionTitleChanged,onCompetitionSlugChanged:n.onCompetitionSlugChanged,onSaveNewCompetition:n.onSaveNewCompetition,onSelectCategoryType:n.onSelectCategoryType},n}return i.__extends(n,t),n.prototype.getValidationPageMessages=function(e){var t=this;return this.validationRules.filter(function(n){return!n.isValid()&&(!e||n.alwaysValidate||t.state.validationPageMessages.filter(function(e){return e.id==n.id}).length>0)}).map(function(e){return{type:e.isWarning?"warning":"error",id:e.id,message:e.message?e.message():null,htmlMessage:e.htmlMessage?e.htmlMessage():null}})},n.prototype.clearFixedValidations=function(e){this.setState({validationPageMessages:this.getValidationPageMessages(!0)},e)},n.prototype.render=function(){return e.createElement(s.CompetitionCreator,i.__assign({},this.props,this.helperProps,this.state))},n}(e.Component);t.CompetitionCreatorContainer=c}).call(t,n(0),n(34))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(5),o=n(5),r=n(5),l=n(5),c=n(5),p=n(655),u=n(8),d=n(29),m=function(e){return"competition-data__evaluation-item"+(null===e?"":"--"+e)},h=function(e,t){return"init"===e||"warn"===e||t.pending||t.processing},g=function(t){function n(e){var n=t.call(this,e)||this;return n.state={isEditing:!1},n}return i.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.competitionId,s=this.state.isEditing;return e.createElement(a.ReactAdmin.GetEvaluationSummary,{route:{id:n}},function(a,o){return e.createElement(P,i.__assign({},a,{isEditing:s,onSave:function(){t.setState({isEditing:!1})},onCancel:function(){return t.setState({isEditing:!1})},onEdit:function(){return t.setState({isEditing:!0})},refetch:function(){return o.update()},competitionId:n}))})},n}(e.Component);t.default=g;var f=function(t){return e.createElement("div",{className:"competition-data__evaluation--indicator"},"init"!==t.status&&"disabled"!==t.status&&e.createElement("a",{onClick:function(e){t.onChange(),e.preventDefault(),e.stopPropagation()}},"Change metric"),"warn"===t.status&&e.createElement("span",null,t.warnText))},v=function(e){var t=e.type,n=e.columnMappings,a=e.columnDefinitions,i=e.warnings;return d(n,"columnMappings must exist on column mapping."),d(a,"columnDefinitions must exist on column mapping."),{type:t,columnMappings:n,columnDefinitions:a,warnings:i}},_=(function(){function e(){}}(),T=["\n    display: inline-flex;\n    flex-flow: column nowrap;\n    width: 36%;\n"],T.raw=["\n    display: inline-flex;\n    flex-flow: column nowrap;\n    width: 36%;\n"],p.default.div(T)),b=(k=["\n    display: inline-flex;\n    flex-flow: column nowrap;\n    & > *:first-child {\n        border-top-left-radius: 3px;\n        border-top-right-radius: 3px;\n    }\n    & > *:last-child {\n        border-bottom-left-radius: 3px;\n        border-bottom-right-radius: 3px;\n    }\n\n    & > input, & > select {\n        padding: 4px 6px;\n        display: inline-flex;\n        flex: 1 1 auto;\n        border: 1px solid rgb(169, 169, 169);\n    }\n\n    & > select {\n        font-size: 0.8rem;\n    }\n\n    & > input {\n        font-size: 0.65rem;\n        line-height: 1rem;\n        border-top: 0;\n    }\n"],k.raw=["\n    display: inline-flex;\n    flex-flow: column nowrap;\n    & > *:first-child {\n        border-top-left-radius: 3px;\n        border-top-right-radius: 3px;\n    }\n    & > *:last-child {\n        border-bottom-left-radius: 3px;\n        border-bottom-right-radius: 3px;\n    }\n\n    & > input, & > select {\n        padding: 4px 6px;\n        display: inline-flex;\n        flex: 1 1 auto;\n        border: 1px solid rgb(169, 169, 169);\n    }\n\n    & > select {\n        font-size: 0.8rem;\n    }\n\n    & > input {\n        font-size: 0.65rem;\n        line-height: 1rem;\n        border-top: 0;\n    }\n"],p.default.div(k)),E=(M=["\n    position: relative;\n    z-index: 1;\n    align-self: flex-end;\n    right: 15px;\n    top: -19px;\n    width: 0;\n    height: 0;\n"],M.raw=["\n    position: relative;\n    z-index: 1;\n    align-self: flex-end;\n    right: 15px;\n    top: -19px;\n    width: 0;\n    height: 0;\n"],p.default.i(M)),y=(x=["\n    color: green;\n    &:before {\n      font-family: FontAwesome;\n      position: absolute;\n      left: 0;\n      top: 0;\n      content: '\\f058';\n    }\n"],x.raw=["\n    color: green;\n    &:before {\n      font-family: FontAwesome;\n      position: absolute;\n      left: 0;\n      top: 0;\n      content: '\\\\f058';\n    }\n"],E.extend(x)),C=(I=["\n    color: red;\n    &:before {\n      font-family: FontAwesome;\n      position: absolute;\n      left: 0;\n      top: 0;\n      content: '\\f057';\n    }\n"],I.raw=["\n    color: red;\n    &:before {\n      font-family: FontAwesome;\n      position: absolute;\n      left: 0;\n      top: 0;\n      content: '\\\\f057';\n    }\n"],E.extend(I)),w=function(t){function n(e){var a=t.call(this,e)||this;return a.updateState=function(e){a.state={custom:e.defaultValidators.includes(e.defaultValidator),validator:e.defaultValidator,validators:e.defaultValidators}},a.handleSelectChange=function(e){e.currentTarget.value===n.CUSTOM_VALUE?a.setState({custom:!0}):a.setState({validator:e.currentTarget.value,custom:!1})},a.handleInputChange=function(e){a.setState({validator:e.currentTarget.value})},a.handleUseCustom=function(e){a.setState({custom:!0})},a.handleRevertCustom=function(e){a.setState({custom:!1})},a.updateState(e),a}return i.__extends(n,t),n.prototype.componentWillReceiveProps=function(e){this.props.defaultValidators.length===e.defaultValidators.length&&this.props.defaultValidator===e.defaultValidator||this.updateState(e)},n.prototype.componentDidUpdate=function(e,t){this.state.validator!==t.validator&&this.props.onChange(this.state.validator)},n.prototype.render=function(){var t=this.state,a=t.custom,i=t.validator,s=t.validators;s.includes(i);return e.createElement(_,null,e.createElement(b,null,e.createElement("select",{value:a?n.CUSTOM_VALUE:i,onChange:this.handleSelectChange},e.createElement("option",{value:""},"(No Validation)"),e.createElement("option",{value:n.CUSTOM_VALUE},"(Custom)"),s.map(function(t,n){return e.createElement("option",{key:n,value:t},t)})),a&&e.createElement("input",{placeholder:"<Name> = <Validation Set>",value:i,onChange:this.handleInputChange})),a&&(n.validatorConstraint.test(i)?e.createElement(y,null):e.createElement(C,null)))},n}(e.PureComponent);w.CUSTOM_VALUE="custom",w.validatorConstraint=/([a-z0-9 ]+) = (.+)/i;var S=(D=["\n    & > div {\n        font-size: 0.7rem;\n        display: flex;\n        flex-flow: column nowrap;\n        flex: 1 0 auto;\n        justify-content: flex-end;\n        align-items: flex-end;\n\n        & select {\n            font-size: 0.7rem;\n        }\n        /* Header row */\n        & > div:first-child {\n            font-weight: bold;\n        }\n\n        & > div {\n            display: flex;\n            flex-flow: row nowrap;\n            flex: 1 1 auto;\n            align-items: center;\n            min-height: 2.15rem;\n            justify-content: space-between;\n            width: 100%;\n\n            & > span:nth-of-type(1) {\n                flex: 1 0 auto;\n                width: 30%;\n            }\n\n            & > span:nth-of-type(2) {\n                flex: 2 0 auto;\n                width: 30%;\n                margin-left:2%;\n                margin-right:2%;\n            }\n\n            & > span:nth-of-type(3) {\n                flex: 1 1 auto;\n                width: 36%;\n            }\n        }\n    }\n\n\n    & span > select, & span > input {\n        border-radius: 3px;\n        padding: 4px 6px;\n        display: inline-flex;\n        flex: 1 1 auto;\n    }\n\n    & span > select {\n        font-size: 0.65rem !important;\n        line-height: 1rem;\n        width: 100%;\n    }\n\n    & span > input {\n        font-size: 0.8rem;\n        padding: 3px 6px;\n        width: calc(100% - 14px);\n    }\n"],D.raw=["\n    & > div {\n        font-size: 0.7rem;\n        display: flex;\n        flex-flow: column nowrap;\n        flex: 1 0 auto;\n        justify-content: flex-end;\n        align-items: flex-end;\n\n        & select {\n            font-size: 0.7rem;\n        }\n        /* Header row */\n        & > div:first-child {\n            font-weight: bold;\n        }\n\n        & > div {\n            display: flex;\n            flex-flow: row nowrap;\n            flex: 1 1 auto;\n            align-items: center;\n            min-height: 2.15rem;\n            justify-content: space-between;\n            width: 100%;\n\n            & > span:nth-of-type(1) {\n                flex: 1 0 auto;\n                width: 30%;\n            }\n\n            & > span:nth-of-type(2) {\n                flex: 2 0 auto;\n                width: 30%;\n                margin-left:2%;\n                margin-right:2%;\n            }\n\n            & > span:nth-of-type(3) {\n                flex: 1 1 auto;\n                width: 36%;\n            }\n        }\n    }\n\n\n    & span > select, & span > input {\n        border-radius: 3px;\n        padding: 4px 6px;\n        display: inline-flex;\n        flex: 1 1 auto;\n    }\n\n    & span > select {\n        font-size: 0.65rem !important;\n        line-height: 1rem;\n        width: 100%;\n    }\n\n    & span > input {\n        font-size: 0.8rem;\n        padding: 3px 6px;\n        width: calc(100% - 14px);\n    }\n"],p.default.section(D)),N=function(t){function n(e){var a=t.call(this,e)||this;return a.orderedKeys=function(){var e=a.props.columnMappings,t=Object.keys(e);return t.includes(n.usageIndicatorColumnName)?[n.usageIndicatorColumnName].concat(t.filter(function(e){return e!==n.usageIndicatorColumnName})):t},a.getMappings=function(){var e=a.props.columnMappings;return{columnMappings:a.orderedKeys().filter(function(e){return e!==n.usageIndicatorColumnName}).reduce(function(t,n){var s=a.state[n],o="string"==typeof s?s:e[n].name;return d(null===o||"string"==typeof o,'received "'+typeof o+'" type but expected "string" for mapping '+n+" [value === "+JSON.stringify(o)+"]"),i.__assign({},t,(r={},r[n]=o,r));var r},{}),validatorMappings:a.state.validatorMappings}},a.getDisplayType=function(){return"solution"===a.props.type?"Solution":"submission"===a.props.type?"Submission":"Unknown"},a.state={columnMappings:{},validatorMappings:{}},a}return i.__extends(n,t),n.prototype.render=function(){var t=this,a=this.props,s=a.type,o=a.columnMappings,r=a.columnDefinitions,l=a.onProcess,p=a.processContent,u=(a.children,a.task),d=a.onDismiss,m=a.onCancel,h=this.getDisplayType(),g=this.getMappings(),f=Object.values(o).some(function(e){return!(!e.validationSet||!e.validationSet.type)}),v=this.props.predefinedValidationSets.map(function(e){return e.name+" = "+e.setValue});return e.createElement(S,null,e.createElement("div",null,"Map ",s," Columns"),!(u.processing||u.pending)&&e.createElement("div",null,e.createElement("div",null,e.createElement("span",null,h," Column"),e.createElement("span",null,"Expected Column"),f&&e.createElement("span",null,"Validator")),this.orderedKeys().map(function(a,s){var l=o[a];return e.createElement("div",{key:s},e.createElement("span",null,a),e.createElement("span",null,a===n.usageIndicatorColumnName?e.createElement("em",null,"Usage indicator column"):e.createElement("select",{name:a,value:g[a],onChange:function(e){return t.setState({columnMappings:i.__assign({},t.state.columnMappings,(n={},n[a]=e.currentTarget.value,n))});var n}},e.createElement("option",{value:""},"(not mapped)"),r.map(function(t,n){return e.createElement("option",{key:n,value:t.name},t.name," (",t.parsingDataType,")")}))),f&&e.createElement(w,{defaultValidator:l.validationSet.name?l.validationSet.name+" = "+l.validationSet.setValue:"",defaultValidators:v,onChange:function(e){return t.setState({validatorMappings:i.__assign({},t.state.validatorMappings,(n={},n[a]=e,n))});var n}}))}),e.createElement("button",{onClick:function(){return l(t.getMappings())}},p)),u&&(u.pending||u.processing)&&e.createElement(c.Progress,{task:u,onDismiss:d,onCancel:m,onProgress:function(e){},onResolve:function(e){console.info("column mappings processing PASSED")},onReject:function(e){console.error("column mappings processing FAILED: "+e)}}))},n}(e.Component);N.usageIndicatorColumnName="Usage";var T,k,M,x,I,D,P=function(t){function n(e){var n=t.call(this,e)||this;return n.getEvaluationState=function(){var e=n.props,t=(e.competitionId,e.isEditing,e.onSave,e.onEdit,e.onCancel,i.__rest(e,["competitionId","isEditing","onSave","onEdit","onCancel"])),a=n.getEvaluationStatusFromProps(),s={generic:null,solution:c.progressUtils.getAndTrimLocalTask(i.__assign({},n.entityContext,{type:"solution"})),solutionMapping:c.progressUtils.getAndTrimLocalTask(i.__assign({},n.entityContext,{type:"solutionMapping"})),submission:c.progressUtils.getAndTrimLocalTask(i.__assign({},n.entityContext,{type:"submission"})),submissionMapping:c.progressUtils.getAndTrimLocalTask(i.__assign({},n.entityContext,{type:"submissionMapping"}))};return i.__assign({},t,a,{tasks:s,mappings:{solution:{}}})},n.getEvaluationStatusFromProps=function(){var e=n.props,t=e.evaluationAlgorithm,a=e.totalSolutionRows,i=e.solutionColumnMapping,s=e.submissionColumnMapping;return{init:"ok",metric:t?"ok":"init",parameter:t.parameters?"ok":"init",solution:a?"ok":"init",solutionMapping:i?"ok":"init",submission:s?"ok":"init",submissionMapping:s?"ok":"init"}},n.getEvaluationStatusFromState=function(){var e=n.state;return{init:e.init,metric:e.metric,parameter:e.parameter,solution:e.solution,solutionMapping:e.solutionMapping,submission:e.submission,submissionMapping:e.submissionMapping}},n.onToggle=function(){var e=n.props,t=e.isEditing,a=e.onSave,i=e.onEdit;t?a(n.state):i()},n.getEvaluationAlgorithmLabel=function(){var e=n.state.evaluationAlgorithm;return e.description||e.name},n.onEvaluationAlgorithmChanged=function(e){return i.__awaiter(n,void 0,void 0,function(){var t,n,s;return i.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=parseInt(e),[4,a.Admin.getEvaluationAlgorithmSummary({id:t})];case 1:return n=i.sent(),this.setStatus("metric","ok"),this.setDescendantStatus("parameter","init"),this.setState({evaluationAlgorithm:n,solutionColumnMapping:null,submissionColumnMapping:null}),[3,3];case 2:return s=i.sent(),[3,3];case 3:return[2]}})})},n.getStepId=function(e){return n.props.steps.indexOf(e)},n.setDescendantStatus=function(e,t){for(var a,i=n.props.steps,s=(n.getEvaluationStatusFromState(),n.getStepId(e)),o={},r=!1,l=s;l<i.length;l++){var c=i[l];if(a=i[l-1],r)o[c]="disabled";else{o[c]=t;var p="init"===o[c];if("init"===o[a]&&p){r=!0;continue}}}n.setState(o)},n.resetDescendantStatus=function(e){for(var t,a=n.props.steps,i=n.getEvaluationStatusFromProps(),s=n.getEvaluationStatusFromState(),o={},r=n.getStepId(e),l=!1,c=r;c<a.length;c++){var p=a[c];if(t=a[c-1],l)o[p]="disabled";else{var u="warn"===s[p]?i[p]||"init":s[p]||"init";o[p]=u;var d="init"===s[t],m="init"===s[p];if(d&&m){l=!0;continue}}}n.setState(o)},n.setStatus=function(e,t){n.setState((a={},a[e]=t,a));var a},n.queueTaskFactory=function(e,t){return function(a,i){var s=n.updateTaskFactory(e);return s({pending:!0,processing:!1}),t(a,i).then(function(t){var n=t.definition;return d(n.context.type===e,"Attempted to schedule "+e+" but scheduled "+n.context.type),c.progressUtils.setLocalTask(t.definition),s({pending:!1,processing:!0},n),t})}},n.getRouteParams=function(e){return void 0===e&&(e={}),i.__assign({},e,{competitionId:n.props.competitionId})},n.queueTask={solution:n.queueTaskFactory("solution",a.Admin.queueSolutionUpdate),solutionMapping:n.queueTaskFactory("solutionMapping",a.Admin.queueSolutionMappingUpdate),submission:n.queueTaskFactory("submission",a.Admin.queueSubmissionUpdate),submissionMapping:n.queueTaskFactory("submissionMapping",a.Admin.queueSubmissionMappingUpdate)},n.updateTaskFactory=function(e){return function(t,a){void 0===a&&(a=n.state.tasks[e]),n.setState({tasks:i.__assign({},n.state.tasks,(s={},s[e]=i.__assign({},a,t),s))});var s}},n.updateSolutionTask=n.updateTaskFactory("solution"),n.updateSolutionMappingTask=n.updateTaskFactory("solutionMapping"),n.updateSubmissionTask=n.updateTaskFactory("submission"),n.updateSubmissionMappingTask=n.updateTaskFactory("submissionMapping"),n.cancelTaskType=function(e,t){var s=n.state.tasks,o=s[e],r=function(t){void 0===t&&(t={definition:o});var a=i.__assign({},s,(r={},r[e]=i.__assign({},n.entityContext,{type:e,processing:!1}),r));console.info("DISMISSING TASK",{tasks:s,newTasks:a}),n.setState({tasks:a});var r};t&&o.taskId?a.Admin.cancelSegmentedTask({taskId:o.taskId}).then(r):r()},n.cancelTask={solution:function(){return n.cancelTaskType("solution",!0)},solutionMapping:function(){return n.cancelTaskType("solutionMapping",!0)},submission:function(){return n.cancelTaskType("submission",!0)},submissionMapping:function(){return n.cancelTaskType("submissionMapping",!0)}},n.dismissTask={solution:function(){return n.cancelTaskType("solution",!1)},solutionMapping:function(){return n.cancelTaskType("solutionMapping",!1)},submission:function(){return n.cancelTaskType("submission",!1)},submissionMapping:function(){return n.cancelTaskType("submissionMapping",!1)}},n.uploadSolution=function(e){var t=n.props,i=t.competitionId,s=t.steps;return a.Admin.deleteDescendantSteps({competitionId:i,stepId:s.indexOf("solution")},{}).then(function(){if(Array.isArray(e))throw new Error("single solution file required");var t=e.compressedName||e.name,a=e.html5File;return n.queueTask.solution(n.getRouteParams({fileName:t}),a).then(function(e){console.debug("RESULT SOLUTION",e)})})},n.uploadSubmission=function(e){var t=n.props,i=t.competitionId,s=t.steps;return a.Admin.deleteDescendantSteps({competitionId:i,stepId:s.indexOf("submission")},{}).then(function(){if(Array.isArray(e))throw new Error("single submission file required");var t=e.compressedName||e.name,a=e.html5File;return n.queueTask.submission(n.getRouteParams({fileName:t}),a)})},n.entityContext={entityId:e.competitionId,entityName:"competitions",type:"generic"},n.state=n.getEvaluationState(),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){for(var e=this.state.tasks,t=!1,n=0,a=Object.keys(e).filter(function(e){return null!==e});n<a.length;n++){e[a[n]]&&(t=!0)}t?this.setDescendantStatus("solutionMapping","ok"):this.resetDescendantStatus("metric")},n.prototype.componentWillReceiveProps=function(){},n.prototype.render=function(){var t=this,n=this.props,c=n.isEditing,p=n.onCancel,g=n.competitionId,_=(n.steps,this.state),b=_.tasks,E=_.evaluationAlgorithms,y=_.evaluationAlgorithm,C=(_.evaluationAlgorithmDirty,_.solutionFileDirty,_.solutionColumnMapping),w=_.submissionColumnMapping,S=this.getEvaluationStatusFromState();this.getEvaluationAlgorithmLabel();return e.createElement(s.ContentBox,{title:"Evaluation",subTitleBar:e.createElement("p",{style:{color:"rgb(220, 100, 100)",fontWeight:"bold",margin:24}},"Warning: This component is still being finalized. Use only on new competitions that you can afford to lose solution, mappings, and sample submission data on."),titleBarRightSide:e.createElement(r.EditStateToggleButton,{sectionName:"Evaluation",cancelPropName:"evaluation",isEditing:c,toggleCallback:this.onToggle,cancelCallback:p})},c?e.createElement("div",{className:"competition-data__evaluation--edit"},e.createElement("section",{className:m(S.metric)},e.createElement("div",null,"Scoring Metric"),e.createElement("div",null,e.createElement("div",null,e.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}),"warn"===S.metric?e.createElement(o.SelectBox,{options:E.map(function(e){return{value:e.id,label:e.abbr}}),onChange:this.onEvaluationAlgorithmChanged,searchable:!1,placeholder:"Choose a scoring metric to use...",value:y.id}):e.createElement("span",null,y.abbreviation)),e.createElement("div",{style:{marginTop:6,fontSize:"0.8em",color:"#ccc"}},"(",y.name||y.description,")")),e.createElement(f,{status:S.metric,onChange:function(){return t.setDescendantStatus("metric","warn")},warnText:"This will wipe out your solution / submission files."})),y.parameters&&y.parameters.length>0&&e.createElement("section",{className:u("column-mappings__container",m(S.parameter))},e.createElement("div",null,"Parameters"),e.createElement("div",null,e.createElement("div",null,e.createElement("span",null,"Name"),e.createElement("span",null,"Type"),e.createElement("span",null,"Value")),y.parameters.map(function(t,n){return e.createElement("div",{key:n},e.createElement("span",null,t.name),e.createElement("span",null,t.type),e.createElement("span",null,e.createElement("input",{type:"text",defaultValue:t.value})))}))),e.createElement("hr",null),e.createElement("section",{className:m(S.solution)},e.createElement("div",null,"Solution File"),e.createElement("div",null,e.createElement("div",null,e.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}),h(S.solution,b.solution)?e.createElement(l.BackgroundFileUploader,{compact:!0,type:"solution",confirm:function(n){if(Array.isArray(n))throw new Error("Only single solution file expected.");return t.setState({solutionFileName:n.compressedName||n.name}),t.setStatus("solutionMapping","disabled"),t.setDescendantStatus("submission","warn"),e.createElement("span",null,"Overwrite")},upload:this.uploadSolution,onConfirmCancel:function(){t.setState({solutionFileName:t.props.solutionFileName}),t.resetDescendantStatus("solution")},onConfirmAccept:function(){t.setState({solutionColumnMapping:null,submissionColumnMapping:null}),t.setDescendantStatus("solutionMapping","disabled")},onFileUploadFinished:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.setStatus("solution","ok"),t.setDescendantStatus("solutionMapping","init")},singleFileButtonLabel:"Upload a solution file",task:b.solution,onDismiss:this.dismissTask.solution,onCancel:this.cancelTask.solution,onProgress:function(e){},onResolve:function(e){console.info("solution processing PASSED"),d(g,"competitionId must exist to pull new mappings"),a.Admin.getSolutionColumnMapping({competitionId:g}).then(function(e){return t.setState({solutionColumnMapping:e})})},onReject:function(e){console.error("solution processing FAILED: "+(e?e.message:e))}}):e.createElement("div",null,this.state.solutionFileName?this.state.solutionFileName:this.state.totalSolutionRows?"Solution-name-here.csv":"No solution exists."))),!(b.solution.pending||b.solution.processing)&&e.createElement(f,{status:S.solution,onChange:function(){return t.setDescendantStatus("solution","warn")},warnText:"This will also wipe out your submission file / mappings."})),"init"!==S.solution&&"disabled"!==S.solution&&!(b.solution.pending||b.solution.processing)&&C&&e.createElement(N,i.__assign({},v(C),{type:"solution",status:S.solutionMapping,onProcess:function(e){return t.queueTask.solutionMapping(t.getRouteParams(),{mappedColumnNames:e.columnMappings,samplingMethod:"",mappedValidationSets:{}})},processContent:e.createElement("span",null,"Calculate Derived Solution"),task:this.state.tasks.solutionMapping,onDismiss:this.dismissTask.solutionMapping,onCancel:this.cancelTask.solutionMapping,predefinedValidationSets:this.props.predefinedValidationSets})),e.createElement("hr",null),C&&e.createElement("section",{className:m(S.submission)},e.createElement("div",null,"Sample submission file"),e.createElement("div",null,e.createElement("div",null,e.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}),h(S.submission,b.submission)?e.createElement(l.BackgroundFileUploader,{compact:!0,type:"submission",confirm:function(n){if(Array.isArray(n))throw new Error("Only single submission file expected.");return t.setState({submissionFileName:n.compressedName||n.name}),t.setStatus("submissionMapping","disabled"),t.setDescendantStatus("submission","warn"),e.createElement("span",null,"Overwrite")},upload:this.uploadSubmission,onConfirmCancel:function(){t.setState({submissionFileName:t.props.submissionFileName}),t.resetDescendantStatus("submission")},onConfirmAccept:function(){t.setState({submissionColumnMapping:null}),t.setDescendantStatus("submissionMapping","disabled")},onFileUploadFinished:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.setStatus("submission","ok"),t.setDescendantStatus("submissionMapping","init")},singleFileButtonLabel:"Upload a sample submission",task:b.submission,onDismiss:this.dismissTask.submission,onCancel:this.cancelTask.submission,onProgress:function(e){},onResolve:function(e){console.info("submission processing PASSED"),d(g,"competitionId must exist to pull new mappings"),a.Admin.getSubmissionColumnMapping({competitionId:g}).then(function(e){return t.setState({submissionColumnMapping:e})})},onReject:function(e){console.error("submission processing FAILED: "+(e?e.message:e))}}):e.createElement("div",null,this.state.submissionFileName?this.state.submissionFileName:this.state.submissionColumnMapping?"Submission-name-here.csv":"No submission exists."))),!(b.submission.pending||b.submission.processing)&&e.createElement(f,{status:S.submission,onChange:function(){return t.setDescendantStatus("submission","warn")},warnText:"This will wipe out your previous submission / mappings."})),"init"!==S.submission&&"disabled"!==S.submission&&C&&!(b.submission.pending||b.submission.processing)&&w&&e.createElement(N,i.__assign({},v(w),{type:"submission",status:S.submissionMapping,onProcess:function(e){return t.queueTask.submissionMapping(t.getRouteParams(),{mappedColumnNames:e.columnMappings,samplingMethod:"",mappedValidationSets:e.validatorMappings})},processContent:e.createElement("span",null,"Set Submission Mappings"),task:this.state.tasks.submissionMapping,onDismiss:this.dismissTask.submissionMapping,onCancel:this.cancelTask.submissionMapping,predefinedValidationSets:this.props.predefinedValidationSets}))):e.createElement("div",{className:"competition-data__evaluation"},e.createElement("section",null,e.createElement("div",null,"Scoring Metric"),e.createElement("div",null,this.state.evaluationAlgorithm.name," ",e.createElement("a",{href:"#"},"Read more about evaluation »"))),e.createElement("section",null,e.createElement("div",null,"Submission Format"),e.createElement("div",null,"init"!==S.solution&&"init"!==S.submission&&"disabled"!==S.solution&&"disabled"!==S.submission?"Your submission should have "+this.state.totalSolutionRows+" rows, each with "+this.state.solutionColumnMapping.columnDefinitions.length+" columns.":"init"!==S.solution&&"disabled"!==S.solution?"Requires submission file":"Requires solution file"))))},n}(e.Component)}).call(t,n(0),n(34))},function(e,t,n){"use strict";(function(e,a){function i(t){var n=t.files,a=t.onCompetitionDataDownload;return e.createElement(l.ContentBox,{title:"Training Data"},e.createElement(c.FilePreviewList,{files:n.map(function(e){return{showSubmitToCompButton:!1,submitToCompUrl:null,downloadCallback:a,description:e.description,fileName:e.name,filePreviewUrl:e.previewUrl,fileType:e.fileType||e.name.split(".")[e.name.split(".").length-1],fileUrl:e.url,size:e.totalBytes,fullPath:e.relativePath,canDelete:!1,onDelete:null,hideFilePreview:!0}})}))}function s(e){return e&&"NULL"!==e}function o(e){return s(e)?e:"Unscored"}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),l=n(7),c=n(113),p=n(138),u=n(61),d=n(283),m=n(112),h=n(914),g=n(96),f=n(411),v=n(911);!function(e){e[e.CurrentFiles=0]="CurrentFiles",e[e.NewFiles=1]="NewFiles"}(t.FileListIndex||(t.FileListIndex={}));var _=function(){return e.createElement("span",null,e.createElement("div",{className:"competition-data__loader"},"Loading..."))},b=function(t){function n(e){var n=t.call(this,e)||this;n.onToggle=function(){var e=n.props,t=e.isEditing,a=e.onSave,i=e.onEdit;t?a(n.state):i()},n.onUploadStarted=function(e){var t=n.state.children;n.setState({children:t.concat([{name:e,placeholder:!0}])})},n.onUploadFinished=function(e,t,i){var s=n.props.benchmarkSubmitUrl,o={blobFileTokens:[t],submissionDescription:e},r=JSON.stringify(o);a.Competitions.postBenchmark(s,r).then(function(t){var a=n.state.children;n.setState({children:a.filter(function(e){return!e.placeholder}).concat([{name:e}])})})},n.deleteBenchmark=function(e){a.Admin.hardDeleteSubmission({submissionId:e},null).then(function(t){var a=n.state.children;n.setState({children:a.filter(function(t){return t.id!==e})})})};var i=(e.isEditing,e.onSave,e.onEdit,e.onCancel,r.__rest(e,["isEditing","onSave","onEdit","onCancel"]));return n.state=i,n}return r.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.isEditing,i=n.onCancel,c=(n.benchmarkUploadUrl,this.state.children);return e.createElement(l.ContentBox,{title:"Benchmarks",titleBarRightSide:e.createElement(m.EditStateToggleButton,{sectionName:"Benchmarks",cancelPropName:"benchmarks",isEditing:a,toggleCallback:this.onToggle,cancelCallback:i})},a?e.createElement("div",{className:"competition-data__benchmarks-edit"},e.createElement("section",null,"Click or drag benchmark files below to provide them to your competitors and feature the scores on the leaderboard."),e.createElement("section",null,c.map(function(n,a){return e.createElement("div",{key:a},e.createElement("span",null,a+1),e.createElement("span",null,n.placeholder?e.createElement(_,null):e.createElement("input",{type:"text",defaultValue:n.details||n.name,onChange:function(e){var n=c.map(function(t,n){return n===a?r.__assign({},t,{details:e.currentTarget.value,dirty:!0}):t});t.setState({children:n})},disabled:void 0===n.id})),e.createElement("span",null,n.name),n.id?e.createElement("span",null,e.createElement("a",{onClick:function(e){t.deleteBenchmark(n.id),e.preventDefault()}},"Remove")):e.createElement("span",null,e.createElement("a",{href:"",onClick:function(){return window.location.reload()}},"Refresh to edit")))})),e.createElement(p.FileUploader,{createBlobUrl:this.props.benchmarkUploadUrl,mode:"multiple",onFileUploadStarted:this.onUploadStarted,onFileUploadFinished:this.onUploadFinished,singleFileButtonLabel:"Upload Files"})):e.createElement("div",{className:"competition-data__benchmarks"},e.createElement("div",{className:"competition-data__benchmarks-content"},"Study these benchmark models to get started with this competition."),c.map(function(t,n){var a=s(t.privateScore)?o(t.privateScore):null,i=o(t.publicScore);return e.createElement("div",{key:n,className:"competition-data__benchmarks-item"},e.createElement("span",null,e.createElement("a",{href:"#"+t.name.replace(" ","_")},t.details||t.name)),a?e.createElement("span",null,e.createElement("span",null,"Private Score: ",a),e.createElement("span",null,"Public Score: ",i)):e.createElement("span",null,"Scores: ",i),t.id?e.createElement("span",null,e.createElement("a",{href:"/submissions/"+t.id},e.createElement("i",{className:"fa fa-download","aria-hidden":"true"})," Download")):e.createElement("span",null,e.createElement("a",{href:"",onClick:function(){return window.location.reload()}},"Refresh to download")))})))},n}(e.Component),E=g.connect(h.getTrainingDataState)(i),y=g.connect(h.getBenchmarksState,r.__assign({},f.actions.benchmarks))(b),C=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(n,t),n.prototype.renderVersionNotes=function(t,n,a){return e.createElement(u.MarkdownConverter,{key:"version-"+n,contentClassName:"dataset-home__version-notes",content:t,insertNofollow:!0})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"competition-data"},e.createElement(E,null),e.createElement(d.MarkdownContentBox,{canEdit:this.props.canEdit||this.props.isCompetitionHost,canEditMimeType:!0,content:this.props.dataIntro?this.props.dataIntro.content:null,mimeType:this.props.dataIntro?u.stringToMimeType(this.props.dataIntro.mimeType):null,contentBoxTitle:"Data Introduction",contentClassName:"competition-data__content",onSaveClicked:function(e,n){return t.props.onCompetitionDataIntroSaved(e,n)}}),this.props.benchmarks&&e.createElement(y,null),this.props.hasHostEnabled&&e.createElement(v.default,{competitionId:this.props.competitionId}))},n}(e.Component);t.CompetitionData=C}).call(t,n(0),n(34))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(24),o=n(912),r=function(t){function n(e){var n=t.call(this,e)||this;return n.onCompetitionDataDownload=function(e){if(!n.props.hasAcceptedRules){e.preventDefault();var t=e.target.href;n.props.onShowRulesModal(function(){return window.location.href=t})}},n.onCompetitionDataIntroSaved=function(e,t){var o={page:{content:e,mimeType:t}};return a.ajax({type:"POST",url:n.props.saveDataUrl,contentType:"application/json",dataType:"json",data:JSON.stringify(o),success:function(e){n.setState({dataIntro:i.__assign({},n.state.dataIntro,o.page)},function(){e.pageMessages&&e.pageMessages.length>0?s.PageMessages.set(e.pageMessages):(s.PageMessages.clear(),s.PageMessages.success("Save successful."))})},error:function(e){e.pageMessages&&e.pageMessages.length>0?s.PageMessages.set(e.pageMessages):(s.PageMessages.clear(),s.PageMessages.error("Save unsuccessful."))}})},n.state={dataIntro:e.dataIntro},n}return i.__extends(n,t),n.prototype.render=function(){var t={onCompetitionDataDownload:this.onCompetitionDataDownload,onCompetitionDataIntroSaved:this.onCompetitionDataIntroSaved};return e.createElement(o.CompetitionData,i.__assign({},this.props,this.state,t))},n}(e.Component);t.CompetitionDataContainer=r}).call(t,n(0),n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1821),i=function(e){return e.editing.getIn(["data","benchmarks"])};t.getSubmissionFormat=function(e){return"Your submission should have "+e.totalSolutionRows+" rows, each with "+e.totalSolutionColumns+" columns."},t.getBenchmarks=function(e){return e.benchmarks},t.getSubmissionUploadUrl=function(e){return e.submissionUploadUrl},t.getBenchmarkSubmitUrl=function(e){return e.benchmarkSubmitUrl},t.getSubmissionDetailsUpdateUrl=function(e){return e.submissionDetailsUpdateUrl},t.getSubmissionDeleteUrl=function(e){return e.submissionDeleteUrl},t.getBenchmarksState=a.createSelector(i,t.getBenchmarks,t.getSubmissionUploadUrl,t.getBenchmarkSubmitUrl,t.getSubmissionDetailsUpdateUrl,t.getSubmissionDeleteUrl,function(e,t,n,a,i,s){return{isEditing:e,children:t,benchmarkUploadUrl:n,benchmarkSubmitUrl:a,benchmarkDetailsUpdateUrl:i,benchmarkDeleteUrl:s}}),t.getTrainingDataState=function(e){return{files:e.files}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.Forum,a.__assign({},a.__assign({},this.props.discussion,this.props.newTopic),{isNew:this.props.isNewTopic,onTopicClicked:this.props.onTopicClicked,topicSubmitted:this.props.onTopicSubmitted,topicId:this.props.topicId}))},n}(e.Component);t.CompetitionDiscussion=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),s=n(50),o=n(168),r=n(19),l=n(82),c=n(62),p=function(t){return e.createElement("div",{className:"competition-header__classification-icon-wrapper"},e.createElement("div",{className:"competition-header__classification-icon"},e.createElement(u,a.__assign({},t))))},u=function(t){switch(t.hostSegment){case"featured":return e.createElement("span",{className:"fa fa-trophy"});case"research":return e.createElement("span",{className:"fa fa-flask"});case"recruitment":case"prospect":return e.createElement("span",{className:"fa fa-trophy"});case"getting started":return e.createElement("span",{className:"fa fa-university"});case"masters":return e.createElement("span",{className:"fa fa-trophy"});case"playground":return e.createElement("span",{className:"fa fa-bicycle"});default:return e.createElement("span",{className:"fa fa-trophy"})}},d=function(t){function n(e){var n=t.call(this,e)||this;n.buildLink=function(e,t,a){void 0===t&&(t=null),void 0===a&&(a=null);var s="/c/"+n.props.competitionSlug+"/"+e.toLowerCase(),o=e.toLowerCase();return"Team"==e&&(n.props.needsPhoneVerification&&(s="/account/phone/number?returnUrl="+n.props.competitionUrl,o=null),i.Current.userName||(s="/account/set-username?returnUrl="+n.props.competitionUrl,o=null)),{count:null==a?null:l.numberWithCommas(a),href:s,title:e.toLowerCase(),text:t||e,tab:o}};var a=(e.hasHost,e.hasKernels),s=e.discussion,o=e.hasLeaderboard,r=e.canEdit,c=(e.submissions,e.rewardTypeName),p=e.isCompetitionHost,u=e.isCompetitionPending;return n.competitionMenuLinks=[n.buildLink("Overview")],r&&u&&n.competitionMenuLinks.push(n.buildLink("Host")),n.competitionMenuLinks.push(n.buildLink("Data")),n.competitionOverflowMenuLinks=[n.buildLink("Rules"),n.buildLink("Team")],n.competitionMenuLinksRight=[],a&&n.competitionMenuLinks.push(n.buildLink("Kernels")),s&&n.competitionMenuLinks.push(n.buildLink("Discussion")),o&&n.competitionMenuLinks.push(n.buildLink("Leaderboard")),p&&n.competitionOverflowMenuLinks.push(n.buildLink("Host")),r&&n.competitionOverflowMenuLinks.push(n.buildLink("Admin")),n.props.team&&!n.props.needsPhoneVerification&&i.Current.userName&&n.competitionMenuLinksRight.push(n.buildLink("Submissions","My Submissions")),n.isMonetaryReward=["USD","AUD","EUR"].indexOf(c)>=0,n}return a.__extends(n,t),n.prototype.renderDeadlineInfo=function(){var t=new Date(this.props.mergerDeadline.toString()).getTime()<(new Date).getTime();return this.props.hasMergerDeadline&&!t?e.createElement("span",null,e.createElement(r.TimeAgo,{time:this.props.deadline})," (",e.createElement(r.TimeAgo,{time:this.props.mergerDeadline})," until merger deadline)"):e.createElement(r.TimeAgo,{time:this.props.deadline})},n.prototype.renderTop=function(){var t=this.props.hostSegment;return e.createElement("div",{className:"competition-header__top"},e.createElement("div",{className:"competition-header__top-image",style:{backgroundImage:"url("+this.props.competitionHeaderImageUrl+")"}}),e.createElement(s.PageHeaderTopRowSafe,null,e.createElement("div",{className:"competition-header__classification"},e.createElement(p,{hostSegment:t}),e.createElement("p",{className:"competition-header__classification-text"},this.props.hostSegmentTitle," ",this.props.competitionType," Competition",this.props.isPrivate?e.createElement("span",null," · ",e.createElement("span",{className:"fa fa-eye-slash"})," Private"):null)),e.createElement("div",{className:"competition-header__meta"},e.createElement("div",{className:"competition-header__info"},e.createElement("h1",{className:"competition-header__title"},this.props.competitionTitle),e.createElement("h2",{className:"competition-header__subtitle"},this.props.briefDescription),e.createElement("div",{className:"competition-header__details"+(this.props.organizationId?"":"--no-org")},this.props.organizationId&&e.createElement("a",{className:"competition-header__org-thumbnail",href:"/"+this.props.organizationSlug},e.createElement("img",{className:"competition-header__org-thumbnail-image",src:this.props.organizationThumbnailUrl})),e.createElement("span",null,this.props.organizationId&&e.createElement("span",{className:"competition-header__organization-name"},e.createElement("a",{href:"/"+this.props.organizationSlug},this.props.organizationName),e.createElement("span",{className:"competition-header__details-sep"}," · ")),e.createElement("span",null,l.numberWithCommas(this.props.totalTeams)+" teams")),e.createElement("span",{className:"competition-header__details-sep"}," · "),this.renderDeadlineInfo(),i.Current.isAdmin?e.createElement("span",null,e.createElement("span",{className:"competition-header__details-sep"}," · "),"ID ",this.props.competitionId):null)),this.props.rewardQuantity>0&&this.isMonetaryReward?e.createElement("div",{className:"competition-header__prize"},e.createElement("span",{className:"competition-header__prize-value"},"$"+l.numberWithCommas(this.props.rewardQuantity)),e.createElement("span",{className:"competition-header__prize-text"},"Prize Money")):null)))},n.prototype.renderAlternateTop=function(){return e.createElement(s.PageHeaderTopRowSafe,null,e.createElement("div",{className:"competition-header__top--alt"},e.createElement("div",{className:"competition-header__top-image-wrapper--alt"},e.createElement("a",{href:""+this.props.competitionUrl},e.createElement("img",{className:"competition-header__top-image--alt",src:this.props.competitionFrontPageImageUrl}))),e.createElement("div",{className:"competition-header__meta--alt"},e.createElement("h1",{className:"competition-header__title--alt"},this.props.competitionTitle),e.createElement("h2",{className:"competition-header__subtitle--alt"},this.props.briefDescription),e.createElement("div",{className:"competition-header__details--alt"},this.props.rewardQuantity>0&&this.isMonetaryReward?"$"+l.numberWithCommas(this.props.rewardQuantity)+" · ":null,this.props.totalTeams?l.numberWithCommas(this.props.totalTeams)+" teams · ":null,this.renderDeadlineInfo(),this.props.isPrivate?e.createElement("span",null," · ",e.createElement("span",{className:"fa fa-eye-slash"})," Private"):null,i.Current.isAdmin?e.createElement("span",null," · ID ",this.props.competitionId):null))))},n.prototype.render=function(){var t=this,n=this.competitionMenuLinksRight.slice(0);return"submit"==this.props.activePane?n.push(this.buildLink("Submit","Submit "+("code"==this.props.competitionType.toLowerCase()?"Model":"Predictions"))):"kernels"==this.props.activePane&&i.Current.hasMultipleDataSources&&(n=[]),this.props.isCreatingCompetition?null:e.createElement("div",{className:"competition-header__container"},e.createElement(s.PageHeader,{backgroundClass:"competition-header"},this.props.hasHeaderImage?this.renderTop():this.renderAlternateTop(),this.props.isCreatingCompetition?null:e.createElement(s.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},e.createElement(c.MediaQuery,{minWidth:0,maxWidth:c.Breakpoints.tabletMax},e.createElement(o.OverflowX,null,e.createElement("div",{className:"competition-header__nav-wrapper"},e.createElement(s.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"competition",changeActiveTab:function(e){return t.props.onCompetitionTabChanged(e)},menuLinks:this.competitionMenuLinks,overflowMenuLinks:this.props.team?this.competitionOverflowMenuLinks:this.competitionOverflowMenuLinks.filter(function(e){return"Team"!==e.text}),rightMenuLinks:n.length?n:null}),"discussion"==this.props.activePane?e.createElement(s.PageHeaderCallToAction,{onClick:this.props.onCreateTopic,text:"New Topic"}):"kernels"==this.props.activePane&&i.Current.hasMultipleDataSources?e.createElement(s.PageHeaderCallToAction,{onClick:this.props.onNewKernelClicked,text:"New Kernel"}):"submit"==this.props.activePane||this.props.submissionsAreDisabled?null:e.createElement(s.PageHeaderCallToAction,{href:"code"==this.props.competitionType.toLowerCase()&&this.props.hasAcceptedRules?this.props.newScriptUrl:null,onClick:this.props.hasAcceptedRules?"code"!=this.props.competitionType.toLowerCase()?function(){return t.props.onCompetitionTabChanged("submit")}:function(){}:function(){return t.props.onCompetitionStateChanged("showRulesModal",!0)},text:"Submit "+("prediction"==this.props.competitionType.toLowerCase()?"Predictions":"Model")})))),e.createElement(c.MediaQuery,{minWidth:c.Breakpoints.desktopMin},e.createElement("div",{className:"competition-header__nav-wrapper"},e.createElement(s.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"competition",changeActiveTab:function(e){return t.props.onCompetitionTabChanged(e)},menuLinks:this.competitionMenuLinks,overflowMenuLinks:this.props.team?this.competitionOverflowMenuLinks:this.competitionOverflowMenuLinks.filter(function(e){return"Team"!==e.text}),rightMenuLinks:n.length?n:null}),"discussion"==this.props.activePane?e.createElement(s.PageHeaderCallToAction,{onClick:this.props.onCreateTopic,text:"New Topic"}):"kernels"==this.props.activePane&&i.Current.hasMultipleDataSources?e.createElement(s.PageHeaderCallToAction,{onClick:this.props.onNewKernelClicked,text:"New Kernel"}):"submit"==this.props.activePane||this.props.submissionsAreDisabled?null:e.createElement(s.PageHeaderCallToAction,{href:"code"==this.props.competitionType.toLowerCase()&&this.props.hasAcceptedRules?this.props.newScriptUrl:null,onClick:this.props.hasAcceptedRules?"code"!=this.props.competitionType.toLowerCase()?function(){return t.props.onCompetitionTabChanged("submit")}:function(){}:function(){return t.props.onCompetitionStateChanged("showRulesModal",!0)},text:"Submit "+("prediction"==this.props.competitionType.toLowerCase()?"Predictions":"Model")}))))))},n}(e.Component);t.CompetitionHeader=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),s=n(111),o=n(420),r=n(36),l=n(44),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){for(var t=this.props,n=t.isLoadingAllTeams,a=t.teams,c=t.totalTeams,p=t.onSelectTeam,u=t.onExpandTeam,d=t.onChangeTeamFilter,m=t.teamFilter,h=t.onSearchTeams,g=t.onClearTeamFilter,f=t.onSelectSubmission,v=t.onDeselectAll,_=t.onCollapseAll,b=t.onDownloadSubmissions,E=t.onRescoreSubmissions,y=t.onInvalidateSubmissions,C=t.onHideSubmissions,w=t.onUnhideSubmissions,S=0,N=0,T=a;N<T.length;N++){var k=T[N];if(k.isChecked)S+=k.entries;else for(var M=0,x=k.submissions;M<x.length;M++){var I=x[M];I.isChecked&&S++}}return e.createElement(o.ConfusedTravolta,{title:"Don't look so confused",subtitle:"This will be available soon."},e.createElement("div",{className:"competition-allsubmissions"},e.createElement("div",{className:"competition-allsubmissions__header"},e.createElement("div",{className:"competition-allsubmissions__metadata"},e.createElement(r.Pluralize,{word:"team",count:c}),", 00000 submissions",e.createElement("form",{className:"competition-allsubmissions__filter-wrapper",onSubmit:function(e){e.preventDefault(),h()}},m.length>0&&e.createElement("a",{className:"competition-allsubmissions__filter-clear",onClick:g},e.createElement("span",{className:"fa fa-times"})," clear"),e.createElement("input",{className:"competition-allsubmissions__filter",onChange:d,placeholder:"Filter by team name...",value:m}),e.createElement("button",{className:"competition-allsubmissions__filter-button",title:"Filter Teams",type:"submit"},e.createElement("span",{className:"fa fa-search"})))),S>0&&e.createElement("div",{className:"competition-allsubmissions__batch"},e.createElement("p",null,S," submissions selected"),e.createElement(i.ButtonAutoWidth,{classNames:"competition-allsubmissions__batch-button",onClick:b,text:"Download",size:"s"}),e.createElement(i.ButtonAutoWidth,{classNames:"competition-allsubmissions__batch-button",onClick:E,text:"Rescore",size:"s"}),e.createElement(i.ButtonAutoWidth,{classNames:"competition-allsubmissions__batch-button",onClick:y,text:"Invalidate",size:"s"}),e.createElement(i.ButtonAutoWidth,{classNames:"competition-allsubmissions__batch-button",onClick:C,text:"Hide",size:"s"}),e.createElement(i.ButtonAutoWidth,{classNames:"competition-allsubmissions__batch-button",onClick:w,text:"Unhide",size:"s"}),e.createElement("a",{className:"competition-allsubmissions__batch-deselect",onClick:v},"Deselect All"))),e.createElement("table",{className:"competition-allsubmissions__teams-table"},e.createElement("thead",null,e.createElement("tr",{className:"competition-allsubmissions__teams-th-row"},e.createElement("th",{className:"competition-allsubmissions__teams-th-checkbox"},e.createElement("a",{className:"competition-allsubmissions__teams-th-checked"},e.createElement("span",{className:"fa fa-square-o"}))),e.createElement("th",{className:"competition-allsubmissions__teams-th-rank"},"#"),e.createElement("th",{className:"competition-allsubmissions__teams-th-team"},"Team Name"),e.createElement("th",{className:"competition-allsubmissions__teams-th-entries"},"Entries"),e.createElement("th",{className:"competition-allsubmissions__teams-th-score"},"Top Score"),e.createElement("th",{className:"competition-allsubmissions__teams-th-models"},"Models"),e.createElement("th",{className:"competition-allsubmissions__teams-th-actions"},e.createElement("a",{className:"competition-allsubmissions__teams-refresh",onClick:g,title:"Refresh teams"},e.createElement("span",{className:"fa fa-refresh"})),e.createElement("a",{className:"competition-allsubmissions__teams-collapse-all",onClick:_,title:"Collapse all teams"},e.createElement("span",{className:"fa fa-compress"}))))),e.createElement("tbody",null,n?e.createElement("tr",{className:"competition-allsubmissions__loading"},e.createElement("div",{className:"competition-allsubmissions__loading-spinner"},e.createElement("span",{className:"fa fa-circle-o-notch fa-spin"})),c<100?"Don't worry, this shouldn't take long.":c<1e3?"Sit tight, this might take a little bit.":"Get comfortable, this is going to be a while."):a.length>0?a.map(function(t,n){var a=0;if(t.isChecked)a+=t.entries;else for(var i=0,o=t.submissions;i<o.length;i++){var r=o[i];r.isChecked&&a++}return e.createElement("tr",{className:"competition-allsubmissions__teams-td-row-wrapper",key:"team-"+t.id},e.createElement("div",{className:"competition-allsubmissions__teams-td-row"+(t.isExpanded?"--expanded":""),onClick:function(){return u(t,n)}},e.createElement("td",{className:"competition-allsubmissions__teams-td-checkbox"},t.isPartiallyChecked?e.createElement("span",{className:"competition-allsubmissions__teams-td-partially-checked",onClick:function(e){e.stopPropagation(),p(t,n)}},e.createElement("span",{className:"fa fa-square"})):e.createElement(s.Checkbox,{isChecked:t.isChecked,isEditable:!0,isGreedy:!0,onChange:function(){return p(t,n)},text:""})),e.createElement("td",{className:"competition-allsubmissions__teams-td-rank"},t.rank),e.createElement("td",{className:"competition-allsubmissions__teams-td-team"},t.name),e.createElement("td",{className:"competition-allsubmissions__teams-td-entries"},t.entries),e.createElement("td",{className:"competition-allsubmissions__teams-td-score"},t.score),e.createElement("td",{className:"competition-allsubmissions__teams-td-models"},t.hasModelFiles&&e.createElement("span",{className:"fa fa-file-code-o"})),e.createElement("td",{className:"competition-allsubmissions__teams-td-actions"},a>0&&e.createElement("span",null,a," of ",t.entries," selected"))),t.isExpanded&&e.createElement("div",{className:"competition-allsubmissions__teams-td-row-inner"},t.submissions.length>0?e.createElement("table",{className:"competition-allsubmissions__submissions-table"},e.createElement("caption",{className:"competition-allsubmissions__submissions-table-caption"},e.createElement("span",{className:"competition-allsubmissions__submissions-table-selected-note"},"User-selected submissions in green"),e.createElement("span",{className:"competition-allsubmissions__submissions-table-errored-note"},"Errored submissions in red")),e.createElement("thead",null,e.createElement("tr",{className:"competition-allsubmissions__submissions-th-row"},e.createElement("th",{className:"competition-allsubmissions__submissions-th-checkbox"}),e.createElement("th",{className:"competition-allsubmissions__submissions-th-id"},"ID"),e.createElement("th",{className:"competition-allsubmissions__submissions-th-name"},"Submission"),e.createElement("th",{className:"competition-allsubmissions__submissions-th-details"},"Details"),e.createElement("th",{className:"competition-allsubmissions__submissions-th-public"},"Public"),e.createElement("th",{className:"competition-allsubmissions__submissions-th-private"},"Private"),e.createElement("th",{className:"competition-allsubmissions__submissions-th-date"},"Date"))),e.createElement("tbody",null,t.submissions.map(function(a,i){var o=a.isSelected,r=!(a.privateScore||a.publicScore);return e.createElement("tr",{className:"competition-allsubmissions__submissions-td-row"+(o?"--selected":r?"--errored":""),key:"submission-"+a.id},e.createElement("td",{className:"competition-allsubmissions__submissions-td-checkbox"},e.createElement(s.Checkbox,{isChecked:a.isChecked,isEditable:!0,isGreedy:!0,onChange:function(){return f(t,a,n,i)},text:""})),e.createElement("td",{className:"competition-allsubmissions__submissions-td-id"},a.id),e.createElement("td",{className:"competition-allsubmissions__submissions-td-name"},e.createElement("a",{className:"competition-allsubmissions__submission-link",href:a.url,title:a.name},a.name)),e.createElement("td",{className:"competition-allsubmissions__submissions-td-details",title:a.details},a.details),e.createElement("td",{className:"competition-allsubmissions__submissions-td-public"},a.publicScore||"-"),e.createElement("td",{className:"competition-allsubmissions__submissions-td-private"},a.privateScore||"-"),e.createElement("td",{className:"competition-allsubmissions__submissions-td-date",title:l(a.date).format("llll")},l(a.date).format("M/DD/YY H:mm")))}))):e.createElement("p",null,"No submissions found.")))}):e.createElement("tr",{className:"competition-allsubmissions__none"},"Sorry, nothing to see here!")))))},n}(e.Component);t.CompetitionAllSubmissions=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(t){var n=t.isCompetitionPending,a=t.submitCompetitionUrl,i=t.children;return e.createElement(o.Checklist,{children:i,okHeader:n?e.createElement("div",{className:"competition-host__checklist-header competition-host__checklist-header--ok"},e.createElement("section",null,e.createElement("header",{className:"competition-host__checklist-header-title"},"Your competition passes our automated checks."),e.createElement("div",{className:"competition-host__checklist-header-note"},"Only submit if you are ready to launch. We'll review and be in touch.")),e.createElement("aside",null,e.createElement("a",{href:a},"Submit Competition »"))):e.createElement("div",{className:"competition-host__checklist-header competition-host__checklist-header--active"},e.createElement("section",null,e.createElement("header",{className:"competition-host__checklist-header-title"},"Your competition is active."))),notOkHeader:e.createElement("div",{className:"competition-host__checklist-header competition-host__checklist-header--not-ok"},e.createElement("section",null,e.createElement("header",{className:"competition-host__checklist-header-title"},"Your competition is not ready for launch."),e.createElement("div",{className:"competition-host__checklist-header-note"},"Please check the below issues.")))})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(921),s=n(96),o=n(419);t.CompetitionHostChecklistContainer=s.connect(i.getHostChecklistState)(a)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(923),o=n(918),r=n(924),l=n(922),c=n(917);t.default=function(t){var n=t.activeHostTab;return e.createElement("div",{className:"competition-host"},e.createElement(i.ContentBox,{title:"Host Controls"},e.createElement("div",{className:"competition-host__nav-content-container"},e.createElement(s.CompetitionHostNav,a.__assign({},t)),"launch-checklist"==n?e.createElement(o.CompetitionHostChecklistContainer,null):"settings"==n?e.createElement(r.CompetitionHostSettings,a.__assign({},t)):"images"==n?e.createElement(l.CompetitionHostImages,a.__assign({},t)):"all-submissions"==n?e.createElement(c.CompetitionAllSubmissions,a.__assign({},t)):null)))}}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(919),o=n(24),r=n(169),l=n(6),c=n(44),p=function(t){function n(e){var n=t.call(this,e)||this;return n.defaultHostTab="launch-checklist",n.validationRules=[{isValid:function(){return n.state.updatedCompetitionTitle&&n.state.updatedCompetitionTitle.trim().length>0},id:"competition-no-title",message:function(){return"Please enter a title for your competition."},alwaysValidate:!0},{isValid:function(){return!n.state.updatedCompetitionTitle||0==n.state.updatedCompetitionTitle.trim().length||n.state.updatedCompetitionTitle.trim().length>6&&n.state.updatedCompetitionTitle.trim().length<50},id:"competition-title-length",message:function(){return"The title must be between 6 and 50 characters in length."},alwaysValidate:!0},{isValid:function(){return!(!n.state.updatedBriefDescription||!n.state.updatedBriefDescription.trim())},id:"competition-no-description",message:function(){return"Please enter a short description for your competition."},alwaysValidate:!0},{isValid:function(){return!(n.state.updatedBriefDescription&&n.state.updatedBriefDescription.trim().length>125)},id:"competition-description-length",message:function(){return"Your description must be fewer than 125 characters."},alwaysValidate:!0},{isValid:function(){return!(!n.state.updatedCompetitionSlug||!n.state.updatedCompetitionSlug.trim())},id:"competition-no-slug",message:function(){return"Please enter a URL for your competition."},alwaysValidate:!0},{isValid:function(){return!(n.state.updatedCompetitionSlug&&(n.state.updatedCompetitionSlug.trim().length<3||n.state.updatedCompetitionSlug.trim().length>50))},id:"competition-slug-length",message:function(){return"The URL must be between 3 and 50 characters."},alwaysValidate:!0},{isValid:function(){return c.utc(n.state.updatedDeadline).isValid()},id:"competition-deadline-not-valid",message:function(){return"The deadline must be a valid date."},alwaysValidate:!0},{isValid:function(){return parseInt(n.state.updatedMaxTeamSize)&&parseInt(n.state.updatedMaxTeamSize)>0||n.state.unlimitedTeamSize},id:"competition-max-team-size-not-a-number",message:function(){return"The maximum team size for your competition should be a positive nonzero number."},alwaysValidate:!0},{isValid:function(){return parseInt(n.state.updatedMaxDailySubmissions)&&parseInt(n.state.updatedMaxDailySubmissions)>0},id:"competition-max-daily-submissions-not-a-number",message:function(){return"The maximum daily submissions for your competition should be a positive nonzero number."},alwaysValidate:!0},{isValid:function(){return parseInt(n.state.updatedScoredPrivateSubmissions)&&parseInt(n.state.updatedScoredPrivateSubmissions)>0},id:"competition-scored-private-submissions-not-a-number",message:function(){return"The scored private submissions for your competition should be a positive nonzero number."},alwaysValidate:!0}],n.onHostTabChanged=function(e,t){t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1==t.button||n.setState({activeHostTab:e},function(){return n.updateUrlForTab(e)})},n.updateUrlForTab=function(e,t){void 0===t&&(t=!1);var a={},i=e.toLowerCase().replace(/\s+/g,"-")||n.defaultHostTab,s=n.props.competitionUrl+"/host";a.competitionTabState={activePane:"host",activeTab:"host"},a.competitionHostTabState={activeAdminTab:i},i!=n.defaultHostTab&&(s+="#"+i),t?history.replaceState(a,"",s):history.pushState(a,"",s)},n.onChangeBriefDescription=function(e){n.setState({updatedBriefDescription:e.target.value},function(){return n.clearFixedValidations()})},n.onChangeCompetitionSlug=function(e){n.setState({updatedCompetitionSlug:e,useTitleForSlug:!1},function(){return n.clearFixedValidations()})},n.onChangeCompetitionTitle=function(e){var t=e.target.value,a={updatedCompetitionTitle:t};n.state.useTitleForSlug&&(a.updatedCompetitionSlug=r.slugify(t)),n.setState(a,function(){return n.clearFixedValidations()})},n.onChangeMaxDailySubmissions=function(e){n.setState({updatedMaxDailySubmissions:e.target.value},function(){return n.clearFixedValidations()})},n.onChangeMaxTeamSize=function(e){var t={updatedMaxTeamSize:e.target.value};n.state.unlimitedTeamSize&&(t.unlimitedTeamSize=!1),n.setState(t,function(){return n.clearFixedValidations()})},n.onChangeScoredPrivateSubmissions=function(e){n.setState({updatedScoredPrivateSubmissions:e.target.value},function(){return n.clearFixedValidations()})},n.onSelectCategory=function(e){n.setState({selectedCategory:e})},n.onSelectOrganization=function(e){n.setState({selectedOrganizationId:parseInt(e)})},n.onToggleAllowAnonymousTeams=function(){n.setState({updatedAllowAnonymousTeams:!n.state.updatedAllowAnonymousTeams})},n.onToggleCountsTowardsRanking=function(){n.setState({updatedCountsTowardsRanking:!n.state.updatedCountsTowardsRanking})},n.onToggleCountsTowardsTiers=function(){n.setState({updatedCountsTowardsTiers:!n.state.updatedCountsTowardsTiers})},n.onToggleAllowTeamMergers=function(){n.setState({updatedAllowTeamMergers:!n.state.updatedAllowTeamMergers})},n.onToggleUnlimitedTeamSize=function(){var e={unlimitedTeamSize:!n.state.unlimitedTeamSize};n.state.unlimitedTeamSize||(e.updatedMaxTeamSize=""),n.setState(e,function(){return n.clearFixedValidations()})},n.onChangeDeadline=function(e){e&&n.setState({updatedDeadline:e},function(){return n.clearFixedValidations()})},n.onSelectTeam=function(e,t){var a=n.state.teams.slice();e.isPartiallyChecked&&(a[t].isPartiallyChecked=!1),a[t].submissions.map(function(t){return t.isChecked=!e.isChecked||e.isPartiallyChecked}),a[t].isChecked=!e.isChecked,n.setState({teams:a})},n.onExpandTeam=function(e,t){var a=n.state.teams.slice();e.isExpanded?(a[t].isExpanded=!1,n.setState({teams:a})):e.submissions.length>0?(a[t].isExpanded=!0,n.setState({teams:a})):n.getTeamSubmissions(e.id).then(function(s){var o=[];s.map(function(t,n){o[n]=i.__assign({},t,{isChecked:e.isChecked})}),a[t].submissions=o,a[t].isExpanded=!0,n.setState({teams:a})})},n.onChangeTeamFilter=function(e){n.setState({teamFilter:e.target.value})},n.onClearTeamFilter=function(){n.setState({teamFilter:""},function(){return n.getTeams()})},n.onSearchTeams=function(){return n.getTeams(n.state.teamFilter)},n.onSelectSubmission=function(e,t,a,i){var s=n.state.teams.slice();s[a].submissions[i].isChecked=!s[a].submissions[i].isChecked;var o=s[a].submissions.some(function(e){return e.isChecked});s[a].submissions.some(function(e){return!e.isChecked})?o?(s[a].isChecked=!1,s[a].isPartiallyChecked=!0):(s[a].isChecked=!1,s[a].isPartiallyChecked=!1):(s[a].isChecked=!0,s[a].isPartiallyChecked=!1),n.setState({teams:s})},n.onCollapseAllTeams=function(){var e=n.state.teams.slice();e.map(function(e){return e.isExpanded=!1}),n.setState({teams:e})},n.onDeselectAll=function(){for(var e=n.state.teams.slice(),t=0,a=e;t<a.length;t++){var i=a[t];i.isChecked=!1,i.isPartiallyChecked=!1;for(var s=0,o=i.submissions;s<o.length;s++){o[s].isChecked=!1}}n.setState({teams:e})},n.getOrganizations=function(e){return a.Users.getOrganizations({filter:e}).then(function(e){var t=[];return e.map(function(e,n){t[n]={label:e.name,value:e.id.toString(),thumbnailUrl:e.thumbnailImageUrl}}),{options:t}})},n.getTeams=function(e){n.setState({isLoadingAllTeams:!0},function(){return a.Competitions.getTeams({id:n.props.competitionId,filter:e||""}).then(function(e){var t=[];e.map(function(e,n){t[n]={id:e.id,rank:e.rank,name:e.name,entries:e.entries,score:e.score,hasModelFiles:e.hasModelFiles,isExpanded:!1,isChecked:!1,isPartiallyChecked:!1,submissions:[]}}),n.setState({isLoadingAllTeams:!1,teams:t})})})},n.getTeamSubmissions=function(e){return a.Competitions.getSubmissionsByTeam({id:n.props.competitionId,teamId:e})},n.onDownloadSubmissions=function(){var e=document.createElement("form");e.setAttribute("method","post"),e.setAttribute("action","/c/"+n.props.competitionId+"/submissions/multiplesubmissions.zip"),e._submit_function_=e.submit;for(var t=0,a=n.collectSubmissionIds();t<a.length;t++){var i=a[t];e.appendChild(n.createHiddenFormField("submissionsToDownload",i.toString()))}for(var s=0,o=n.collectTeamIds();s<o.length;s++){var r=o[s];e.appendChild(n.createHiddenFormField("teamsToDownload",r.toString()))}e.appendChild(n.createHiddenFormField("groupByTeam","true")),e.appendChild(n.createHiddenFormField("__RequestVerificationToken",l.Current.antiForgeryToken)),document.body.appendChild(e),e._submit_function_()},n.onRescoreSubmissions=function(){console.log("rescoring!"),console.log("teamIds: "+n.collectTeamIds()),console.log("submissionIds: "+n.collectSubmissionIds())},n.onInvalidateSubmissions=function(){console.log("invalidating!"),console.log("teamIds: "+n.collectTeamIds()),console.log("submissionIds: "+n.collectSubmissionIds())},n.onHideSubmissions=function(){console.log("hiding!"),console.log("teamIds: "+n.collectTeamIds()),console.log("submissionIds: "+n.collectSubmissionIds())},n.onUnhideSubmissions=function(){console.log("unhiding!"),console.log("teamIds: "+n.collectTeamIds()),console.log("submissionIds: "+n.collectSubmissionIds())},n.onSaveSettings=function(){var e=n.state;n.setState({isSavingCompetitionSettings:!0,validationPageMessages:[]},function(){var t=n.getValidationPageMessages();if(t.filter(function(e){return e.type="error"}).length>0)return void n.setState({isSavingCompetitionSettings:!1,validationPageMessages:t});a.Competitions.saveSettings({id:n.props.competitionId},{title:e.updatedCompetitionTitle,slug:e.updatedCompetitionSlug,briefDescription:e.updatedBriefDescription,hostSegment:e.selectedCategory,competitionType:"prediction",useKernels:!1,organizationId:e.selectedOrganizationId,deadline:c.utc(e.updatedDeadline).toDate(),maxTeamSize:parseInt(e.updatedMaxTeamSize),allowTeamMergers:e.updatedAllowTeamMergers,allowAnonymousTeams:e.updatedAllowAnonymousTeams,maxDailySubmissions:parseInt(e.updatedMaxDailySubmissions),numScoredPrivateSubmissions:parseInt(e.updatedScoredPrivateSubmissions),countsTowardsRanking:e.updatedCountsTowardsRanking,countsTowardsTiers:e.updatedCountsTowardsTiers}).then(function(e){var t=e;n.setState({isSavingCompetitionSettings:!1},function(){t.errors?(o.PageMessages.clear(),t.errors.map(function(e){o.PageMessages.error(e)})):(o.PageMessages.clear(),e.competitionSlug!==n.props.competitionSlug&&window.history.replaceState({},null,"/c/"+e.competitionSlug+"/"+n.props.activePane),e.competitionTitle!==n.props.competitionTitle&&(document.title=e.competitionTitle+" | Kaggle"),e.competitionId===n.props.competitionId?(n.props.onCompetitionPropsChanged(e),o.PageMessages.success("Settings saved successfully.")):o.PageMessages.success("Settings saved successfully. You may need to refresh to see your changes."))})})})},n.activeHostTab=window.location.hash.replace("#","")||n.defaultHostTab,n.state={activeHostTab:n.activeHostTab,isLoadingAllTeams:!0,isLoadingSubmissions:!1,selectedCategory:e.hostSegment,selectedOrganizationId:e.organizationId||null,teams:[],unlimitedTeamSize:!e.maxTeamSize,updatedAllowAnonymousTeams:e.allowAnonymousTeams,updatedCountsTowardsRanking:e.countsTowardsRanking,updatedCountsTowardsTiers:e.countsTowardsTiers,updatedAllowTeamMergers:e.allowTeamMergers,updatedCompetitionTitle:e.competitionTitle,updatedCompetitionSlug:e.competitionSlug,updatedBriefDescription:e.briefDescription,updatedMaxDailySubmissions:e.maxDailySubmissions.toString(),updatedMaxTeamSize:e.maxTeamSize?e.maxTeamSize.toString():"",updatedScoredPrivateSubmissions:e.numScoredSubmissions.toString(),useTitleForSlug:!0,validationPageMessages:[],updatedDeadline:c.utc(e.deadline),teamFilter:""},n.helperProps={onHostTabChanged:n.onHostTabChanged,onChangeBriefDescription:n.onChangeBriefDescription,onChangeCompetitionSlug:n.onChangeCompetitionSlug,onChangeCompetitionTitle:n.onChangeCompetitionTitle,onChangeMaxDailySubmissions:n.onChangeMaxDailySubmissions,onChangeMaxTeamSize:n.onChangeMaxTeamSize,onChangeScoredPrivateSubmissions:n.onChangeScoredPrivateSubmissions,onSaveSettings:n.onSaveSettings,onSelectCategory:n.onSelectCategory,onSelectOrganization:n.onSelectOrganization,onToggleAllowAnonymousTeams:n.onToggleAllowAnonymousTeams,onToggleCountsTowardsRanking:n.onToggleCountsTowardsRanking,onToggleCountsTowardsTiers:n.onToggleCountsTowardsTiers,onToggleAllowTeamMergers:n.onToggleAllowTeamMergers,onToggleUnlimitedTeamSize:n.onToggleUnlimitedTeamSize,getOrganizations:n.getOrganizations,onChangeDeadline:n.onChangeDeadline,onSelectTeam:n.onSelectTeam,onExpandTeam:n.onExpandTeam,onChangeTeamFilter:n.onChangeTeamFilter,onSearchTeams:n.onSearchTeams,onClearTeamFilter:n.onClearTeamFilter,onSelectSubmission:n.onSelectSubmission,onDeselectAll:n.onDeselectAll,onCollapseAll:n.onCollapseAllTeams,onDownloadSubmissions:n.onDownloadSubmissions,onRescoreSubmissions:n.onRescoreSubmissions,onInvalidateSubmissions:n.onInvalidateSubmissions,onHideSubmissions:n.onHideSubmissions,onUnhideSubmissions:n.onUnhideSubmissions},n.updateUrlForTab(n.activeHostTab,!0),n}return i.__extends(n,t),n.prototype.componentDidMount=function(){this.getTeams()},n.prototype.getValidationPageMessages=function(e){var t=this;return this.validationRules.filter(function(n){return!n.isValid()&&(!e||n.alwaysValidate||t.state.validationPageMessages.filter(function(e){return e.id==n.id}).length>0)}).map(function(e){return{type:e.isWarning?"warning":"error",id:e.id,message:e.message?e.message():null,htmlMessage:e.htmlMessage?e.htmlMessage():null}})},n.prototype.clearFixedValidations=function(){var e=this;this.setState({validationPageMessages:this.getValidationPageMessages(!0)},function(){o.PageMessages.clear(),o.PageMessages.add(e.state.validationPageMessages)})},n.prototype.collectTeamIds=function(){for(var e=[],t=0,n=this.state.teams;t<n.length;t++){var a=n[t];a.isChecked&&e.push(a.id)}return e},n.prototype.collectSubmissionIds=function(){for(var e=[],t=0,n=this.state.teams;t<n.length;t++){var a=n[t];if(!a.isChecked&&a.isPartiallyChecked)for(var i=0,s=a.submissions;i<s.length;i++){var o=s[i];o.isChecked&&e.push(o.id)}}return e},n.prototype.createHiddenFormField=function(e,t){var n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t),n},n.prototype.render=function(){return e.createElement(s.default,i.__assign({},this.props,this.helperProps,this.state))},n}(e.Component);t.CompetitionHostContainer=p}).call(t,n(0),n(34))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHostChecklistState=function(e){return{isCompetitionPending:e.isCompetitionPending,submitCompetitionUrl:e.submitCompetitionUrl,children:e.hostChecklist}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(215),s=n(114),o=n(410),r=n(6),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderHeaderImageUploader=function(){var t=this.props,n=t.competitionHeaderImageUrl,a=t.onToggleImageUploader,r=t.onUploadCompetitionImage,l=t.isAddingHeaderImage;return e.createElement(s.Modal,{modalContent:e.createElement(i.ImageUploader,{uploaderKey:"Header",title:"Upload a Competition Image",imageSettings:[new i.ImageSetting("cover image","Select an area of the image to use as the cover image for this competitions’s homepage",new i.Size(950,200),new i.Rectangle(new i.Point(0,0),new i.Size(100,100)))],originalImageUrl:n,containerSize:new i.Size(500,300),selectorBorderWidth:1,onCancel:function(){return a(o.CompetitionImageType.Header)},onUpdateImages:r,hiResScale:2,step1Html:"Upload an image by clicking the button below. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images."}),modalIsShown:l,onShow:null,onClose:function(){return a(o.CompetitionImageType.Header)}})},n.prototype.renderThumbnailImageUploader=function(){var t=this.props,n=(t.competitionThumbnailImageUrl,t.onToggleImageUploader),a=t.onUploadCompetitionImage,r=t.isAddingThumbnailImage;return e.createElement(s.Modal,{modalContent:e.createElement(i.ImageUploader,{uploaderKey:"Thumbnail",title:"Upload a Competition Image",imageSettings:[new i.ImageSetting("thumbnail","Select an area of the image to use as a thumbnail for this competition",new i.Size(200,200),new i.Rectangle(new i.Point(0,0),new i.Size(100,100)))],originalImageUrl:null,containerSize:new i.Size(500,300),selectorBorderWidth:1,onCancel:function(){return n(o.CompetitionImageType.Thumbnail)},onUpdateImages:a,hiResScale:2,step1Html:"Upload an image by clicking the button below. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images."}),modalIsShown:r,onShow:null,onClose:function(){return n(o.CompetitionImageType.Thumbnail)}})},n.prototype.renderFrontPageImageUploader=function(){var t=this.props,n=t.competitionFrontPageImageUrl,a=t.onToggleImageUploader,r=t.onUploadCompetitionImage,l=t.isAddingFrontPageImage;return e.createElement(s.Modal,{modalContent:e.createElement(i.ImageUploader,{uploaderKey:"FrontPage",title:"Upload a Competition Image",imageSettings:[new i.ImageSetting("front page image","Select an area of the image to use as the listing image for this competition",new i.Size(426,200),new i.Rectangle(new i.Point(0,0),new i.Size(100,100)))],originalImageUrl:n,containerSize:new i.Size(500,300),selectorBorderWidth:1,onCancel:function(){return a(o.CompetitionImageType.FrontPage)},onUpdateImages:r,hiResScale:2,step1Html:"Upload an image by clicking the button below. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images."}),modalIsShown:l,onShow:null,onClose:function(){return a(o.CompetitionImageType.FrontPage)}})},n.prototype.render=function(){var t=this.props,n=(t.competitionHasEnded,t.competitionHasLaunched,t.competitionHeaderImageUrl),a=t.competitionThumbnailImageUrl,i=t.competitionFrontPageImageUrl,s=t.onToggleImageUploader;return e.createElement("div",{className:"competition-settings__section"},e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label",htmlFor:"competition-images"},"Images"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("a",{onClick:function(){return s(o.CompetitionImageType.Header)},className:"competition__text-link"},e.createElement("span",{className:"fa fa-camera"})," Upload Competition Header Image (1900x400)"),e.createElement("div",{className:"competition-host__preview-image"},e.createElement("img",{src:n,alt:"Header Image",className:"competition-host__preview-image-header"})),e.createElement("a",{onClick:function(){return s(o.CompetitionImageType.Thumbnail)},className:"competition__text-link"},e.createElement("span",{className:"fa fa-camera"})," Upload Competition Listing Image (400x400)"),e.createElement("div",{className:"competition-host__preview-image"},e.createElement("img",{src:a,alt:"Listing Image",className:"competition-host__preview-image-thumbnail"})),r.Current.isAdmin&&e.createElement("div",null,e.createElement("a",{onClick:function(){return s(o.CompetitionImageType.FrontPage)},className:"competition__text-link"},e.createElement("span",{className:"fa fa-camera"})," Upload Legacy Competition Image (426x200)"),e.createElement("div",{className:"competition-host__preview-image"},e.createElement("img",{src:i,alt:"Legacy Competition Image",className:"competition-host__preview-image-legacy"})))))),this.renderHeaderImageUploader(),this.renderThumbnailImageUploader(),this.renderFrontPageImageUploader())},n}(e.Component);t.CompetitionHostImages=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(169),s=n(50),o=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.hostPageNames=["launch-checklist","settings","images","all-submissions"],e}return a.__extends(n,t),n.prototype.render=function(){for(var t=this,n=[],a=0,o=this.hostPageNames;a<o.length;a++){var r=o[a],l="/c/"+this.props.competitionSlug+"/host#"+r;n.push(s.buildLink(r,i.deslugify(r),l))}return e.createElement("div",{className:"competition-host__nav-wrapper"},e.createElement("nav",{className:"competition-host__nav"},n.map(function(n,a){return e.createElement("a",{className:t.props.activeHostTab==n.title?"competition-host__nav-item--selected":"competition-host__nav-item",href:n.href,key:"competition-host-nav-"+a,onClick:function(e){return t.props.onHostTabChanged(n.title,e)},title:n.title},n.text)})))},n}(e.Component);t.CompetitionHostNav=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=n(111),o=n(6),r=n(99),l=n(63),c=n(281),p=n(44),u=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderOrganization=function(t){return e.createElement("div",{className:"competition-creator__org-select-item"},t.thumbnailUrl&&e.createElement("img",{className:"competition-creator__org-select-item-thumbnail",src:t.thumbnailUrl,alt:t.label+" organization thumbnail"}),e.createElement("p",null,t.label))},n}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.updatedDeadline,a=t.getOrganizations,u=t.isSavingCompetitionSettings,d=t.onChangeBriefDescription,m=t.onChangeCompetitionSlug,h=t.onChangeCompetitionTitle,g=t.onChangeDeadline,f=t.onChangeMaxDailySubmissions,v=t.onChangeMaxTeamSize,_=t.onChangeScoredPrivateSubmissions,b=t.onSaveSettings,E=t.onSelectCategory,y=t.onSelectOrganization,C=t.onToggleAllowAnonymousTeams,w=t.onToggleCountsTowardsRanking,S=t.onToggleCountsTowardsTiers,N=t.onToggleAllowTeamMergers,T=t.onToggleUnlimitedTeamSize,k=t.selectedCategory,M=t.selectedOrganizationId,x=t.unlimitedTeamSize,I=t.updatedAllowAnonymousTeams,D=t.updatedCountsTowardsRanking,P=t.updatedCountsTowardsTiers,U=t.updatedAllowTeamMergers,O=t.updatedCompetitionTitle,A=t.updatedCompetitionSlug,L=t.updatedBriefDescription,R=t.updatedMaxDailySubmissions,F=t.updatedMaxTeamSize,B=t.updatedScoredPrivateSubmissions,V=(t.useTitleForSlug,t.validationPageMessages),j=this.props.hostSegments;return e.createElement("div",{className:"competition-settings__section"},e.createElement("h1",{className:"competition-setting__divider-heading"},"Basics"),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Title"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("input",{className:"competition-setting__field-control-input",onChange:h,value:O}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Competition URL"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-control-inline"},e.createElement("label",{className:"competition-setting__field-inline-label"},"http://www.kaggle.com/c/"),e.createElement(r.InlineTextEditor,{className:"competition-setting__field-control-input",rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(e){return m(e)},placeholder:"your-unique-url",value:A})))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Brief Description"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("input",{className:"competition-setting__field-control-input",onChange:d,value:L}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Organization"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(l.SelectBoxAsync,{className:"competition-setting__field-dropdown",loadOptions:a,onChange:y,optionRenderer:this.renderOrganization,placeholder:"Search Organizations...",value:M?M.toString():"",valueRenderer:this.renderOrganization}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Category"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement(l.SelectBox,{className:"competition-setting__field-dropdown",onChange:E,options:j,placeholder:"Select Category...",value:k}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Deadline"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-centered",style:{maxWidth:"264px"}},e.createElement(c.DateTimePicker,{isValidDate:function(e){return e.isAfter(p.utc().subtract(1,"day"))},value:n,onChange:g})))),e.createElement("h1",{className:"competition-setting__divider-heading"},"Teams"),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Max Team Size"),e.createElement("div",{className:"competition-setting__field-control-row"},e.createElement("input",{className:"competition-setting__field-control-input competition-setting__field-control-input--short-number",maxLength:5,onChange:v,value:F}),e.createElement("div",{className:"competition-setting__field-checkbox-modifier"},e.createElement(s.Checkbox,{text:"Unlimited",textIsClickable:!0,isChecked:x,isEditable:!0,onChange:T})))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Team Mergers"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-checkbox"},e.createElement(s.Checkbox,{text:"Allow Team Mergers",textIsClickable:!0,isChecked:U,isEditable:!0,onChange:N})))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Anonymous Teams"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-checkbox"},e.createElement(s.Checkbox,{text:"Allow Anonymous Teams",textIsClickable:!0,isChecked:I,isEditable:!0,onChange:C})))),e.createElement("h1",{className:"competition-setting__divider-heading"},"Submissions"),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Maximum Daily Submissions"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("input",{className:"competition-setting__field-control-input competition-setting__field-control-input--short-number",onChange:f,value:R}))),e.createElement("div",{className:"competition-setting__field-group"},e.createElement("label",{className:"competition-setting__field-label"},"Scored Private Submissions"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("input",{className:"competition-setting__field-control-input competition-setting__field-control-input--short-number",onChange:_,value:B}))),o.Current.isAdmin&&e.createElement("h1",{className:"competition-setting__divider-heading"},"Points"),o.Current.isAdmin&&e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Ranking"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-checkbox"},e.createElement(s.Checkbox,{text:"Counts Toward Ranking",textIsClickable:!0,isChecked:D,isEditable:!0,onChange:w})))),o.Current.isAdmin&&e.createElement("div",{className:"competition-setting__field-group"},e.createElement("h2",{className:"competition-setting__field-label"},"Tiers"),e.createElement("div",{className:"competition-setting__field-control-column"},e.createElement("div",{className:"competition-setting__field-checkbox"},e.createElement(s.Checkbox,{text:"Counts Toward Tiers",textIsClickable:!0,isChecked:P,isEditable:!0,onChange:S})))),e.createElement("div",{className:"competition-settings__save-button-wrapper"},e.createElement("div",{className:"competition-settings__save-button"},e.createElement(i.ButtonAutoWidth,{isDisabled:V.length>0,onClick:b,text:"Save Competition"}),u&&e.createElement("div",{className:"competition-settings__save-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))))},n}(e.Component);t.CompetitionHostSettings=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),s=n(6),o=n(114),r=n(165),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"competition-kernels"},this.props.hasKernelsEnabled&&!s.Current.hasMultipleDataSources?e.createElement("div",{className:"competition-kernels__actions"},e.createElement("p",{className:"competition-kernels__action-text"},"Create kernels to experiment with this competition's data and share your techniques."),e.createElement("div",{className:"competition-kernels__calls-to-action"},e.createElement("a",{className:"competition-kernels__call-to-action",onClick:this.props.hasAcceptedRules?function(){}:function(){return t.props.onCompetitionStateChanged("showRulesModal",!0)},href:this.props.hasAcceptedRules?this.props.newNotebookUrl:null},"New Notebook"),e.createElement("a",{className:"competition-kernels__call-to-action",onClick:this.props.hasAcceptedRules?function(){}:function(){return t.props.onCompetitionStateChanged("showRulesModal",!0)},href:this.props.hasAcceptedRules?this.props.newScriptUrl:null},"New Script"))):null,e.createElement(r.ScriptList,{listTitle:"Kernels",banner:!1,showFilters:!0,sourceBaseUrl:"/kernels/c/"+this.props.competitionId+"/",languagesMetadataUrl:"/kernels/alllang",outputTypesMetadataUrl:"/kernels/allouttypes",loginAndReturnUrl:"/account/login",newNotebookUrl:null,newScriptUrl:null,showScriptProjectName:!1,showHiddenSelectionGroup:this.props.canEdit}),e.createElement(o.Modal,{onClose:function(){return t.props.onCompetitionStateChanged("showRulesModal",!1)},onShow:function(){},modalIsShown:this.props.showRulesModal&&!this.props.hasAcceptedRules},e.createElement("div",{className:"competition-rules__acceptance"},e.createElement("p",{className:"competition-rules__acceptance-text"},'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound with the above rules.'),e.createElement("div",{className:"competition-rules__acceptance-actions"},e.createElement("a",{className:"competition-rules__decline",onClick:function(){return t.props.onCompetitionStateChanged("showRulesModal",!1)}},"I Do Not Accept"),e.createElement(i.ButtonAutoWidth,{classNames:"competition-rules__accept",onClick:function(){return t.props.onAcceptCompetitionRules()},text:"I Understand and Accept"})))))},n}(e.Component);t.CompetitionKernels=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(69),s=n(7),o=n(19),r=n(83),l=n(24),c=n(36),p=n(1057),u=n(928),d=function(t){function n(n){var a=t.call(this,n)||this;return a.renderLeaderboardItem=function(t,n,s,l){var c=t.rank&&s===t.rank,u=[],d=t.teamMembers.length-4>1,m=[];d?(u=t.teamMembers.slice(0,3),m=t.teamMembers.slice(3)):u=t.teamMembers;var h=t.rank&&!a.props.disablePrizeIndicator&&t.rank<=a.props.numPrizes&&a.props.rewardQuantity>0,g=!(!t.medal||!a.props.countsTowardsTiers)&&t.medal;return e.createElement("tr",{className:(t.rank?"competition-leaderboard__row":"competition-leaderboard__benchmark-row")+" "+(c&&a.isScoredOverlay()&&"competition-leaderboard__row--user-scored")+" "+(g?"competition-leaderboard__row--medal-"+g:"")+" "+(h?"competition-leaderboard__row--in-the-money":""),key:"leaderboard-row-"+n},c&&a.renderUserOverlay(t,l),c&&e.createElement("td",null,e.createElement("a",{href:"#score",id:"score"})),e.createElement("td",{className:"competition-leaderboard__td-rank","data-th":"Rank"},t.rank?t.rank:e.createElement("span",{className:"fa fa-map-marker"})),e.createElement("td",{className:"competition-leaderboard__td-change","data-th":"Change"},t.rank?e.createElement(p.PositionChange,{change:t.change}):null),e.createElement("td",{className:t.medal&&a.props.countsTowardsTiers?"competition-leaderboard__td-team--"+t.medal:"competition-leaderboard__td-team","data-th":"Team Name",title:t.teamName},e.createElement("span",null,t.teamName)),e.createElement("td",{className:"competition-leaderboard__td-kernel","data-th":"Kernel"},t.sourceKernelUrl&&t.sourceKernelName?e.createElement("a",{className:t.rank?"competition-leaderboard__td-kernel-link":"competition-leaderboard__td-benchmark-kernel-link",href:t.sourceKernelUrl,title:t.sourceKernelName},e.createElement("span",{className:"fa fa-code"}),t.sourceKernelName):null),e.createElement("td",{className:"competition-leaderboard__td-members","data-th":"Team Members"},u.map(function(t,n){return e.createElement("span",{className:"competition-leaderboard__team-member",key:"team-member-"+n},e.createElement(i.Avatar,{displayName:t.displayName,tierMargin:1e-4,tier:t.tier,thumbnailUrl:t.thumbnailUrl,userUrl:t.profileUrl,width:25}))}),d?e.createElement(r.ToolTip,{tipText:""+m.map(function(e){return e.displayName}).join(", ")},e.createElement("a",{className:"competition-leaderboard__team-more-button"},"+",m.length)):null),e.createElement("td",{className:"competition-leaderboard__td-score","data-th":"Score"},c&&a.props.mostRecentSubmissionStatus&&"pending"==a.props.mostRecentSubmissionStatus.submissionStatus?"Processing":t.score),e.createElement("td",{className:"competition-leaderboard__td-entries","data-th":"Number of Entries"},t.rank?t.entries:null),e.createElement("td",{className:"competition-leaderboard__td-last","data-th":"Last Entry"},t.rank?e.createElement(o.TimeAgo,{time:t.lastSubmission,condense:!0,hideAgo:!0}):null))},a.leaderboardNavItems=[{title:"Public",text:"Public Leaderboard",tab:"Public"},{title:"Private",text:"Private Leaderboard",tab:"Private"}],a}return a.__extends(n,t),n.prototype.componentWillMount=function(){this.props.competitionHasLaunched&&this.props.competitionHasEnded&&!this.props.finalLeaderboardHasBeenVerified&&(l.PageMessages.clear(),this.props.witholdFinalLeaderboardUntilItHasBeenVerified?l.PageMessages.warning("This competition has completed. The results will become available after they're verified by the competition organizers."):l.PageMessages.warning("This competition has completed. This leaderboard reflects preliminary final standings. The result will become final after the competition organizers verify the results."))},n.prototype.areContiguous=function(e,t,n){return e.length>0&&t.length>0&&e.slice(-1)[0].rank+1===t[0].rank||n&&n.length>0&&e.slice(-1)[0].rank+1===n[0].rank},n.prototype.renderLeaderboardHeader=function(){var t=this,n=this.props.activeLeaderboardTab;return e.createElement("nav",{className:"competition-leaderboard__nav"},this.leaderboardNavItems.map(function(a,i){return e.createElement("a",{className:n==a.tab?"competition-leaderboard__nav-item--selected":"competition-leaderboard__nav-item",key:"leaderboard-nav-"+i,onClick:function(){return t.props.onLeaderboardTabChanged(a.tab)},title:a.title+" Leaderboard"},a.text)}))},n.prototype.isScoredOverlay=function(){return this.props.mostRecentSubmissionStatus&&"complete"==this.props.mostRecentSubmissionStatus.submissionStatus},n.prototype.renderUserOverlay=function(t,n){var a=this.props,i=a.publicData,s=a.scoringIsMax,o=this.props.getUserScore(i),r=this.props.mostRecentSubmissionStatus&&this.props.mostRecentSubmissionStatus.previousBestPublicScoreFormatted,l=!s&&r>o||s&&o>r,p=this.props.mostRecentSubmissionStatus?this.props.previousRank-this.props.mostRecentSubmissionStatus.rank:0;return this.isScoredOverlay()&&"Private"!=n?l?e.createElement("td",{className:"competition-leaderboard__row-user-overlay competition-leaderboard__row-user-overlay--better"},e.createElement("div",{className:"competition-leaderboard__row-user-overlay-description"},e.createElement("div",{className:"competition-leaderboard__row-user-overlay-title"},"Your Best Entry ",e.createElement("i",{className:"fa fa-arrow-up"})),p>0?e.createElement("p",null,"You advanced ",e.createElement(c.Pluralize,{word:"place",count:p,formatNumber:!0})," on the leaderboard!"):null,e.createElement("div",null,"Your submission scored ",this.props.mostRecentSubmissionStatus.publicScoreFormatted,r?e.createElement("span",null,", which is an improvement of"):null,"your previous score of ",r,". Great job!",e.createElement(u.LeaderboardTweet,{competitionUrl:"https://kaggle.com"+this.props.competitionUrl,positionChange:t.change,userRank:t.rank})))):e.createElement("td",{className:"competition-leaderboard__row-user-overlay competition-leaderboard__row-user-overlay--worse"},e.createElement("div",{className:"competition-leaderboard__row-user-overlay-description"},e.createElement("div",{className:"competition-leaderboard__row-user-overlay-title"},"Your Best Entry ",e.createElement("i",{className:"fa fa-arrow-up"})),e.createElement("div",null,"Your submission scored ",this.props.mostRecentSubmissionStatus.publicScoreFormatted,", which is not an improvement of your best score. Keep trying!"))):e.createElement("td",{className:"competition-leaderboard__row-user-overlay"})},n.prototype.renderLoadMoreButton=function(t,n,a,i){var s=n-t;return s>0&&e.createElement("tr",{className:"competition-leaderboard__load-more-wrapper"},e.createElement("td",{onClick:a,className:"competition-leaderboard__load-more-button"},e.createElement("span",{className:"competition-leaderboard__load-more-numbers"},t,"-",n),e.createElement("span",{className:"competition-leaderboard__load-more-count"},e.createElement("i",{className:"fa fa-plus-square"})," Load ",s+1," More"),i?e.createElement("span",{className:"competition-leaderboard__loading-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null))},n.prototype.renderLeaderboardItems=function(t,n){var a=this,i=t.beforeUser,s=t.nearUser,o=t.afterUser,r=t.userRanking;return r?e.createElement("tbody",null,i.map(function(e,t){return a.renderLeaderboardItem(e,t,r,n)}),i.length>0&&!this.areContiguous(i,s,o)&&this.renderLoadMoreButton(i.length+1,s[0].rank-1,function(){return a.props.onLoadBeforeUser(n)},"Private"==n?this.props.isLoadingBeforeUserPrivate:this.props.isLoadingBeforeUserPublic),s.map(function(e,t){return a.renderLeaderboardItem(e,t,r,n)}),s.length>0&&!this.areContiguous(s,o,null)&&this.renderLoadMoreButton(s.slice(-1)[0].rank+1,t.totalRankings,function(){return a.props.onLoadAfterUser(n)},"Private"==n?this.props.isLoadingAfterUserPrivate:this.props.isLoadingAfterUserPublic),o.map(function(e,t){return a.renderLeaderboardItem(e,t,r,n)})):e.createElement("tbody",null,i.map(function(e,t){return a.renderLeaderboardItem(e,t,r,n)}),i.length>0&&!this.areContiguous(i,s,o)&&this.renderLoadMoreButton(i.length+1,t.totalRankings,function(){return a.props.onLoadBeforeUser(n)},"Private"==n?this.props.isLoadingBeforeUserPrivate:this.props.isLoadingBeforeUserPublic),o.map(function(e,t){return a.renderLeaderboardItem(e,t,r,n)}))},n.prototype.renderLeaderboard=function(t,n,a){return e.createElement("table",{className:"competition-leaderboard__table"},e.createElement("thead",null,e.createElement("tr",{className:"competition-leaderboard__header-row"},e.createElement("th",{className:"competition-leaderboard__th-rank",title:"Rank"},"#"),e.createElement("th",{className:"competition-leaderboard__th-change",title:"Private"==a&&this.props.privateLeaderboardIsPublic?"Change from public rank":this.props.privateLeaderboardIsPublic?"Change from private rank":"Change from last week"},"Private"==a&&this.props.privateLeaderboardIsPublic?"△pub":this.props.privateLeaderboardIsPublic?"△priv":"△1w"),e.createElement("th",{className:"competition-leaderboard__th-team",title:"Team Name"},"Team Name"),e.createElement("th",{className:"competition-leaderboard__th-kernel",title:"Kernel"},"Kernel"),e.createElement("th",{className:"competition-leaderboard__th-members",title:"Team Members"},"Team Members"),e.createElement("th",{className:"competition-leaderboard__th-score",title:"Score"},e.createElement(r.ToolTip,{tipText:this.props.evaluationAlgorithm.name},e.createElement("span",null,"Score",e.createElement("span",{className:"competition-leaderboard__th-score-q"},e.createElement("span",{className:"fa fa-question-circle"}))))),e.createElement("th",{className:"competition-leaderboard__th-entries",title:"Number of Entries"},"Entries"),e.createElement("th",{className:"competition-leaderboard__th-last",title:"Last Submission"},"Last"))),n?e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{className:"competition-leaderboard__loading-text"},e.createElement("span",{className:"competition-leaderboard__loading-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})),"Fetching the latest data. Hold tight!"))):t.submissions&&t.submissions.length?this.renderLeaderboardItems(t,a):e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{className:"competition-leaderboard__loading-text"},"There are currently no entries for this competition"))))},n.prototype.renderLegends=function(){var t=!this.props.disablePrizeIndicator&&this.props.rewardQuantity>0,n=this.props.countsTowardsTiers;return e.createElement("div",{className:"competition-leaderboard__legends"},t&&e.createElement("div",{className:"competition-leaderboard__legend competition-leaderboard__legend--in-the-money"},"In the money"),n&&[e.createElement("div",{className:"competition-leaderboard__legend competition-leaderboard__legend--gold"},"Gold"),e.createElement("div",{className:"competition-leaderboard__legend competition-leaderboard__legend--silver"},"Silver"),e.createElement("div",{className:"competition-leaderboard__legend competition-leaderboard__legend--bronze"},"Bronze")])},n.prototype.render=function(){var t=this,n=100-this.props.leaderboardPercentage+"%",a=this.props.leaderboardPercentage+"%";!!this.props.deadline&&(new Date(this.props.deadline.toString()).getTime(),(new Date).getTime());return e.createElement("div",{className:"competition-leaderboard",style:{display:"leaderboard"!=this.props.activePane?"none":""}},e.createElement(s.ContentBox,{title:this.renderLeaderboardHeader()},"Private"==this.props.activeLeaderboardTab?e.createElement("div",null,e.createElement("div",{className:"competition-leaderboard__message"},e.createElement("div",{className:"competition-leaderboard__note"},this.props.privateLeaderboardMessage?this.props.privateLeaderboardMessage:100-this.props.leaderboardPercentage==0?e.createElement("p",null,"The private leaderboard is calculated over the same rows as the public leaderboard in this competition."):100-this.props.leaderboardPercentage==100?e.createElement("p",null,"The private leaderboard is calculated with all of the test data"):e.createElement("p",null,"The private leaderboard is calculated with approximately ",n," of the test data."),this.props.finalLeaderboardHasBeenVerified?e.createElement("p",null,"This competition has completed. This leaderboard reflects the final standings."):null),this.props.allowPrivateLeaderboardDisplay?e.createElement("a",{className:"competition-leaderboard__refresh",onClick:function(){return t.props.triggerPrivateLeaderboardReload()}},e.createElement("span",{className:"competition-leaderboard__refresh-icon"},e.createElement("span",{className:"fa fa-refresh"})),e.createElement("span",null,"Refresh")):null),this.renderLegends(),this.props.allowPrivateLeaderboardDisplay?this.renderLeaderboard(this.props.privateData,this.props.isLoadingPrivateData,"Private"):e.createElement("div",{className:"competition-leaderboard__private-message"},e.createElement("div",{className:"competition-leaderboard__private-image"},e.createElement("span",{className:"fa fa-trophy"})),e.createElement("h3",{className:"competition-leaderboard__private-header"},"The private leaderboard will be available after the competition ends."),e.createElement("div",{className:"competition-leaderboard__private-text"},"Your team, rank, and medal will display here after the competition closes. Compete to build your reputation, complement your resume, and explore your data science future."))):e.createElement("div",null,e.createElement("div",{className:"competition-leaderboard__message"},e.createElement("div",{className:"competition-leaderboard__note"},this.props.publicLeaderboardMessage?this.props.publicLeaderboardMessage:0==this.props.leaderboardPercentage?e.createElement("p",null,"This leaderboard is identical to the private leaderboard in this competition."):100==this.props.leaderboardPercentage?e.createElement("p",null,"This leaderboard is calculated with all of the test data."):e.createElement("div",null,e.createElement("p",null,"This leaderboard is calculated with approximately ",a," of the test data."),e.createElement("p",null,"The final results will be based on the other ",n,", so the final standings may be different."))),e.createElement("div",{className:"competition-leaderboard__actions"},this.props.rawDataUrl?e.createElement("a",{className:"competition-leaderboard__download-raw-data",href:this.props.rawDataUrl},"Raw Data"):null,e.createElement("a",{className:"competition-leaderboard__refresh",onClick:function(){return t.props.triggerPublicLeaderboardReload()}},e.createElement("span",{className:"competition-leaderboard__refresh-icon"},e.createElement("span",{className:"fa fa-refresh"})),e.createElement("span",null,"Refresh")))),this.renderLegends(),this.renderLeaderboard(this.props.publicData,this.props.isLoadingPublicData,"Public"))))},n}(e.Component);t.CompetitionLeaderboard=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(926),r=function(t){function n(e){var n=t.call(this,e)||this;n.getUserScore=function(e){var t=e.nearUser&&e.nearUser.filter(function(t){return t.rank===e.userRanking})[0];return t&&t.score},n.triggerPublicLeaderboardReload=function(){n.setState({isLoadingPublicData:!0},function(){return n.fetchPublicLeaderboard()})},n.triggerPrivateLeaderboardReload=function(){n.setState({isLoadingPrivateData:!0},function(){return n.fetchPrivateLeaderboard()})},n.fetchPublicLeaderboard=function(){var e=n.state,t=e.includeBeforeUserPublic,s=e.includeAfterUserPublic,o=a.Deferred();return i.ajax({context:n,url:"/c/"+n.props.competitionId+"/leaderboard.json?includeBeforeUser="+t+"&includeAfterUser="+s,method:"GET",success:function(e){n.setState({publicData:e,isLoadingPublicData:!1,isLoadingBeforeUserPublic:!1,isLoadingAfterUserPublic:!1},function(){o.resolve()})},error:function(){return n.setState({publicData:{submissions:[]},isLoadingPublicData:!1,isLoadingBeforeUserPublic:!1,isLoadingAfterUserPublic:!1})}}),o},n.fetchPrivateLeaderboard=function(){var e=n.state,t=e.includeBeforeUserPrivate,s=e.includeAfterUserPrivate,o=a.Deferred();return i.ajax({context:n,url:"/c/"+n.props.competitionId+"/leaderboard.json?includeBeforeUser="+t+"&includeAfterUser="+s+"&type=private",method:"GET",success:function(e){n.setState({privateData:e,isLoadingPrivateData:!1,isLoadingBeforeUserPrivate:!1,isLoadingAfterUserPrivate:!1},function(){o.resolve()})},error:function(){return n.setState({privateData:{submissions:[]},isLoadingPrivateData:!1,isLoadingBeforeUserPrivate:!1,isLoadingAfterUserPrivate:!1})}}),o},n.onChangeTab=function(e){n.setState({activeLeaderboardTab:e})},n.onLoadBeforeUser=function(e){"Private"==e?n.setState({includeBeforeUserPrivate:!0,isLoadingBeforeUserPrivate:!0},n.fetchPrivateLeaderboard):n.setState({includeBeforeUserPublic:!0,isLoadingBeforeUserPublic:!0},n.fetchPublicLeaderboard)},n.onLoadAfterUser=function(e){"Private"==e?n.setState({includeAfterUserPrivate:!0,isLoadingAfterUserPrivate:!0},n.fetchPrivateLeaderboard):n.setState({includeAfterUserPublic:!0,isLoadingAfterUserPublic:!0},n.fetchPublicLeaderboard)};var s="Public";return n.props.competitionHasEnded&&(s="Private"),n.state={activeLeaderboardTab:s,isLoadingPublicData:!0,isLoadingPrivateData:!0,includeBeforeUserPublic:!1,includeBeforeUserPrivate:!1,includeAfterUserPublic:!1,includeAfterUserPrivate:!1},n}return s.__extends(n,t),n.prototype.componentDidMount=function(){this.fetchPublicLeaderboard(),this.props.allowPrivateLeaderboardDisplay&&this.fetchPrivateLeaderboard()},n.prototype.render=function(){var t={onLeaderboardTabChanged:this.onChangeTab,onLoadBeforeUser:this.onLoadBeforeUser,onLoadAfterUser:this.onLoadAfterUser,getUserScore:this.getUserScore,triggerPublicLeaderboardReload:this.triggerPublicLeaderboardReload,triggerPrivateLeaderboardReload:this.triggerPrivateLeaderboardReload};return e.createElement(o.CompetitionLeaderboard,s.__assign({},this.props,t,this.state))},n}(e.Component);t.CompetitionLeaderboardContainer=r}).call(t,n(0),n(3),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(94),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.topSpotMessages=["View's great from the top of the #kaggle leaderboard. #WishYouWereHere "+e.props.competitionUrl,"First. #kaggle - "+e.props.competitionUrl,"It's lonely here at the top. #kaggle - "+e.props.competitionUrl,'"Overfitting"? Nay, it\'s called #winning. #kaggle - '+e.props.competitionUrl],e.topTenMessages=["Hold my calls. Top 10 on #kaggle - "+e.props.competitionUrl,"Top 10 on #kaggle? Life can wait. "+e.props.competitionUrl,"All the teams above me are overfitting. #kaggle - "+e.props.competitionUrl,"Top 10 on #kaggle and I'm not even ensembling. "+e.props.competitionUrl,"Whether boosting or bagging, I'm top 10 and #bragging. #kaggle "+e.props.competitionUrl,"Top 10! Is this what they call #superintelligence? #kaggle "+e.props.competitionUrl,"Like the SVM, I intend to maximize my (winning) margins. #kaggle "+e.props.competitionUrl],e.firstSubmissionMessages=["I just made my first #kaggle submission to "+e.props.competitionUrl,"I am a giant nerd, but that's okay. #kaggle - "+e.props.competitionUrl,"Made my first #kaggle submission and all I got was this lousy tweet. "+e.props.competitionUrl,"You too should spend your free time on competitive predictive modeling. #kaggle - "+e.props.competitionUrl,"#MachineLearning: so easy I can do it. #kaggle - "+e.props.competitionUrl,"Why did nobody tell me #datascience was this easy? #kaggle - "+e.props.competitionUrl,"Doing my part to bring about the singularity. #MachineLearning #kaggle - "+e.props.competitionUrl,"Teaching robots to learn #MachineLearning #kaggle - "+e.props.competitionUrl,"Causing #superintelligence, one submission at a time #kaggle - "+e.props.competitionUrl,"No hyperplanes were harmed in the making of this submission. #kaggle - "+e.props.competitionUrl,"When not mining bitcoins, I prefer to waste computer cycles on #kaggle - "+e.props.competitionUrl,"#kaggle - because this RAM isn't going to use itself. "+e.props.competitionUrl,"#kaggle - spend even more time in front of a computer than you already do! "+e.props.competitionUrl,"Data scientist is the sexiest job of this century. *winks* #kaggle - "+e.props.competitionUrl],e.movedUpMessages=["Moved up "+e.props.positionChange+" "+i("spot",e.props.positionChange)+" "+e.props.competitionUrl,e.props.positionChange+" "+i("spot",e.props.positionChange)+" up, just a few more to go. #kaggle - "+e.props.competitionUrl,"Moved up "+e.props.positionChange+" "+i("spot",e.props.positionChange)+" on #kaggle. I'm not addicted. I can quit when I want. "+e.props.competitionUrl,"Jumped "+e.props.positionChange+" "+i("spot",e.props.positionChange)+" on #kaggle. I'll sleep when I'm dead. "+e.props.competitionUrl,"Moved up "+e.props.positionChange+" "+i("spot",e.props.positionChange)+". Soon the robots will have my job. #kaggle - "+e.props.competitionUrl,e.props.positionChange+" "+i("spot",e.props.positionChange)+" up. Is anybody else even trying? #kaggle - "+e.props.competitionUrl,e.props.positionChange+" "+i("place",e.props.positionChange)+" up. A small price to pay for my social life. #kaggle - "+e.props.competitionUrl,e.props.positionChange+" "+i("place",e.props.positionChange)+" up. Not unlike my electricity bill. #kaggle - "+e.props.competitionUrl,e.props.positionChange+" "+i("place",e.props.positionChange)+" up. Now accepting donations for more RAM. #kaggle - "+e.props.competitionUrl],e}return a.__extends(n,t),n.prototype.render=function(){var t,n=this.props,a=n.userRank,i=n.positionChange;if(!a)return null;t=1==a?this.topSpotMessages:a>=1&&a<=10?this.topTenMessages:i>=1?this.movedUpMessages:this.firstSubmissionMessages;var s=t[Math.floor(Math.random()*t.length)];return e.createElement("div",{className:"leaderboard-tweet__button-wrapper"},e.createElement("a",{className:"leaderboard-tweet__button",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(s),target:"_blank"},e.createElement("span",{className:"leaderboard-tweet__button-icon"},e.createElement("span",{className:"fa fa-twitter"})),e.createElement("span",{className:"leaderboard-tweet__button-text"},"Tweet this!")))},n}(e.Component);t.LeaderboardTweet=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1071),s=n(50),o=n(61),r=n(82),l=n(1070),c=n(1068),p=n(1069),u=n(5),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.scrollToTop=function(){if(window.innerWidth>=768){var e=this.navRef.getBoundingClientRect().top+window.scrollY-44;e<window.scrollY&&window.scrollTo(window.scrollX,e)}},n.prototype.render=function(){var t=this,n=this.props.activeOverviewTab.toLowerCase();return e.createElement("div",{ref:function(e){return t.navRef=e},className:"competition-overview__nav-wrapper"},e.createElement("nav",{className:"competition-overview__nav"},this.props.localPages.map(function(a,i){var o=a.name.replace(/-+/g," "),r="/c/"+t.props.competitionSlug+("overview"!=a.name?"#"+a.name:""),l=s.buildLink(a.name,o,r);return e.createElement("a",{className:(n==l.tab.toLowerCase()?"competition-overview__nav-item competition-overview__nav-item--selected":"competition-overview__nav-item")+(a.isPublished?"":" competition-overview__nav-item--unpublished"),href:l.href,key:"overview-nav-"+i,onClick:function(e){t.scrollToTop(),t.props.onOverviewTabChanged(l.tab,e)},id:"pageheader-nav-item--"+u.slugify(l.title),title:l.title},l.text)}),this.props.isEditingOverview?e.createElement("a",{className:"competition-overview__nav-add",onClick:function(){return t.props.onAddOverviewPage()}},e.createElement("span",{className:"fa fa-plus"})," Add Page"):null))},n}(e.Component),m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderCompetitionPage=function(t,n){var a=this,i=[{label:"HTML",value:o.mimeTypeToString(o.MarkdownConverterMimeTypes.Html)},{label:"Markdown",value:o.mimeTypeToString(o.MarkdownConverterMimeTypes.Markdown)}];return this.props.isEditingOverview?e.createElement("div",{key:"competition-overview-page-"+n},e.createElement("div",{className:"competition-overview__section-top"},e.createElement("div",{className:"competition-overview__section-meta"},e.createElement(u.InlineTextEditor,{className:"competition-overview__section-header-input",onChangeCallback:function(e){return a.props.onChangeOverviewPage(n,"name",e)},value:t.name}),e.createElement(u.SelectBox,{options:i,onChange:function(e){return a.props.onChangeOverviewPage(n,"mimeType",e.toString())},value:o.translateMimeType(t.mimeType),searchable:!1}),e.createElement("a",{className:"competition-overview__section-publish",onClick:function(){return a.props.onPublishOverviewPage(n)}},e.createElement("span",{className:"competition-overview__publish-checkbox fa "+(t.isPublished?"fa-check-square-o":"fa-square-o")})," Published?"),e.createElement("a",{className:"competition-overview__section-delete",onClick:function(){return a.props.onRemoveOverviewPage(n)}},e.createElement("span",{className:"fa fa-trash"})," Delete Page"))),e.createElement(u.MarkdownEditor,{alwaysShowToolbar:!0,shouldSanitizeHtml:!0,defaultValue:t.content?t.content:null,suffix:"-"+t.name,onChangeCallback:function(e){return a.props.onChangeOverviewPage(n,"content",e)},minRows:5,maxRows:15,renderPreview:function(n,a){return e.createElement(o.MarkdownConverter,{content:n,mimeType:t.mimeType?t.mimeType:null,insertNofollow:!0})},showPreview:this.props.showOverviewPreview})):e.createElement("div",{key:"competition-overview-page-"+n},t.isPublished?null:e.createElement("div",{className:"competition-overview__not-published"},"This page is currently not published. You're seeing this as an admin."),e.createElement(o.MarkdownConverter,{content:t.content?t.content:null,mimeType:t.mimeType?t.mimeType:null,insertNofollow:!0}))},n.prototype.renderLeaderboardTeaser=function(e,t){},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"competition-overview"},e.createElement(u.ContentBox,{title:"Overview",titleBarRightSide:this.props.canEdit||this.props.isCompetitionHost?[this.props.isEditingOverview?e.createElement("div",{className:"competition-overview__preview-button",key:"preview-button",onClick:function(){return t.props.toggleShowOverviewPreview()}},this.props.showOverviewPreview?"Edit":"Preview"):null,e.createElement(u.EditStateToggleButton,{isEditing:this.props.isEditingOverview,cancelCallback:function(){return t.props.onOverviewEditingStateCancelled()},cancelPropName:"overview",key:"edit-button",toggleCallback:function(){return t.props.onOverviewEditingStateChanged(t.props.isEditingOverview)},sectionName:"Overview"})]:null},e.createElement("div",{className:"competition-overview__nav-content-container",id:"competition-overview__nav-content-container"},e.createElement(d,a.__assign({},this.props)),e.createElement("div",{className:"competition-overview__content"},this.props.localPages.map(function(e,n){return t.props.activeOverviewTab.toLowerCase()==e.name.toLowerCase()?t.renderCompetitionPage(e,n):null})))),e.createElement("div",{className:"competition-overview__teasers"},e.createElement("div",{className:"competition-overview__teaser"},e.createElement(l.LeaderboardTeaser,{emptyListCreateNewUrl:this.props.newScriptUrl,emptyListMessage:"There are no competitors yet.",emptyListCreateNewText:"Be the first",listItems:this.props.leaderboardTeaser||[],listTitle:"Leaderboard",numItemsToShow:8,numPrizes:this.props.disablePrizeIndicator?0:this.props.numPrizes,onTitleClick:function(){return t.props.onCompetitionTabChanged("leaderboard")},rewardQuantity:this.props.rewardQuantity})),this.props.hasKernelsEnabled?e.createElement("div",{className:"competition-overview__teaser"},e.createElement(p.KernelsTeaser,{emptyListCreateNewUrl:this.props.newScriptUrl,emptyListMessage:"There are no kernels yet.",emptyListCreateNewText:"Be the first",listItems:this.props.kernelTeaser,listTitle:0===this.props.totalKernels?"Kernels":e.createElement(u.Pluralize,{word:"kernel",count:this.props.totalKernels,formatNumber:!0}),onTitleClick:function(){return t.props.onCompetitionTabChanged("kernels")}})):null,e.createElement("div",{className:"competition-overview__teaser"},e.createElement(c.DiscussionTeaser,{emptyListCreateNewAction:function(){return t.props.onCreateTopic()},emptyListMessage:"There are no topics yet.",emptyListCreateNewText:"Start one",listItems:this.props.discussionTeaser,listTitle:e.createElement(u.Pluralize,{word:"discussion topic",count:this.props.totalDiscussions,formatNumber:!0}),onTitleClick:function(){return t.props.onCompetitionTabChanged("discussion")}}))),e.createElement(u.ContentBox,null,this.props.dateEnabled&&this.props.deadline?e.createElement(i.HorizontalTimeline,{startDate:this.props.dateEnabled,startLabel:e.createElement("span",{className:"competition-overview__milestone-title"},"Launch"),endDate:this.props.deadline,endLabel:e.createElement("span",{className:"competition-overview__milestone-title"},"Close"),milestoneDates:[{details:e.createElement("p",{className:"competition-overview__milestone-name"},"Rules Acceptance Deadline"),date:this.props.mergerDeadline}]}):e.createElement("p",null,"The timeline for this competition will appear once there is a valid start date and deadline.")),e.createElement("div",{className:"competition-overview__stats-section"},this.props.totalTeams?e.createElement("div",{className:"competition-overview__stats"},e.createElement("div",{className:"competition-overview__stat"},e.createElement("p",{className:"competition-overview__stat-number"},e.createElement(r.FormatNumber,{number:this.props.totalTeams})),e.createElement("p",{className:"competition-overview__stat-label"},"Teams")),e.createElement("div",{className:"competition-overview__stat"},e.createElement("p",{className:"competition-overview__stat-number"},e.createElement(r.FormatNumber,{number:this.props.totalCompetitors})),e.createElement("p",{className:"competition-overview__stat-label"},"Competitors")),this.props.totalEntries?e.createElement("div",{className:"competition-overview__stat"},e.createElement("p",{className:"competition-overview__stat-number"},e.createElement(r.FormatNumber,{number:this.props.totalEntries})),e.createElement("p",{className:"competition-overview__stat-label"},"Entries")):null):null,e.createElement("div",{className:"competition-overview__progression-info"},e.createElement("div",{className:"competition-overview__progression-info-item"},e.createElement("p",{className:"competition-overview__progression-info-label"},"Points"),e.createElement("p",{className:"competition-overview__progression-info-text"},"This competition ",this.props.countsTowardsRanking?(this.props.competitionHasEnded?"awarded":"awards")+" "+(this.props.userRankMultiplier<1?this.props.userRankMultiplier+"X":""):this.props.competitionHasEnded?"did not award ":"does not award "," standard ",e.createElement("a",{href:"https://www.kaggle.com/progression"},"ranking points"))),e.createElement("div",{className:"competition-overview__progression-info-item"},e.createElement("p",{className:"competition-overview__progression-info-label"},"Tiers"),e.createElement("p",{className:"competition-overview__progression-info-text"},"This competition ",this.props.countsTowardsTiers?this.props.competitionHasEnded?"counted ":"counts ":this.props.competitionHasEnded?"did not count ":"does not count "," towards ",e.createElement("a",{href:"https://www.kaggle.com/progression"},"tiers"))))))},n}(e.Component);t.CompetitionOverview=m}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(24),o=n(929),r=function(t){function n(e){var n=t.call(this,e)||this;n.onWindowPopState=function(e){e.state&&e.state.competitionOverviewTabState&&n.setState(e.state.competitionOverviewTabState)},n.updateUrlForTab=function(e,t){void 0===t&&(t=!1);var a=n.props.pages&&n.props.pages.length>0?n.props.pages[0].name.replace("#",""):"",i={},s=e.toLowerCase().replace(/\s+/g,"-")||a,o=n.props.competitionUrl;i.competitionTabState={activePane:"overview",activeTab:"overview"},i.competitionOverviewTabState={activeOverviewTab:s},s!=a&&(o+="#"+s),t?history.replaceState(i,"",o):history.pushState(i,"",o)},n.saveOverview=function(e){return i.__awaiter(n,void 0,void 0,function(){var t,n,o,r;return i.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,a(this.props.saveOverviewUrl,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:return t=i.sent(),[4,t.json()];case 2:return n=i.sent(),"CONCURRENT_EDIT"===n.message?(o="Changes can't be saved. "+(n.userDisplayName||"Unknown user")+" has saved an update to this page. Refresh the page to get the latest version before editing.",s.PageMessages.clear(),s.PageMessages.error(o)):n.pageMessages&&n.pageMessages.length>0?s.PageMessages.set(n.pageMessages):(n.pages&&this.setState({localPages:n.pages}),s.PageMessages.clear(),s.PageMessages.success("Save successful.")),[3,4];case 3:return r=i.sent(),r.pageMessages&&s.PageMessages.set(r.pageMessages),[3,4];case 4:return[2]}})})},n.onOverviewEditingStateChanged=function(e){n.setState({isEditingOverview:!n.state.isEditingOverview},function(){if(e){var t={rewardQuantity:n.props.rewardQuantity,numPrizes:n.props.numPrizes,dateEnabled:n.props.dateEnabled,deadline:n.props.deadline,enablePreDeadline:!1,overviewPages:n.state.localPages};n.saveOverview(t)}})},n.newPageCounter=0;var o=window.location.hash.replace("#",""),r=n.props.pages?n.props.pages.map(function(e){return e.name}):[];return n.activeOverviewTab=r.indexOf(o)>=0?o:n.props.pages&&n.props.pages.length>0?n.props.pages[0].name:"",n.state={activeOverviewTab:n.activeOverviewTab,isEditingOverview:!1,localPages:n.props.pages?n.props.pages.slice():[],showOverviewPreview:!1,toggleShowOverviewPreview:function(){n.setState({showOverviewPreview:!n.state.showOverviewPreview})}},n.updateUrlForTab(n.activeOverviewTab,!0),n}return i.__extends(n,t),n.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},n.prototype.onOverviewTabChanged=function(e,t){var n=this;t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1==t.button||this.setState({activeOverviewTab:e,showOverviewPreview:!1},function(){return n.updateUrlForTab(e)})},n.prototype.onOverviewEditingStateCancelled=function(){var e=this,t=!1;this.props.pages.map(function(n){n.name===e.state.activeOverviewTab&&(t=!0)}),this.setState({activeOverviewTab:t?this.state.activeOverviewTab:this.props.pages[0].name,isEditingOverview:!1,localPages:this.props.pages.slice(),showOverviewPreview:!1})},n.prototype.onAddOverviewPage=function(){var e=i.__assign({},this.state);this.newPageCounter+=1;var t="Untitled "+this.newPageCounter,n={name:t,mimeType:"text/markdown",content:"Insert text here. Please use markdown."};e.localPages.push(n),e.activeOverviewTab=t,this.setState(e)},n.prototype.onPublishOverviewPage=function(e){var t=i.__assign({},this.state),n=t.localPages[e];n.isPublished=!n.isPublished,this.setState(t)},n.prototype.onRemoveOverviewPage=function(e){var t=i.__assign({},this.state);if(t.localPages.length<=1)return s.PageMessages.clear(),void s.PageMessages.error("You must keep a minimum of one page in this section.");t.localPages.splice(e,1),t.activeOverviewTab=t.localPages[0].name,this.setState(t)},n.prototype.onChangeOverviewPage=function(e,t,n){var a=i.__assign({},this.state);a.localPages[e][t]=n,a.activeOverviewTab=a.localPages[e].name,this.setState(a)},n.prototype.render=function(){var t={onOverviewTabChanged:this.onOverviewTabChanged.bind(this),onOverviewEditingStateCancelled:this.onOverviewEditingStateCancelled.bind(this),onOverviewEditingStateChanged:this.onOverviewEditingStateChanged.bind(this),onAddOverviewPage:this.onAddOverviewPage.bind(this),onPublishOverviewPage:this.onPublishOverviewPage.bind(this),onRemoveOverviewPage:this.onRemoveOverviewPage.bind(this),onChangeOverviewPage:this.onChangeOverviewPage.bind(this)};return e.createElement(o.CompetitionOverview,i.__assign({},this.props,t,this.state))},n}(e.Component);t.CompetitionOverviewContainer=r}).call(t,n(0),n(32))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(46),s=n(7),o=n(283),r=n(61),l=function(t){function n(e){var n=t.call(this,e)||this;return n.onAcceptCompetitionRules=function(){n.setState({isProcessingRulesAcceptance:!0}),n.props.onAcceptCompetitionRules().then(function(){return n.setState({isProcessingRulesAcceptance:!1})})},n.state={isProcessingRulesAcceptance:!1},n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"competition-rules"},e.createElement(o.MarkdownContentBox,{canEdit:this.props.canEdit||this.props.isCompetitionHost,canEditMimeType:!0,content:this.props.rules?this.props.rules.content:null,mimeType:this.props.rules?r.stringToMimeType(this.props.rules.mimeType):null,contentBoxTitle:"Rules",contentClassName:"competition-rules__content",onSaveClicked:function(e,n){return t.props.onCompetitionRulesSaved(e,n)}}),e.createElement(s.ContentBox,{title:"Rules acceptance"},this.props.hasAcceptedRules?e.createElement("div",{className:"competition-rules__acceptance"},e.createElement("p",{className:"competition-rules__accepted-text"},e.createElement("span",{className:"competition-rules__acceptance-icon"},e.createElement("span",{className:"fa fa-check-circle-o"})),"You have accepted the rules for this competition. Good luck!")):e.createElement("div",{className:"competition-rules__acceptance"},e.createElement("p",{className:"competition-rules__acceptance-text"},'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound with the above rules.'),e.createElement("div",{className:"competition-rules__acceptance-actions"},e.createElement("a",{className:"competition-rules__decline"},"I Do Not Accept"),e.createElement(i.ButtonAutoWidth,{classNames:"competition-rules__accept",onClick:function(){return t.props.onAcceptCompetitionRules()},text:"I Understand and Accept"}),this.state.isProcessingRulesAcceptance?e.createElement("div",{className:"competition-rules__is-processing"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null))))},n}(e.Component);t.CompetitionRules=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(24),o=n(931),r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onCompetitionRulesSaved=function(t,n){var o={page:{content:t,name:"Rules",mimeType:n}};return a.ajax({type:"POST",url:e.props.saveRulesUrl,contentType:"application/json",dataType:"json",data:JSON.stringify(o),success:function(a){a.pageMessages&&a.pageMessages.length>0?s.PageMessages.set(a.pageMessages):(s.PageMessages.clear(),s.PageMessages.success("Save successful.")),e.props.onCompetitionStateChanged("rules",i.__assign({},e.props.rules,{content:t,mimeType:n}))},error:function(e){e.pageMessages&&e.pageMessages.length>0?s.PageMessages.set(e.pageMessages):(s.PageMessages.clear(),s.PageMessages.error("Save unsuccessful."))}})},e}return i.__extends(n,t),n.prototype.render=function(){var t={onCompetitionRulesSaved:this.onCompetitionRulesSaved};return e.createElement(o.CompetitionRules,i.__assign({},this.props,t))},n}(e.Component);t.CompetitionRulesContainer=r}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.runTimer=new i.Timer,e}return a.__extends(n,t),n.prototype.renderStatus=function(e){switch(e){case"initializing-or-short-wait":return"Initializing";case"in-line":return this.props.totalSubmissionsInLine?"Behind "+this.props.totalSubmissionsInLine+" others":"Next in line";case"scoring":return"Scoring";case"error":return"Failed";case"complete":return"Complete";default:return null}},n.prototype.renderProgressBar=function(t,n,a,i,s){return e.createElement("div",{className:"competition-scoring-banner__progress-bar-outer competition-scoring-banner__progress-bar-outer--"+i+" "+(a?"":"competition-scoring-banner__progress-bar-outer--hidden")},e.createElement("div",{className:"competition-scoring-banner__progress-bar-status-container"},e.createElement("div",{className:"competition-scoring-banner__progress-bar-text-container"},"complete"!=i&&"error"!=i&&e.createElement("span",{className:"fa fa-spin fa-cog competition-scoring-banner__progress-bar-spinner"}),e.createElement("span",{className:"competition-scoring-banner__progress-bar-status-text"},this.renderStatus(i))),e.createElement("div",{className:"competition-scoring-banner__progress-bar-text-container"},t&&"complete"!=i&&"error"!=i&&"initializing-or-short-wait"!=i?t<n?e.createElement("span",null,"Almost ",s?"ready":"done","..."):e.createElement("span",null,((t-n)/1e3).toFixed(0)," seconds remaining (est.)"):null)),e.createElement("div",{className:"competition-scoring-banner__progress-bar-inner competition-scoring-banner__progress-bar-inner--"+i,style:{width:("complete"==i||"error"==i?100:Math.min(t?n/t*100:0,100))+"%"}}))},n.prototype.renderMainContent=function(){var t,n=["scoring","complete","error"],a=["initializing-or-short-wait","in-line"],s=this.props,o=s.id,r=s.name,l=s.dateSubmitted,c=s.publicScoreFormatted,p=s.submissionStatus,u=s.estimatedScoreDurationMilliseconds,d=s.estimatedWaitDurationMilliseconds,m=s.ellapsedScoreDurationMilliseconds,h=s.ellapsedWaitDurationMilliseconds,g=s.totalSubmissionsInLine,f=s.forListing,v=s.competitionName,_=s.competitionUrl,b=s.userDisplayName,E=s.userUrl;return t="complete"==p?"complete":"error"==p?"error":0==o||!m&&0==g&&d<3e3?"initializing-or-short-wait":m?"scoring":"in-line",e.createElement("div",null,f&&e.createElement("div",{className:"competition-scoring-banner__listing-header"},e.createElement("a",{href:_},v)," | ",e.createElement("a",{href:E},b)),e.createElement("div",{className:"competition-scoring-banner__meta"},e.createElement("div",{className:"competition-scoring-banner__meta-header"},e.createElement("div",{className:"competition-scoring-banner__meta-name"},"Name"),e.createElement("div",{className:"competition-scoring-banner__meta-date"},"Submitted"),e.createElement("div",{className:"competition-scoring-banner__meta-wait"},"Wait time"),e.createElement("div",{className:"competition-scoring-banner__meta-execution"},"Execution time"),e.createElement("div",{className:"competition-scoring-banner__meta-score"},"Score")),e.createElement("div",{className:"competition-scoring-banner__meta-data"},e.createElement("div",{className:"competition-scoring-banner__meta-name",title:r},r),e.createElement("div",{className:"competition-scoring-banner__meta-date"},l?e.createElement(i.TimeAgo,{time:l}):null),e.createElement("div",{className:"competition-scoring-banner__meta-wait"},(h/1e3|0).toFixed(0)," seconds"),e.createElement("div",{className:"competition-scoring-banner__meta-execution"},(m/1e3|0).toFixed(0)," seconds"),e.createElement("div",{className:"competition-scoring-banner__meta-score"},c))),this.renderProgressBar(d,h,a.includes(t),t,!0),this.renderProgressBar(u,m,n.includes(t),t,!1),"error"==t||"complete"==t||f?null:e.createElement("div",{className:"competition-scoring-banner__message"},this.props.scoringMessage),"error"==t&&this.props.error?e.createElement("pre",{className:"competition-scoring-banner__error"},this.props.error):null,"complete"==t&&this.props.jumpToLeaderboardPosition?e.createElement("div",{className:"competition-scoring-banner__leaderboard-link",onClick:this.props.jumpToLeaderboardPosition},"Jump to your position on the leaderboard ",e.createElement("span",{className:"fa fa-caret-down"})):null)},n.prototype.render=function(){return this.props.forListing?this.renderMainContent():e.createElement(i.ContentBox,{contentClassName:"competition-scoring-banner",title:"Your most recent submission"},this.renderMainContent())},n}(e.Component);t.CompetitionScoringBanner=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),s=n(46),o=n(7),r=n(138),l=n(100),c=n(19),p=n(36),u=n(1032),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.submissionsAreDisabled;return i.Current.userName?this.props.needsPhoneVerification?e.createElement(o.ContentBox,{title:"Make a Submission"},e.createElement("div",{className:"competition-submission__intro"},"This competition requires that you verify your account via SMS. ",e.createElement("a",{href:"/account/phone/number?returnUrl="+this.props.competitionUrl},"Click here")," to verify your account.")):this.props.mostRecentSubmissionStatus&&"pending"==this.props.mostRecentSubmissionStatus.submissionStatus?e.createElement(o.ContentBox,null,e.createElement("div",{className:"competition-submission__scoring-caption"},"We are scoring your submission..."),e.createElement("div",{className:"competition-submission__scoring-cog"},e.createElement("span",{className:"fa fa-cog fa-spin"}))):e.createElement(o.ContentBox,{title:"Make a Submission"},e.createElement("div",{className:"competition-submission__intro"},this.props.team&&this.props.team.name?e.createElement("h1",{className:"competition-submission__lead-in"},"Make a submission for ",e.createElement("a",{onClick:function(){return t.props.onCompetitionTabChanged("team")}},this.props.team.name)):null,null!=this.props.remainingDailySubmissions&&this.props.maxDailySubmissionsResetDate?this.props.remainingDailySubmissions>0?e.createElement("p",{className:"competition-submission__info"},e.createElement("strong",null,"You have ",e.createElement(p.Pluralize,{count:this.props.remainingDailySubmissions,word:"submission",formatNumber:!0})," remaining today. "),"This resets ",e.createElement(c.TimeAgo,{time:this.props.maxDailySubmissionsResetDate,hideToGo:!0})," from now (00: 00 UTC)."):e.createElement("div",{className:"competition-submission__info"},e.createElement("p",null,e.createElement("strong",null,"You have no more submissions remaining for today. "),"This resets in:"),e.createElement("p",{className:"competition-submission__countdown"},e.createElement(u.Countdown,{time:this.props.maxDailySubmissionsResetDate,onBlastoff:this.props.onReenableSubmssion}))):null),0!=this.props.remainingDailySubmissions?e.createElement("div",null,e.createElement(r.FileUploader,{createBlobUrl:this.props.submissionUploadUrl,mode:"single",onFileUploadFinished:this.props.onSubmissionUploadFinished,singleFileButtonLabel:"Upload Submission File",onFilesPendingUpdated:this.props.onSubmissionFilePendingUpdated}),e.createElement("div",{className:"competition-submission__details"},e.createElement("div",{className:"competition-submission__detail"},e.createElement("h3",{className:"competition-submission__detail-subheader"},"File Format"),e.createElement("p",{className:"competition-submission__detail-text"},"Your submission should be in CSV format. You can upload this in a zip/gz/rar/7z archive, if you prefer.")),e.createElement("div",{className:"competition-submission__detail"},e.createElement("h3",{className:"competition-submission__detail-subheader"},"Number of Predictions"),e.createElement("p",{className:"competition-submission__detail-text"},"We expect the solution file to have ",this.props.totalSolutionRows," prediction rows. This file should have a header row. Please see sample submission file on the ",e.createElement("a",{onClick:function(){return t.props.onCompetitionTabChanged("data")}},"data page"),"."))),e.createElement("div",{className:"competition-submission__description-editor"},e.createElement(l.MarkdownEditor,{alwaysShowToolbar:!0,minRows:3,onChangeCallback:function(e){return t.props.onSubmissionDescriptionChanged(e)},placeholder:"Briefly describe your submission.",shouldSanitizeHtml:!0})),e.createElement("div",{className:"competition-submission__submit-wrapper"},e.createElement("div",{className:"competition-submission__submit-button"},e.createElement(s.ButtonAutoWidth,{onClick:function(){return t.props.onSubmissionSubmit()},isDisabled:n||this.props.isSubmittingSubmission,text:this.props.isSubmittingSubmission?e.createElement("span",null,"Processing Submission ",e.createElement("span",{className:"fa fa-spin fa-spinner"})):"Make Submission"})))):null):e.createElement(o.ContentBox,{title:"Make a Submission"},e.createElement("div",{className:"competition-submission__intro"},"You must set a user name before making submissions to a competition. ",e.createElement("a",{href:"/account/set-username?returnUrl="+this.props.competitionUrl},"Click here")," to set your user name."))},n}(e.Component);t.CompetitionSubmission=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(934),o=n(24),r=function(t){function n(e){var n=t.call(this,e)||this;return n.validationRules=[{isValid:function(){return!(n.state.submissionDescription&&n.state.submissionDescription.trim().length>2e3)},id:"submission-description-length",message:function(){return"Your description must be fewer than 2,000 characters."}},{isValid:function(){return n.state.submissionToken&&n.state.submissionToken.trim().length>0},id:"submission-no-file-token",message:function(){return"You must upload a file for your submission."}}],n.onSubmissionSubmit=function(){if(n.props.submissionsAreDisabled)return o.PageMessages.clear(),void o.PageMessages.error("Submissions are currently disabled for this competition.");if(n.state.submissionPending)return n.setState({autoSubmitPendingSubmission:!0}),void o.PageMessages.add([{type:"info",message:"Your submission will be automatically submitted once it has finished uploading."}]);var e=n.getValidationPageMessages();if(e.length>0)return void o.PageMessages.add(e);n.props.showPendingSubmission(),o.PageMessages.clear(),n.setState({isSubmittingSubmission:!0},function(){return a.ajax({context:n,url:n.props.submissionSubmitUrl,type:"POST",contentType:"application/json",data:JSON.stringify({blobFileTokens:[n.state.submissionToken],submissionDescription:n.state.submissionDescription}),success:function(e){n.setState({isSubmittingSubmission:!1,submissionDescription:"",submissionFileName:"",submissionToken:"",submissionTotalBytes:0},function(){e.pageMessages&&e.pageMessages.length>0&&(o.PageMessages.set(e.pageMessages),n.props.clearMostRecentSubmissionStatus())})},error:function(e){n.setState({isSubmittingSubmission:!1,submissionFileName:"",submissionToken:"",submissionTotalBytes:0},function(){try{n.props.clearMostRecentSubmissionStatus();var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?o.PageMessages.set(t.pageMessages):(o.PageMessages.clear(),o.PageMessages.error({htmlMessage:"Your submission was unsuccessful. Please try again, and if you continue to have issues, please let us know the details of your submission and competition on the <a href='https://www.kaggle.com/product-feedback'>Product Feedback forum</a>."}))}catch(e){o.PageMessages.clear(),o.PageMessages.error({htmlMessage:"Your submission was unsuccessful. Please try again, and if you continue to have issues, please let us know the details of your submission and competition on the <a href='https://www.kaggle.com/product-feedback'>Product Feedback forum</a>."})}})}})})},n.onSubmissionUploadFinished=function(e,t,a){n.setState({submissionFileName:e,submissionToken:t,submissionTotalBytes:a},function(){n.state.autoSubmitPendingSubmission&&n.onSubmissionSubmit()})},n.state={isSubmittingSubmission:!1},n}return i.__extends(n,t),n.prototype.componentWillMount=function(){if(this.props.submissionsAreDisabled)return o.PageMessages.clear(),void o.PageMessages.error("Submissions are currently disabled for this competition.")},n.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var a=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&a||!n.isValid()&&a&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},n.prototype.onSubmissionDescriptionChanged=function(e){this.setState({submissionDescription:e})},n.prototype.onSubmissionFilePendingUpdated=function(e,t){0==e&&0==t&&o.PageMessages.clear(),this.setState({submissionPending:e>0,autoSubmitPendingSubmission:this.state.autoSubmitPendingSubmission&&!(0==e&&0==t)})},n.prototype.render=function(){var t={onSubmissionSubmit:this.onSubmissionSubmit.bind(this),onSubmissionDescriptionChanged:this.onSubmissionDescriptionChanged.bind(this),onSubmissionUploadFinished:this.onSubmissionUploadFinished.bind(this),onSubmissionFilePendingUpdated:this.onSubmissionFilePendingUpdated.bind(this)};return e.createElement(s.CompetitionSubmission,i.__assign({},this.props,t,this.state))},n}(e.Component);t.CompetitionSubmissionContainer=r}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderSubmissionScore=function(t){return"complete"==t.status?t.publicScore:"pending"==t.status?e.createElement("span",{className:"competition-submissions__score-pending"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):"error"==t.status?e.createElement("span",{className:"competition-submissions__score-error",title:t.errorDetails||"No additional details provided for this error."},"Error"):null},n.prototype.renderHeader=function(){return e.createElement("div",{className:"competition-submissions__list-header"},e.createElement("div",{className:"competition-submissions__info"},"Submission and Description"),this.props.allowPrivateLeaderboardDisplay?e.createElement("div",{className:"competition-submissions__score"},"Private Score"):null,e.createElement("div",{className:"competition-submissions__score"},"Public Score"),e.createElement("div",{className:"competition-submissions__use"},"Use for Final Score"))},n.prototype.renderItem=function(t,n){var a=this;new Date(t.date.toString());return e.createElement("div",{key:"submission-"+n,className:"competition-submissions__list-item "+(t.isSelected?"competition-submissions__list-item--selected":"")},e.createElement("div",{className:"competition-submissions__info"},t.name?e.createElement("div",{className:"competition-submissions__info-name",title:t.name},e.createElement("a",{className:"competition-submissions__info-link",href:t.url},t.name),t.version?e.createElement("span",null,"(version ",t.version,"/",t.latestVersion,")"):null):null,e.createElement("p",{className:"competition-submissions__info-time"},e.createElement(i.TimeAgo,{time:t.date})," by ",e.createElement("a",{href:t.submittedByUrl},t.submittedBy)),e.createElement(i.InlineTextEditor,{className:"competition-submissions__info-text",readOnlyClassName:"competition-submissions__info-text",placeholder:"add submission details",onSaveCallback:function(e){return a.props.onSaveDescription(t.id,e)},value:t.details,isToggleable:!0})),this.props.allowPrivateLeaderboardDisplay?e.createElement("div",{className:"competition-submissions__score"},t.privateScore):null,e.createElement("div",{className:"competition-submissions__score"},this.renderSubmissionScore(t)),e.createElement("div",{className:"competition-submissions__use competition-submissions__use--checkbox"},e.createElement(i.Checkbox,{onChange:function(){return a.props.onSetFinalSubmissions(n,t.id)},isChecked:t.isSelected,text:"",isEditable:-1==["error","pending"].indexOf(t.status)||t.isSelected})))},n.prototype.render=function(){var t=this,n=e.createElement("span",null,this.props.mySubmissionsCount," submissions for",e.createElement("a",{className:"competition-submissions__team-link",onClick:function(){return t.props.onCompetitionTabChanged("Team")}},this.props.team.name));return e.createElement("div",null,e.createElement(i.ContentBox,{contentClassName:"competition-submissions__intro-container"},e.createElement("p",{className:"competition-submissions__intro"},"You can select up to ",e.createElement(i.Pluralize,{count:this.props.numScoredSubmissions,word:"submission"})," to be used to calculate your final leaderboard score. If ",e.createElement(i.Pluralize,{count:this.props.numScoredSubmissions,word:"submission"})," are not selected, they will be chosen based on your best submission scores on the public leaderboard."),e.createElement("p",{className:"competition-submissions__intro"},"Your final score may not be based on the same exact subset of data as the public leaderboard, but rather a different private data subset of your full submission — your public score is only a rough indication of what your final score is."),e.createElement("p",{className:"competition-submissions__intro"},"You should thus choose submissions that will most likely be best overall, and not necessarily on the public subset.")),e.createElement(i.SmartListContainer,{ref:function(e){return t.props.setMySubmissionsSmartListRef(e)},dataUrl:"/c/"+this.props.competitionId+"/submissions.json",itemRenderer:this.renderItem.bind(this),pluralItemDescription:"submissions",listHeaderRenderer:this.renderHeader.bind(this),mobileSortUpperBound:i.Breakpoints.tabletMax,values:{page:this.props.submissionsPage,group:this.props.submissionsGroup,sortBy:this.props.submissionsSortBy},title:n,sortOptions:[{label:"Most recent",value:"date"},{label:"Name",value:"name"},this.props.allowPrivateLeaderboardDisplay?{label:"Private Score",value:"privateScore"}:null,{label:"Public Score",value:"publicScore"}],groups:[{label:"All",value:"all"},{label:"Successful",value:"successful"},{label:"Selected",value:"selected"}],disableClearResultsOnUpdate:!0}))},n}(e.Component);t.CompetitionSubmissions=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(24),o=n(936),r=function(t){function n(e){var n=t.call(this,e)||this;return n.onSetFinalSubmissions=function(e,t){var i=n.state.finalSubmissionIds.slice(),o=i.indexOf(t);return o>=0?i.splice(o,1):i.push(t),a.ajax({type:"POST",url:n.props.setFinalScoreSubmissionsUrl,contentType:"application/json",data:JSON.stringify(i),success:function(e){n.props.refetchMySubmissions(),n.setState({finalSubmissionIds:i},function(){s.PageMessages.set(e.pageMessages)})},error:function(e){n.props.refetchMySubmissions(),s.PageMessages.set(JSON.parse(e.responseText).pageMessages)}})},n.onSaveDescription=function(e,t){a.ajax({type:"POST",url:n.props.updateSubmissionUrl,contentType:"application/json",data:JSON.stringify({submissionId:e,newDescription:t}),success:function(e){s.PageMessages.set([{type:"success",message:"Your submission description has been saved."}])},error:function(e){s.PageMessages.set([{type:"error",message:"Your submission description could not be saved."}])}})},n.state={isGettingSubmissions:!0,finalSubmissionIds:n.props.finalSubmissionIds},n}return i.__extends(n,t),n.prototype.render=function(){var t={onSetFinalSubmissions:this.onSetFinalSubmissions,onSaveDescription:this.onSaveDescription};return e.createElement(o.CompetitionSubmissions,i.__assign({},this.props,t,this.state))},n}(e.Component);t.CompetitionSubmissionsContainer=r}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(69),s=n(46),o=n(7),r=n(6),l=n(282),c=n(36),p=n(138),u=n(113),d=n(110),m=function(e){e.columns,e.csvData,e.error,e.maxKBytesToReturn,e.noPreviewAvailable,e.textData;return a.__rest(e,["columns","csvData","error","maxKBytesToReturn","noPreviewAvailable","textData"])},h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.team.members.filter(function(e){return 1==e.isTeamLeader})[0].userId;return e.createElement("div",null,e.createElement(o.ContentBox,{title:"Manage Team"},e.createElement("div",{className:"competition-myteam__naming-section"},e.createElement("div",{className:"competition-myteam__naming"},e.createElement("label",{className:"competition-myteam__section-title",htmlFor:"competition-team-name"},"Team Name"),e.createElement(l.InputGroupInline,{defaultValue:this.props.team.name,isSubmitting:this.props.isSavingTeamName,inputClassName:"competition-myteam__naming-input",inputId:"competition-team-name",onSubmit:function(e){return t.props.onSaveTeamName(e)},placeholder:"Team Name",buttonChildren:"Save Team Name"}),e.createElement("p",{className:"competition-myteam__naming-help"},"This name will appear on your team's leaderboard position.")),this.props.team.canDisband&&e.createElement("a",{className:"competition-myteam__disband",onClick:this.props.onDisbandTeam},"Disband ",e.createElement("span",{className:"fa fa-angle-double-right"}))),e.createElement("div",{className:"competition-myteam__member-section"},e.createElement("h2",{className:"competition-myteam__section-title"},"Team Members ",this.props.maxTeamSize?"("+this.props.team.members.length+" of "+this.props.maxTeamSize+" maximum)":null),e.createElement("ul",{className:"competition-myteam__members"},this.props.team.members.map(function(a,i){return e.createElement("li",{className:"competition-myteam__member"+(a.userId==r.Current.userId?"--active":""),key:"member-"+i},e.createElement("img",{className:"competition-myteam__member-tier",src:"staff"==a.tier?"/static/images/tiers/staff@96.png":"/static/images/tiers/"+a.tier+"@48.png",title:a.tier}),e.createElement("img",{className:"competition-myteam__member-avatar",src:a.avatarUrl,title:a.displayName+" Avatar"}),e.createElement("div",{className:"competition-myteam__member-name"},e.createElement("a",{className:"competition-myteam__member-link",href:a.userUrl},a.displayName),a.userId==r.Current.userId?e.createElement("span",null,"(you)"):null),e.createElement("p",{className:"competition-myteam__member-role"},a.isTeamLeader?"Leader":"Member"),e.createElement("div",{className:"competition-myteam__member-action-wrapper"},a.isTeamLeader||r.Current.userId!=n?null:e.createElement("a",{className:"competition-myteam__member-action",onClick:function(){return t.props.onSetTeamLeader(a.userId)}},"Make Leader"),t.props.isSettingTeamLeader&&t.props.isSettingTeamLeader&&t.props.newTeamLeaderId==a.userId?e.createElement("div",{className:"competition-myteam__action-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null))})))),this.props.canSubmitModel?e.createElement(o.ContentBox,{title:"Your Model",titleBarRightSide:this.props.teamModelFile?this.props.showUploadNewModel?e.createElement("div",{className:"competition-myteam__model-upload-cancel"},e.createElement("a",{onClick:this.props.onToggleUploadNewModel,className:""},"cancel")):e.createElement(d.ButtonRoundEdged,{className:"",onClick:this.props.onToggleUploadNewModel,text:"Upload New File"}):null},this.props.teamModelFile&&!this.props.showUploadNewModel?e.createElement("div",{className:"competition-myteam__model-file"},e.createElement(u.FilePreviewContainer,a.__assign({},m(this.props.teamModelFile)))):e.createElement("div",null,e.createElement("div",{className:"competition-myteam__model-intro"},"Here you can upload a zip archive containing team-related files. Usually this will be a model. In certain situations, we may also use this page to collect other types of files (e.g. a resume, or other team information). You may upload multiple times, but we will only keep the latest file. If you have multiple files, place them in one single archive."),e.createElement(p.FileUploader,{autoRemoveOnComplete:!0,mode:"single",createBlobUrl:"/blobs/inbox/team-model-files",onFileUploadFinished:this.props.onModelFileUpload}))):null,e.createElement(o.ContentBox,{title:"Invite Others"},e.createElement("div",{className:"competition-myteam__invite-creation"},e.createElement("div",{className:"competition-myteam__invite-wrapper"},e.createElement("label",{className:"competition-myteam__section-title",htmlFor:"competition-merge-request"},e.createElement("span",{className:"fa fa-code-fork competition-myteam__section-title-icon"}),"Merge with other Kaggle teams"),this.props.team.canCreateMerger?e.createElement(l.InputGroupInline,{clearAfterSubmit:!0,inputId:"competition-merge-request",isSubmitting:this.props.isSendingMergeRequest,onSubmit:function(e){return t.props.onSendMergeRequest(e)},placeholder:"Team Name",buttonChildren:"Request Merge"}):e.createElement("div",null,"You are unable to merge with other teams on this competition.")))),e.createElement(o.ContentBox,{title:"Pending Merge Requests"},this.props.teamOutboundInvites.length?e.createElement("div",{className:"competition-myteam__invite-container"},e.createElement("p",{className:"competition-myteam__invite-intro"},"You have proposed a merge with ",e.createElement(c.Pluralize,{count:this.props.teamOutboundInvites.length,word:"team"}),":"),e.createElement("div",{className:"competition-myteam__invites"},this.props.teamOutboundInvites.map(function(n,a){var s=n.members.filter(function(e){return 1==e.isTeamLeader})[0];return e.createElement("div",{className:"competition-myteam__invite",key:"outbound-invite-"+a},e.createElement("div",{className:"competition-myteam__invite-td-members"},n.members.map(function(t,n){return e.createElement("div",{className:"competition-myteam__invite-td-member",key:"outbound-invite-"+a+"-"+n},e.createElement(i.Avatar,{tier:t.tier,thumbnailUrl:t.avatarUrl,displayName:t.displayName,userUrl:t.userUrl}))})),e.createElement("div",{className:"competition-myteam__invite-td-info"},e.createElement("a",{href:"#"},n.name),s?e.createElement("span",null,"led by",e.createElement("a",{href:s.userUrl},s.displayName)):null),e.createElement("div",{className:"competition-myteam__invite-td-action"},e.createElement("div",null,e.createElement("div",{className:"competition-myteam__invite-action-wrapper"},t.props.isRejectingInvite&&t.props.isRejectingInvite&&t.props.rejectedInviteCode==n.invitationCode?e.createElement("div",{className:"competition-myteam__action-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null,e.createElement("a",{className:"competition-myteam__invite-td-reject",onClick:function(){return t.props.onRejectInvite(n.invitationCode)}},"Revoke Invite")))))}))):e.createElement("div",{className:"competition-myteam__invite-container"},e.createElement("p",{className:"competition-myteam__invite-intro"},"You currently have no pending merge requests."))),e.createElement(o.ContentBox,{title:"Teams Proposing a Merge"},this.props.teamInboundInvites.length?e.createElement("div",{className:"competition-myteam__invite-container"},e.createElement("p",{className:"competition-myteam__invite-intro"},"You have outstanding merge requests from ",e.createElement(c.Pluralize,{count:this.props.teamInboundInvites.length,word:"team"}),":"),e.createElement("div",{className:"competition-myteam__invites"},this.props.teamInboundInvites.map(function(n,a){var o=n.members.filter(function(e){return 1==e.isTeamLeader})[0];return e.createElement("div",{className:"competition-myteam__invite",key:"outbound-invite-"+a},e.createElement("div",{className:"competition-myteam__invite-td-members"},n.members.map(function(t,n){return e.createElement("div",{className:"competition-myteam__invite-td-member",key:"outbound-invite-"+a+"-"+n},e.createElement(i.Avatar,{tier:t.tier,thumbnailUrl:t.avatarUrl,displayName:t.displayName,userUrl:t.userUrl}))})),e.createElement("div",{className:"competition-myteam__invite-td-info"},e.createElement("a",{className:"competition-myteam__invite-team-link",href:"#"},n.name),o?e.createElement("span",null,"led by ",e.createElement("a",{href:o.userUrl},o.displayName)):null),e.createElement("div",{className:"competition-myteam__invite-td-action"},e.createElement("div",null,e.createElement("div",{className:"competition-myteam__invite-accept-wrapper"},t.props.isAcceptingInvite&&t.props.isAcceptingInvite&&t.props.acceptedInviteCode==n.invitationCode?e.createElement("div",{className:"competition-myteam__action-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null,e.createElement(s.ButtonAutoWidth,{onClick:function(){return t.props.onAcceptInvite(n.invitationCode)},text:"Join this Team"}))),e.createElement("div",null,e.createElement("div",{className:"competition-myteam__invite-action-wrapper"},t.props.isRejectingInvite&&t.props.isRejectingInvite&&t.props.rejectedInviteCode==n.invitationCode?e.createElement("div",{className:"competition-myteam__action-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null,e.createElement("a",{className:"competition-myteam__invite-td-reject",onClick:function(){return t.props.onRejectInvite(n.invitationCode)}},"Reject Invite")))))}))):e.createElement("div",{className:"competition-myteam__invite-container"},e.createElement("p",{className:"competition-myteam__invite-intro"},"There are currently no teams proposing a merge with yours."))))},n}(e.Component);t.CompetitionMyTeam=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(24),s=n(938),o=n(3),r=function(t){function n(e){var n=t.call(this,e)||this;return n.state={isSavingTeamName:!1,isSendingMergeRequest:!1,teamModelFile:n.props.modelFile},n}return a.__extends(n,t),n.prototype.onSaveTeamName=function(e){var t=this;return e.trim().length>0?(this.setState({isSavingTeamName:!0},function(){o.ajax({type:"POST",url:t.props.setTeamNameUrl,contentType:"application/json",data:JSON.stringify({name:e}),success:function(n){t.setState({isSavingTeamName:!1},function(){n.pageMessages&&n.pageMessages.length>0?i.PageMessages.set(n.pageMessages):(i.PageMessages.clear(),i.PageMessages.success("You have successfully updated your team name.")),t.props.updateTeamName(e)})},error:function(e){var n=JSON.parse(e.responseText);t.setState({isSavingTeamName:!1},function(){i.PageMessages.set(n.pageMessages)})}})}),o.when(null)):(i.PageMessages.clear(),i.PageMessages.error("Your team's display name must not be empty."),o.when(null))},n.prototype.onSendMergeRequest=function(e){var t=this;return e.trim().length>0?(this.setState({isSendingMergeRequest:!0},function(){return o.ajax({type:"POST",url:t.props.inviteToTeamUrl,contentType:"application/json",data:JSON.stringify({teamName:e}),success:function(n){t.setState({isSendingMergeRequest:!1},function(){t.props.onCompetitionStateChanged("teamOutboundInvites",n.data),n.pageMessages&&n.pageMessages.length>0?i.PageMessages.set(n.pageMessages):(i.PageMessages.clear(),i.PageMessages.success("You have successfully sent a merge request to "+e+"."))})},error:function(e){t.setState({isSendingMergeRequest:!1},function(){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?i.PageMessages.set(t.pageMessages):(i.PageMessages.clear(),i.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))})}})}),o.when(null)):(i.PageMessages.clear(),i.PageMessages.error("The team name must not be empty."),o.when(null))},n.prototype.onSetTeamLeader=function(e){var t=this;this.setState({isSettingTeamLeader:!0,newTeamLeaderId:e},function(){return o.ajax({type:"POST",url:t.props.setLeaderUrl,contentType:"application/json",data:JSON.stringify({userId:e}),success:function(e){t.setState({isSettingTeamLeader:!1},function(){t.props.onCompetitionStateChanged("team",e.data),e.pageMessages&&e.pageMessages.length>0?i.PageMessages.set(e.pageMessages):(i.PageMessages.clear(),i.PageMessages.success("You have successfully set a new team leader."))})},error:function(e){t.setState({isSettingTeamLeader:!1},function(){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?i.PageMessages.set(t.pageMessages):(i.PageMessages.clear(),i.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))})}})})},n.prototype.onRejectInvite=function(e){var t=this;this.setState({isRejectingInvite:!0,rejectedInviteCode:e},function(){return o.ajax({type:"POST",url:t.props.rejectTeamInviteUrl,contentType:"application/json",data:JSON.stringify({code:e}),success:function(e){t.setState({isRejectingInvite:!1},function(){t.props.onCompetitionStateChanged("teamOutboundInvites",e.data),e.pageMessages&&e.pageMessages.length>0?i.PageMessages.set(e.pageMessages):(i.PageMessages.clear(),i.PageMessages.success("The request has successfully been rejected/revoked."))})},error:function(e){t.setState({isRejectingInvite:!1},function(){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?i.PageMessages.set(t.pageMessages):(i.PageMessages.clear(),i.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))})}})})},n.prototype.onAcceptInvite=function(e){var t=this;this.setState({isAcceptingInvite:!0,acceptedInviteCode:e},function(){return o.ajax({type:"POST",url:t.props.acceptTeamInviteUrl,contentType:"application/json",data:JSON.stringify({code:e}),success:function(e){t.setState({isAcceptingInvite:!1},function(){t.props.onCompetitionStateChanged("team",e.data.team),t.props.onCompetitionStateChanged("teamInboundInvites",e.data.inboundInvites),e.pageMessages&&e.pageMessages.length>0?i.PageMessages.set(e.pageMessages):(i.PageMessages.clear(),i.PageMessages.success("The request has successfully been accepted."))})},error:function(e){t.setState({isAcceptingInvite:!1},function(){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?i.PageMessages.set(t.pageMessages):(i.PageMessages.clear(),i.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))})}})})},n.prototype.onDisbandTeam=function(){var e=this;return o.ajax({type:"POST",url:this.props.disbandTeamUrl,contentType:"application/json",success:function(t){e.props.onCompetitionStateChanged("team",t.data),i.PageMessages.success("Your team has been disbanded.",{clear:!0})},error:function(e){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?i.PageMessages.set(t.pageMessages):i.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'},{clear:!0})}})},n.prototype.onModelFileUpload=function(e,t,n){var a=this;return o.ajax({type:"POST",url:this.props.acceptModelUrl+"?blobFileToken="+t,contentType:"application/json",success:function(e){e.pageMessage&&i.PageMessages.set([e.pageMessage]),a.setState({showUploadNewModel:!1,teamModelFile:e.modelFile})},error:function(e){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?i.PageMessages.set(t.pageMessages):(i.PageMessages.clear(),i.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))}})},n.prototype.onToggleUploadNewModel=function(){this.setState({showUploadNewModel:!this.state.showUploadNewModel})},n.prototype.render=function(){var t={onSaveTeamName:this.onSaveTeamName.bind(this),onSendMergeRequest:this.onSendMergeRequest.bind(this),onSetTeamLeader:this.onSetTeamLeader.bind(this),onRejectInvite:this.onRejectInvite.bind(this),onAcceptInvite:this.onAcceptInvite.bind(this),onDisbandTeam:this.onDisbandTeam.bind(this),onModelFileUpload:this.onModelFileUpload.bind(this),onToggleUploadNewModel:this.onToggleUploadNewModel.bind(this)};return e.createElement(s.CompetitionMyTeam,a.__assign({},this.props,t,this.state))},n}(e.Component);t.CompetitionTeamContainer=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(n){var a=t.call(this,n)||this;return a.renderTitle=function(t,n){if(n.isLoadingMoreData)return" ";var s="competition",o="";switch(n.values.group){case"active":s="active competition";break;case"entered":o="you've entered";break;case"hosted":o="you've hosted"}var r=n.data?n.data.totalCompetitions:a.props.totalCompetitions;return n.data?e.createElement("span",null,e.createElement(i.Pluralize,{count:r,word:s,formatNumber:!0})," ",o):" "},a.renderCompetition=function(t,n,a){return e.createElement(i.CompetitionCard,{key:t.competitionId,competition:t,onClick:a})},a.filters=[{placeholder:"Segment",parameter:"segment",options:a.props.hostSegmentOptions}],a}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"view-competition-list"},e.createElement(i.Banner,{title:"Competitions",infoTitle:"Welcome to Kaggle Competitions",infoSubtitle:"Challenge yourself with real-world machine learning problems",infoBanner:this.props.banner,bannerImageClassName:"view-competition-list__banner-image",panels:[{imageSrc:"/static/images/comps-1-new.png",title:"New to Data Science?",description:e.createElement("span",null,"Get started with a tutorial on our most popular competition for beginners,",e.createElement("span",null," "),e.createElement("a",{href:"/c/titanic",className:"view-competition-list__banner_link"},"Titanic: Machine Learning from Disaster"),".")},{imageSrc:"/static/images/comps-2-build.png",title:"Build a Model",description:"Get the data & use whatever tools or methods you prefer to make predictions."},{imageSrc:"/static/images/comps-3-submit.png",title:"Make a Submission",description:"Upload your prediction file for real-time scoring & a spot on the leaderboard."}]}),e.createElement("div",{className:"view-competition-list__wrapper"},e.createElement(i.SmartListContainer,{titleResolver:this.renderTitle,data:this.props,dataUrl:"/competitions.json",dataPathToList:"competitions",groups:this.props.selectionGroupOptions,sortOptions:this.props.sortByOptions,itemRenderer:this.renderCompetition,pluralItemDescription:"competitions",mobileSortUpperBound:i.Breakpoints.tabletMax,filtersOptions:this.filters,searchIndex:"competitions",values:this.props.values,groupDefaultSortBys:[{group:"active",sortBy:"prize"},{group:"all",sortBy:"deadline"}],searchableGroups:["active","all"],groupSearchRedirects:[{searchedGroup:"active",redirectToGroup:"all"}]})))},n}(e.Component);t.ViewCompetitionList=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(414),s=n(139),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderItem=function(t,n){return e.createElement(i.DatasetActivityFeedItem,a.__assign({},t,{key:n}))},n.prototype.render=function(){return this.props.isNewDataset?null:e.createElement(s.SmartListContainer,{title:"Activity Feed",pluralItemDescription:"activity",data:this.props.hasLoadedFeed?this.props.feed:null,dataUrl:this.props.datasetUrl+"/feed.json",itemRenderer:this.renderItem.bind(this),isHidden:"feed"!=this.props.currentTab})},n}(e.Component);t.DatasetActivityFeed=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("a",{className:"dataset-contributors-teaser-item",href:this.props.userUrl},e.createElement("div",{className:"dataset-contributors-teaser-item__avatar"},e.createElement("img",{className:"dataset-contributors-teaser-item__avatar-image",src:this.props.userAvatarUrl})),e.createElement("div",{className:"dataset-contributors-teaser-item__info"},e.createElement("span",{className:"dataset-contributors-teaser-item__user"},this.props.displayName)),e.createElement("div",{className:"dataset-contributors-teaser-item__rank"},e.createElement("span",{className:"dataset-contributors-teaser-item__rank-number"},this.props.rank)))},n}(e.Component);t.DatasetContributorsTeaserItem=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(36),o=n(427),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.ContentBox,{title:"Contributors"},this.props.contributors.map(function(t){return e.createElement("a",{className:"dataset-contributors__item",href:t.userUrl,key:t.rank},e.createElement("div",{className:"dataset-contributors__rank"},e.createElement("span",{className:"dataset-contributors__rank-number"},t.rank)),e.createElement("div",{className:"dataset-contributors__avatar"},e.createElement("img",{className:"dataset-contributors__avatar-image",src:t.userAvatarUrl})),e.createElement("div",{className:"dataset-contributors__info"},e.createElement("div",null,e.createElement("span",{className:"dataset-contributors__user"},t.displayName),e.createElement("div",{className:"dataset-contributors__meta"},e.createElement(s.Pluralize,{word:"kernel",count:t.totalScripts})," |",e.createElement(s.Pluralize,{word:"post",count:t.totalForumMessages})))))}),e.createElement(o.LoadingText,{isLoading:this.props.contributorsIsLoading,text:"Loading more contributors"}))},n}(e.Component);t.DatasetContributors=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(947),s=n(415),o=n(948),r=n(946),l=n(943),c=n(941),p=n(276),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.datasetId,u=t.currentTab;a.__rest(t,["datasetId","currentTab"]);return e.createElement("div",{className:"dataset"},e.createElement("div",{className:"dataset__container"},e.createElement(i.DatasetHeader,a.__assign({},this.props)),"home"==this.props.currentTab?e.createElement(s.DatasetHome,a.__assign({},this.props)):"contributors"==this.props.currentTab?e.createElement(l.DatasetContributors,a.__assign({},this.props)):"feed"==this.props.currentTab?e.createElement(c.DatasetActivityFeed,a.__assign({},this.props)):"kernels"==this.props.currentTab?e.createElement(o.DatasetKernels,{datasetId:n,currentTab:u}):"discussion"==this.props.currentTab?e.createElement(r.DatasetDiscussion,a.__assign({},this.props)):"",e.createElement(p.NewKernelModal,{ref:this.props.setNewKernelModalRef,datasetVersionId:this.props.datasetVersionId})))},n}(e.Component);t.Dataset=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(94),o=n(944),r=n(6),l=n(415),c=function(t){function n(e){var n=t.call(this,e)||this;n.oldFileDescriptions=[],n.endsWidth=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},n.validationRules=[{isValid:function(){return 0==(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).filter(function(e){return n.endsWidth(e.name,".xlsx")||n.endsWidth(e.name,".xls")||n.endsWidth(e.name,".xlsx.zip")||n.endsWidth(e.name,".xls.zip")}).length},id:"dataset-excel-files",htmlMessage:function(){return"You have uploaded one or more Excel files. It's highly recommended that you <a href='https://support.office.com/en-us/article/Import-or-export-text-txt-or-csv-files-5250ac4c-663c-47ce-937b-339e391393ba#bmexport' target='_blank'>save these as .csv files</a>, as these are much easier to work with."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.validationRules.filter(function(e){return"dataset-excel-files"==e.id})[0].isValid()||0==(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).length||0!=(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).filter(function(e){return n.endsWidth(e.name.toLowerCase(),".csv")||n.endsWidth(e.name.toLowerCase(),".csv.zip")||"database.sqlite"==e.name.toLowerCase()}).length},id:"dataset-no-csv-or-sqlite-files",htmlMessage:function(){return"It looks like you're missing a .csv or database.sqlite file. If this is not an image dataset, we recommend that you include either a database.sqlite file, or one or more .csv files, as these are easiest to work with."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.state.originalImageUrl||0==n.state.originalImageUrl.length||!n.state.coverImageUrl||0==n.state.coverImageUrl.length||-1==n.state.originalImageUrl.indexOf("default-backgrounds")},id:"dataset-default-image",htmlMessage:function(){return"Choosing a topical image other than one of the generated random images may help your dataset stand out more."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.state.isEditingNewVersion||n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed<=0},id:"dataset-too-many-files",message:function(){return"You cannot upload more than "+n.props.maxTopLevelFilesAllowed+" files. You will need to delete at least "+(n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed)+" "+s("file",n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed)+" before you can save your new version."},alwaysValidate:!0},{isValid:function(){return!n.state.isEditingNewVersion||0==n.state.newVersionFiles.filter(function(e){return 0==e.totalBytes}).length},id:"dataset-zero-byte-files",message:function(){return"You cannot upload empty files. Please remove them from your list before saving."},alwaysValidate:!0},{isValid:function(){return n.state.title&&n.state.title.trim().length>0},id:"dataset-no-title",message:function(){return"Please enter a title for your dataset."}},{isValid:function(){return!n.state.title||0==n.state.title.trim().length||n.state.title.trim().length>6&&n.state.title.trim().length<50},id:"dataset-title-length",message:function(){return"The title must be between 6 and 50 characters in length."},alwaysValidate:!0},{isValid:function(){return!(!n.state.overview||!n.state.overview.trim())},id:"dataset-no-overview",message:function(){return"Please enter a subtitle for your dataset."}},{isValid:function(){return!(n.state.overview&&(n.state.overview.trim().length<20||n.state.overview.trim().length>80))},id:"dataset-overview-length",message:function(){return"The subtitle must be between 20 and 80 characters in length."},alwaysValidate:!0},{isValid:function(){return!(n.state.slug&&(n.state.slug.trim().length<3||n.state.slug.trim().length>50))},id:"dataset-slug-length",message:function(){return"The URL must be between 3 and 50 characters."}},{isValid:function(){return n.state.coverImageUrl&&n.state.coverImageUrl&&n.state.coverImageUrl.trim().length>0},id:"dataset-no-image",htmlMessage:function(){return"Please click the <span class='fa fa-camera'></span> to the right to set up an image for your dataset. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images."}},{isValid:function(){return!(!n.state.description||!n.state.description.trim())},id:"dataset-no-description",message:function(){return"Please enter a description for your dataset."}},{isValid:function(){return!(n.state.description&&n.state.description.trim().length>2e4)},id:"dataset-description-length",message:function(){return"Your description must be fewer than 20,000 characters."}},{isValid:function(){return!(!n.state.licenseId&&!n.state.privateGroupId)},id:"dataset-no-license",message:function(){return"Please select a license for your dataset."}},{isValid:function(){return!n.state.isEditingNewVersion||!(n.state.newVersionDescription&&n.state.newVersionDescription.trim().length>2e4)},id:"dataset-version-description-length",message:function(){return"Your version notes must be fewer than 20,000 characters."}},{isValid:function(){return!n.state.isEditingNewVersion||!(!n.state.newVersionDescription||!n.state.newVersionDescription.trim())},id:"dataset-no-version-description",message:function(){return"Please enter a description for this version."}},{isValid:function(){return!n.state.isEditingNewVersion||n.state.newVersionFiles.length>0},id:"dataset-no-version-files",message:function(){return"You must upload at least one file for this version."}},{isValid:function(){return!n.state.isEditingNewVersion||0==n.state.newVersionFiles.filter(function(e){return!e.description}).length},id:"dataset-new-version-files-with-no-description",message:function(){return"Please make sure all of your files have descriptions."}},{isValid:function(){return 0==n.state.files.filter(function(e){return e.description&&e.description.trim().length>2e4}).length},id:"dataset-files-description-lengths",message:function(){return"Your file descriptions must be fewer than 20,000 characters."}},{isValid:function(){return 0==n.state.files.filter(function(e){return!e.description&&!e.isSqliteTable}).length},id:"dataset-files-with-no-description",message:function(){return"Please make sure all of your files have descriptions."}},{isValid:function(){return 0==n.state.datasetVersions.filter(function(e){return!e.versionNotes}).length},id:"dataset-versions-with-no-description",message:function(){return"Please make sure all of your versions have descriptions."}}],n.processingNewDatasetPageMessage=function(){return{type:"info",htmlMessage:"We're processing "+(n.props.creatorUserId==r.Current.userId?"your":"the")+" dataset files. Once we're done, "+(n.props.creatorUserId==r.Current.userId?"your":"the")+" dataset will be available publicly."}},n.processingNewVersionPageMessage=function(){return{type:"info",htmlMessage:n.props.canEdit?"We're processing "+(n.props.creatorUserId==r.Current.userId?"your":"the")+" dataset files. Until they're complete, users will continue to run kernels against the current version's files.":"A new version of this dataset is in progress. Until it completes, new kernels will be run against the current version."}},n.onChangeTab=function(e){if("contributors"==e){var t={};t[e+"IsLoading"]=!0,n.setState(t),i.ajax({context:n,url:n.props.datasetUrl+"/"+e+".json",type:"GET",success:function(a){t[e]=a,t[e+"IsLoading"]=!1,n.setState(t)}})}n.setState({currentTab:e,isNewTopic:!1,topicId:null},function(){return n.updateUrl()})},n.onNewKernelClicked=function(){n.newKernelModalRef.show()},n.isDescriptionValid=function(e){return e.length>0&&e.length<100},n.onDatasetPropChanged=function(e,t){var a={};"title"!=e||!n.state.isNewDataset||n.state.slug!=n.convertToSlug(n.state.title)&&(n.state.slug||n.state.title)||(a.slug=n.convertToSlug(t)),a[e]=t,n.setState(a,function(){return n.clearFixedValidations()})},n.onPrivateGroupChanged=function(e){n.setState({privateGroupId:e})},n.onLicenseChanged=function(e,t){n.setState({license:t,licenseId:e,isEditingLicense:!n.state.isNewDataset},function(){n.clearFixedValidations()})},n.onDatasetFilePropChanged=function(e,t,i,s){var o=n.state.newVersionFiles,r=s===l.FileListIndex.NewFiles?o:n.state.files,c=r[e],p=a.__assign({},c,(d={},d[t]=i,d)),u=r.slice(0,e).concat([p],r.slice(e+1));n.setState(s===l.FileListIndex.NewFiles?{newVersionFiles:u}:{files:u},function(){return n.clearFixedValidations()});var d},n.onDatasetVersionPropChanged=function(e,t,i){var s=n.state.datasetVersions,o=s[e],r=a.__assign({},o,(c={},c[t]=i,c)),l=s.slice(0,e).concat([r],s.slice(e+1));n.setState({datasetVersions:l},function(){return n.clearFixedValidations()});var c},n.onPublishedChange=function(e){n.setState({isPublished:e,isFeatured:e&&n.state.isFeatured})},n.onFeaturedChange=function(e){n.setState({isPublished:e||n.state.isPublished,isFeatured:e})},n.onRemovedChange=function(e){n.setState({isRemoved:e})},n.onDatasetEditingStateCancelled=function(e,t){var i={},s={};i["isEditing"+e]=!1,s[t]=n.state.lastSavedState[t],"Slug"==e&&(s.isFeatured=n.state.lastSavedState.isFeatured,s.isPublished=n.state.lastSavedState.isPublished,s.isRemoved=n.state.lastSavedState.isRemoved,s.privateGroupId=n.state.lastSavedState.privateGroupId),"License"==e&&(s.licenseId=n.state.lastSavedState.licenseId),n.setState(a.__assign({},i,s),function(){return n.clearFixedValidations()})},n.onDatasetSaveFileDescription=function(){n.state.files.forEach(function(e){var t=n.oldFileDescriptions.filter(function(t){return t.name===e.name})[0];if(t&&t.description!==e.description){var a={fileName:e.name,description:e.description},s=n.props.datasetUrl+(n.props.isOldDatasetVersion?"/version/"+n.props.datasetVersionNumber:"")+"/datadictionary.json";i.ajax({context:n,url:s,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(a),success:function(e){n.refreshOldFileDescriptions();var t=n.state.pageMessages||[];e&&n.setState({pageMessages:t.concat([{type:"error",message:"Your description could not be saved: "+e}])})},error:function(){var e=n.state.pageMessages||[];n.setState({pageMessages:e.concat([{type:"error",message:"Sorry, there was a problem saving your update."}])})}})}})},n.refreshOldFileDescriptions=function(){n.oldFileDescriptions=n.state.files.map(function(e){return{name:e.name,description:e.description}})},n.onDatasetEditingStateChanged=function(e){if("NewVersion"==e){if(n.state.isEditingNewVersion)return void n.onSaveNewVersion();n.setState({showNewVersionProgress:!1,newVersionFiles:[],newVersionDescription:""})}var t=n.state["isEditing"+e],a={};if(a["isEditing"+e]=!t,"Slug"==e&&t&&(a.slug=n.cleanseSlug(n.state.slug)),t&&"Description"===e){n.setState({isEditingDescription:!1});var s={description:n.state.description};return void i.ajax({url:n.props.datasetUrl+"/description.json",type:"POST",processData:!1,contentType:"application/json",dataType:"json",data:JSON.stringify(s)})}n.setState({pageMessages:[]},function(){var s=n.getValidationPageMessages(),o=s.filter(function(e){return"error"==e.type}).length>0;n.setState({pageMessages:s},function(){o||n.setState(a,function(){i.ajax({context:n,url:n.state.datasetUrl+"/save",type:"POST",contentType:"application/json",data:JSON.stringify(n.state,function(e,t){if("lastSavedState"!=e)return t}),success:function(a){n.setState({lastSavedState:n.state}),a.datasetUrl&&"Slug"==e&&history.replaceState({},null,a.datasetUrl),a.datasetUrl&&"HeaderInfo"==e&&(document.title=n.state.title+" | Kaggle"),n.setState({pageMessages:a.pageMessages},function(){if(!a.success){var i={};i["isEditing"+e]=t,n.setState(i)}})},error:function(e){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}],isSavingNewVersion:!1})}})})})})},n.onCancelImageUploader=function(){i("body").css({overflow:"visible"}),i("html").css("overflow","visible"),n.setState({isEditingImages:!1})},n.onShowImageUploader=function(){n.setState({isEditingImages:!0})},n.onUpdateImages=function(e,t,s){e.append("datasetId",n.props.datasetId.toString());var o=t[0];e.append("coverImageLeft",o.left.toString()),e.append("coverImageTop",o.top.toString()),e.append("coverImageWidth",o.width.toString()),e.append("coverImageHeight",o.height.toString());var r=t[1];return e.append("cardImageLeft",r.left.toString()),e.append("cardImageTop",r.top.toString()),e.append("cardImageWidth",r.width.toString()),e.append("cardImageHeight",r.height.toString()),e.append("originalImageUrl",n.state.originalImageUrl),i.ajax({context:n,url:"/datasets/save/image",type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){if(e.success){var t=e.datasetImageUploadDto,l={coverImageUrl:t.coverImageUrl,cardImageUrl:t.cardImageUrl,thumbnailImageUrl:t.thumbnailImageUrl,originalImageUrl:t.originalImageUrl,coverImageWidth:o.width,coverImageHeight:o.height,coverImageLeft:o.left,coverImageTop:o.top,cardImageWidth:r.width,cardImageHeight:r.height,cardImageLeft:r.left,cardImageTop:r.top};i("body").css({overflow:"visible"}),i("html").css("overflow","visible"),n.setState(a.__assign({},l,{isEditingImages:!1}),function(){n.clearFixedValidations(function(){var e=n.state.pageMessages||[];n.setState({pageMessages:e.concat([{type:"success",message:"Your images have been updated."}])})})})}else s()}})},n.onFileUploadFinished=function(e,t,a){var i=n.state.files.filter(function(t){return t.name==e});0==i.length&&(i=n.state.files.filter(function(t){return t.name==e.replace(".zip","")})),0==i.length&&(i=n.state.files.filter(function(t){return t.name.replace(/\.[^\/.]+$/,"")==e.replace(".zip","")}));var s="";1==i.length&&(s=i[0].description),n.setState({newVersionFiles:n.state.newVersionFiles.concat({id:0,name:e,totalBytes:a,description:s,blobToken:t}).sort(function(e,t){return e.name.localeCompare(t.name)})},function(){return n.clearFixedValidations()})},n.onToggleCurrentVersionFiles=function(){n.setState({showCurrentVersionFiles:!n.state.showCurrentVersionFiles})},n.onDeleteNewVersionFile=function(e){n.setState({newVersionFiles:n.state.newVersionFiles.filter(function(t){return t.name!=e}).sort(function(e,t){return e.name.localeCompare(t.name)})},function(){return n.clearFixedValidations()})},n.getNewFileDataDictionaries=function(){var e=[];return n.state.newFileColumnDescriptions&&n.state.newFileColumnDescriptions.length>0&&n.state.newFileColumnDescriptions.forEach(function(t){var n={fileName:t.fileName,columns:t.columns.map(function(e,t){return{columnIndex:t,dataType:e.harmonizedDataType,description:e.description}})};e.push(n)}),e},n.onSaveNewVersion=function(){n.setState({pageMessages:[]},function(){var e=n.getValidationPageMessages(),t=e.filter(function(e){return"error"==e.type}).length>0;n.setState({pageMessages:e},function(){t||n.setState({pageMessages:[n.processingNewVersionPageMessage()]},function(){n.setState({isSavingNewVersion:!0,currentStatusPercentComplete:0,newDatasetVersionStatus:"notYetPersisted",downloadSize:0,needsNewVersionMetadata:!0,isEditingNewVersion:!1,canEdit:!1}),i.ajax({context:n,url:n.state.datasetUrl+"/save/version",type:"POST",contentType:"application/json",data:JSON.stringify({newVersionFiles:n.state.newVersionFiles,dataDictionaries:n.getNewFileDataDictionaries(),blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription,isPublished:n.state.isPublished}),success:function(e){!e.success&&e.pageMessages&&(clearInterval(n.timer),n.setState({pageMessages:e.pageMessages},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})}))}}),n.timer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e3)})})})},n.onSaveNewDataset=function(){n.setState({pageMessages:[]},function(){var e=n.getValidationPageMessages(),t=e.filter(function(e){return"error"==e.type}).length>0;e.length&&i.ajax({url:"/datasets/log-validation",type:"POST",contentType:"application/json",data:JSON.stringify({datasetName:n.state.title,validations:e.map(function(e){return e.id.substring(8)})})}),n.setState({pageMessages:e},function(){t||(goog_report_conversion(),n.setState({pageMessages:[n.processingNewDatasetPageMessage()]},function(){n.setState({isSavingNewVersion:!0,currentStatusPercentComplete:0,newDatasetVersionStatus:"notYetPersisted",needsNewVersionMetadata:!0,isEditingNewVersion:!1}),i.ajax({context:n,url:"/datasets/save",type:"POST",contentType:"application/json",data:JSON.stringify(a.__assign({},n.state,{newVersionFiles:n.state.newVersionFiles,blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription}),function(e,t){if("lastSavedState"!=e)return t}),success:function(e){e.success?n.setState({datasetId:e.datasetId,datasetVersionId:e.datasetVersionId,isEditingSlug:!1,isEditingHeader:!1,isEditingDescription:!1,isEditingLicense:!1,isEditingImages:!1,isEditingHeaderInfo:!1,isEditingVersions:!1,canEdit:!0,isNewDataset:!1,datasetVersions:e.datasetVersions,newScriptUrl:e.newScriptUrl,datasetUrl:e.url},function(){history.replaceState({},null,e.url),document.title=n.state.title+" | Kaggle",i.ajax({context:n,url:n.state.datasetUrl+"/save/version",type:"POST",contentType:"application/json",data:JSON.stringify({newVersionFiles:n.state.newVersionFiles,dataDictionaries:n.getNewFileDataDictionaries(),blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription,isPublished:n.state.isPublished}),success:function(e){!e.success&&e.pageMessages&&(clearInterval(n.timer),n.setState({pageMessages:e.pageMessages},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})}))},error:function(){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'}]},function(){clearInterval(n.timer),n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})}}),n.timer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e3)}):n.setState({pageMessages:e.pageMessage?[e.pageMessage]:e.pageMessages||[]},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})},error:function(){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'}]},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})}})}))})})},n.pollCurrentDatasetVersionStatus=function(){i.ajax({context:n,url:n.state.datasetUrl+"/poll",type:"POST",data:{datasetId:n.state.datasetId,needsMetadata:n.state.needsNewVersionMetadata},success:function(e){if("ready"==e.status||"failed"==e.status)return clearInterval(n.timer),void n.setState({pageMessages:e.pageMessage?[e.pageMessage]:e.pageMessages||[]},function(){n.setState({newDatasetVersionStatus:e.status,currentStatusPercentComplete:e.currentStatusPercentComplete,isSavingNewVersion:!1,canEdit:n.props.canEdit,showNewVersionProgress:"ready"==e.status,files:e.dataset?e.dataset.files:n.state.files,datasetVersions:e.dataset?e.dataset.datasetVersions:n.state.datasetVersions.map(function(e,t){return 0==t&&(e.status="failed"),e}),downloadSize:e.dataset?e.dataset.downloadSize:n.state.downloadSize}),n.setState({lastSavedState:n.state})});var t=n.state.needsNewVersionMetadata&&e.datasetVersions&&e.files?{needsNewVersionMetadata:!1,files:e.files,datasetVersions:e.datasetVersions,datasetVersionId:e.datasetVersions.id,newVersionFiles:[],showCurrentVersionFiles:!1}:{};n.setState(a.__assign({newDatasetVersionStatus:e.status,currentStatusPercentComplete:e.currentStatusPercentComplete},t))}})},n.updateExistingFileMetadata=function(e,t,a){var s={fileName:e,columns:[{fileName:e,columnIndex:t,description:a.description,dataType:a.harmonizedDataType}]},o=n.props.datasetUrl+(n.props.isOldDatasetVersion?"/version/"+n.props.datasetVersionNumber:"")+"/datadictionary.json";i.ajax({context:n,url:o,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(s),success:function(e){if(e){var t=n.state.pageMessages||[];n.setState({pageMessages:t.concat([{type:"error",message:"Your description could not be saved: "+e}])})}},error:function(){var e=n.state.pageMessages||[];n.setState({pageMessages:e.concat([{type:"error",message:"Sorry, there was a problem saving your update."}])})}})},n.updateNewFileColumnDescriptions=function(e,t,a){var i=n.state.newFileColumnDescriptions.filter(function(t){return t.fileName!==e}),s=n.state.newFileColumnDescriptions.filter(function(t){return t.fileName===e})[0];if(s)s.columns[t]=a;else{var o=[];o[t]=a,s={fileName:e,columns:o}}i.push(s),n.setState({newFileColumnDescriptions:i})};var o=a.__assign({},n.props,{isEditingHeader:n.props.isNewDataset,isEditingDescription:n.props.isNewDataset,isEditingFiles:n.props.isNewDataset,isEditingLicense:n.props.isNewDataset,isEditingImages:!1,isEditingHeaderInfo:n.props.isNewDataset,isEditingVersions:!1,isEditingNewVersion:n.props.isNewDataset,isEditingSlug:n.props.isNewDataset,newVersionFiles:[],needsNewVersionMetadata:!1,newVersionDescription:n.props.isNewDataset?"Initial release":null,hasLoadedFeed:"feed"==n.props.currentTab,newFileColumnDescriptions:[],lastSavedState:{}});return o.lastSavedState=o,n.state=o,n.refreshOldFileDescriptions(),n.props.isSavingNewVersion&&(n.timer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e3)),window.onbeforeunload=function(){return!n.state.isNewDataset&&(n.state.isEditingDescription||n.state.isEditingNewVersion||n.state.isEditingHeader||n.state.isEditingHeaderInfo||n.state.isEditingImages||n.state.isEditingLicense||n.state.isEditingSlug||n.state.isEditingVersions)?"It looks like you may be in the middle of working on some changes.":n.state.isNewDataset&&(n.state.title||n.state.overview||n.state.originalImageUrl||n.state.slug||n.state.description||n.state.licenseId||n.state.newVersionFiles.length)?"It looks like you may have started working on your new dataset.":void 0},n}return a.__extends(n,t),n.prototype.componentWillMount=function(){var e=[];if(this.props.isOldDatasetVersion){var t={type:"info",htmlMessage:"You are currently viewing Version "+this.props.datasetVersionNumber+" of "+this.props.lastVersionNumber+' of this dataset. <a href="'+this.props.datasetUrl+'">View the latest version</a> to create kernels.'};e.push(t)}if(this.props.isNewDataset||"failed"!=this.props.datasetVersions[0].status){if((!this.props.isPublished||this.props.isRemoved)&&!this.props.isNewDataset&&!this.props.isSavingNewVersion){var t={type:"info",htmlMessage:"This dataset is currently not published and currently unavailable. You're able to see it as "+(this.props.creatorUserId==r.Current.userId?"the creator":"a site admin")+"."};e.push(t)}}else if(this.props.datasetVersions.filter(function(e){return"ready"==e.status}).length){var t={type:"info",htmlMessage:"The most recent version failed during processing, so any new kernels will be run against the last successful version."};e.push(t)}else{var t={type:"error",htmlMessage:'There was a problem saving your dataset files. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'};e.push(t)}this.props.canEdit&&!this.props.isNewDataset&&this.getValidationPageMessages().forEach(function(t){return e.push(t)}),this.props.isSavingNewVersion&&e.push(1==this.props.datasetVersions.length?this.processingNewDatasetPageMessage():this.processingNewVersionPageMessage()),this.setState({pageMessages:(this.state.pageMessages||[]).concat(e)})},n.prototype.updateUrl=function(){history.replaceState({},null,this.props.datasetUrl+("home"!=this.state.currentTab?"/"+this.state.currentTab:"")+(null!=this.state.topicId&&"discussion"==this.state.currentTab?"/"+this.state.topicId:this.state.isNewTopic&&"discussion"==this.state.currentTab?"/new":""))},n.prototype.onCreateTopic=function(){var e=this;r.Current.isAdmin?this.setState({currentTab:"discussion",isNewTopic:!0,topicId:null},function(){return e.updateUrl()}):window.location.href=this.props.newTopicUrl},n.prototype.onTopicSubmitted=function(e){var t=this;this.setState({currentTab:"discussion",isNewTopic:!1,topicId:e},function(){return t.updateUrl()})},n.prototype.convertToSlug=function(e){return e?e.toLowerCase().trim().replace(/[^\w ]+/g,"").replace(/[_ ]+/g,"-"):null},n.prototype.cleanseSlug=function(e){return e.replace(/^-*([^.]*?)-*$/,"$1").replace(/-{2,}/g,"-")},n.prototype.onTopicClicked=function(e){var t=this;this.setState({currentTab:"discussion",isNewTopic:!1,topicId:e.id},function(){return t.updateUrl()})},n.prototype.componentDidMount=function(){-1!==window.location.hash.indexOf("#latest-")&&history.replaceState({},document.title,window.location.pathname+window.location.search)},n.prototype.componentWillUpdate=function(e,t,n){if(!Array.isArray(t.pageMessages))return void console.warn("Warning: Next state pageMessages is not an array. Something set incorrectly => ["+t.pageMessages+"]");if(!Array.isArray(this.state.pageMessages))return void console.warn("Warning: Current state pageMessages is not an array. Something set incorrectly => ["+this.state.pageMessages+"]");if(t.pageMessages.length!=this.state.pageMessages.length){var a=i("html").offset().top,s=i(document).height();this.scrollPositionFromBottom=s+a}},n.prototype.componentDidUpdate=function(e,t,n){if(!Array.isArray(t.pageMessages))return void console.warn("Warning: Prev state pageMessages is not an array. Something set incorrectly => ["+t.pageMessages+"]");if(!Array.isArray(this.state.pageMessages))return void console.warn("Warning: Current state pageMessages is not an array. Something set incorrectly => ["+this.state.pageMessages+"]");if(t.pageMessages.length!=this.state.pageMessages.length){if(0==i("html").offset().top)return;var a=i(document).height(),s=a-this.scrollPositionFromBottom;i("html, body").scrollTop(s)}},n.prototype.clearFixedValidations=function(e){this.setState({pageMessages:this.getValidationPageMessages(!0)},e)},n.prototype.getValidationPageMessages=function(e){var t=this;return this.validationRules.filter(function(n){return!n.isValid()&&(!e||n.alwaysValidate||t.state.pageMessages.filter(function(e){return e.id==n.id}).length>0)}).map(function(e){return{type:e.isWarning?"warning":"error",id:e.id,message:e.message?e.message():null,htmlMessage:e.htmlMessage?e.htmlMessage():null}})},n.prototype.setNewKernelModalRef=function(e){this.newKernelModalRef=e},n.prototype.render=function(){var t={onDatasetPropChanged:this.onDatasetPropChanged,onDatasetFilePropChanged:this.onDatasetFilePropChanged,onDatasetVersionPropChanged:this.onDatasetVersionPropChanged,onDatasetEditingStateCancelled:this.onDatasetEditingStateCancelled,onDatasetEditingStateChanged:this.onDatasetEditingStateChanged,onLicenseChanged:this.onLicenseChanged,onCancelImageUploader:this.onCancelImageUploader,onCreateTopic:this.onCreateTopic.bind(this),onUpdateImages:this.onUpdateImages,onFileUploadFinished:this.onFileUploadFinished,onToggleCurrentVersionFiles:this.onToggleCurrentVersionFiles,onSaveNewVersion:this.onSaveNewVersion,onDeleteNewVersionFile:this.onDeleteNewVersionFile,onSaveNewDataset:this.onSaveNewDataset,onPublishedChange:this.onPublishedChange,onFeaturedChange:this.onFeaturedChange,onRemovedChange:this.onRemovedChange,onShowImageUploader:this.onShowImageUploader,onChangeTab:this.onChangeTab,onPrivateGroupChanged:this.onPrivateGroupChanged,onTopicClicked:this.onTopicClicked.bind(this),onTopicSubmitted:this.onTopicSubmitted.bind(this),onExistingFileMetadataChange:this.updateExistingFileMetadata,onNewFileMetadataChange:this.updateNewFileColumnDescriptions,onNewKernelClicked:this.onNewKernelClicked.bind(this),setNewKernelModalRef:this.setNewKernelModalRef.bind(this),onDatasetSaveFileDescription:this.onDatasetSaveFileDescription};return e.createElement(o.Dataset,a.__assign({},this.state,t))},n}(e.Component);t.DatasetContainer=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return"discussion"===this.props.currentTab?e.createElement(i.Forum,a.__assign({},a.__assign({},this.props.discussion,this.props.newTopic),{onTopicClicked:this.props.onTopicClicked,topicId:this.props.topicId,isNew:this.props.isNewTopic,topicSubmitted:this.props.onTopicSubmitted})):null},n}(e.Component);t.DatasetDiscussion=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(50),s=n(5),o=n(215),r=n(426),l=n(128),c=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.trackDownload=function(){window.Intercom("trackEvent","download_dataset",{dataset_id:e.props.datasetId}),goog_report_conversion()},e}return a.__extends(n,t),n.prototype.changeActiveTab=function(){},n.prototype.isNoDataSourceDataset=function(){return 1107===this.props.datasetId},n.prototype.renderTitle=function(){var t=this;return this.props.isEditingHeaderInfo&&this.props.canEdit?e.createElement(s.InlineTextEditor,{className:"dataset-header__title--input",value:this.props.title,placeholder:"Enter a Descriptive Title",onChangeCallback:function(e){return t.props.onDatasetPropChanged("title",e)}}):e.createElement("span",{className:"dataset-header__title"},this.props.title,e.createElement(r.GroupIcon,{groupSize:this.props.privateGroupMemberCount,rightSide:!0}))},n.prototype.renderSubtitle=function(){var t=this;return this.props.isEditingHeaderInfo&&this.props.canEdit?e.createElement(s.InlineTextEditor,{className:"dataset-header__subtitle--input",value:this.props.overview,placeholder:"Add a snappy description of your dataset for the subtitle",onChangeCallback:function(e){return t.props.onDatasetPropChanged("overview",e)}}):e.createElement("div",{className:"dataset-header__subtitle"},this.props.overview)},n.prototype.renderOptionalVoteButton=function(){return this.props.isNewDataset||this.props.isEditingHeaderInfo?null:e.createElement("div",{className:"dataset-header__upvote"},e.createElement(s.VoteButton,{totalVotes:this.props.voteCount,hasAlreadyVotedUp:this.props.hasAlreadyVotedUp,canUpvote:!0,canDownvote:!1,voteUpUrl:this.props.upVoteUrl,voteDownUrl:null}))},n.prototype.renderOptionalImageUploader=function(){if(this.props.canEdit){var t=e.createElement(o.ImageUploader,{title:"Upload a Dataset Image",imageSettings:[new o.ImageSetting("cover image","Select an area of the image to use as the cover image for this dataset’s homepage",new o.Size(950,200),new o.Rectangle(new o.Point(this.props.coverImageLeft,this.props.coverImageTop),new o.Size(this.props.coverImageWidth,this.props.coverImageHeight))),new o.ImageSetting("thumbnail","Select an area of the image to use as a thumbnail on the overall Dataset listing page",new o.Size(200,200),new o.Rectangle(new o.Point(this.props.cardImageLeft,this.props.cardImageTop),new o.Size(this.props.cardImageWidth,this.props.cardImageHeight)))],originalImageUrl:this.props.originalImageUrl,containerSize:new o.Size(500,300),selectorBorderWidth:1,onCancel:this.props.onCancelImageUploader,onUpdateImages:this.props.onUpdateImages,hiResScale:2,step1Html:"Upload an image by clicking the button below. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images. Or you can use the random image below."});return e.createElement(s.Modal,{buttonClassName:"dataset-header__upload-image-button",modalContent:t,modalIsShown:this.props.isEditingImages,onShow:this.props.onShowImageUploader,onClose:this.props.onCancelImageUploader})}return null},n.prototype.renderOptionalCallToAction=function(){return this.props.isNewDataset||this.props.isOldDatasetVersion?null:"discussion"==this.props.currentTab?this.renderNewTopicCta():s.Current.hasMultipleDataSources?this.renderNewKernelCta():this.renderNewScriptCta()},n.prototype.renderNewTopicCta=function(){var t=this;return e.createElement("a",{href:this.props.newTopicUrl,onClick:function(e){e.preventDefault(),t.props.onCreateTopic()},title:"New Topic",className:"pageheader__calltoaction"},"New Topic")},n.prototype.renderNewScriptCta=function(){return e.createElement("a",{href:this.props.newScriptUrl,title:"New Script",className:"pageheader__calltoaction"},"New Script")},n.prototype.renderNewKernelCta=function(){return!this.isNoDataSourceDataset()&&e.createElement("a",{href:"javascript:void(0)",onClick:this.props.onNewKernelClicked,title:"New Script",className:"pageheader__calltoaction"},"New Kernel")},n.prototype.componentDidMount=function(){window.Intercom("trackEvent","view_dataset")},n.prototype.render=function(){var t=this,n=e.createElement(s.EditStateToggleButton,{className:"dataset-header__edit-info",editButtonText:e.createElement("span",{className:"fa fa-pencil"}),saveButtonText:e.createElement("span",{className:"fa fa-save"}),sectionName:"HeaderInfo",isEditing:this.props.isEditingHeaderInfo,toggleCallback:this.props.onDatasetEditingStateChanged});Math.max(this.props.scripts.length,this.props.discussions.length,this.props.contributors.length,1);return e.createElement("div",{className:"dataset-header"},e.createElement(i.PageHeader,{backgroundClass:"dataset-header__container"},e.createElement(i.PageHeaderTopRowSafe,null,e.createElement("div",{className:"dataset-header__top"},this.props.canEdit&&!this.props.isNewDataset?n:null,this.renderTitle(),this.renderSubtitle(),e.createElement("div",{className:"dataset-header__image"},e.createElement("img",{src:this.props.coverImageUrl})),this.renderOptionalVoteButton(),this.props.canEdit&&!this.props.isEditingHeaderInfo?e.createElement("a",{className:"dataset-header__upload-image-button",onClick:this.props.onShowImageUploader}):null,this.renderOptionalImageUploader(),e.createElement("div",{className:"dataset-header__info"},this.props.isNewDataset&&this.props.owners.length>1?e.createElement(s.SelectBox,{className:"dataset-header__owner-selector KaggleBoxlessSelect",onChange:function(e){var n=t.props.owners.filter(function(t){return t.slug===e})[0];t.props.onDatasetPropChanged("ownerDisplayName",n.name),t.props.onDatasetPropChanged("ownerSlug",n.slug),t.props.onDatasetPropChanged("ownerProfileUrl",n.profileUrl),t.props.onDatasetPropChanged("ownerAvatarUrl",n.imageUrl),t.props.onDatasetPropChanged("organizationId",n.isOrganization?n.id.toString():null)},options:this.props.owners.map(function(e){return{label:e.name,value:e.slug}}),searchable:!1,value:this.props.ownerSlug}):e.createElement("a",{href:this.props.ownerProfileUrl,className:"dataset-header__owner-name"},e.createElement("img",{className:"dataset-header__owner-thumbnail",src:this.props.ownerAvatarUrl})," "+this.props.ownerDisplayName),this.props.isNewDataset?null:e.createElement("time",{dateTime:this.props.lastUpdated.toString(),title:this.props.lastUpdated.toString()},e.createElement("span",{className:"dataset-header__meta-bullet"}," • "),"last updated ",e.createElement(s.TimeAgo,{time:this.props.lastUpdated}))))),e.createElement(i.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},e.createElement(s.OverflowX,null,e.createElement(i.PageHeaderNav,{classNameModifier:"dataset",menuLinks:this.props.isNewDataset?null:[{title:"Overview",text:"Overview",actionCallback:function(){return t.props.onChangeTab("home")}},{title:"Kernels",text:"Kernels",actionCallback:function(){return t.props.onChangeTab("kernels")}},{title:"Discussion",text:"Discussion",actionCallback:function(){return t.props.onChangeTab("discussion")}},{title:"Activity",text:"Activity",actionCallback:function(){return t.props.onChangeTab("feed")}},!this.props.downloadSize||s.Current.hasMultipleDataSources||this.isNoDataSourceDataset()?null:{href:this.props.downloadUrl,title:"Download",actionCallback:this.trackDownload,text:"Download ("+l(this.props.downloadSize,{round:0})+")"}],rightMenuLinks:this.props.isNewDataset||this.props.isOldDatasetVersion||"discussion"==this.props.currentTab||s.Current.hasMultipleDataSources?this.props.downloadSize&&!this.isNoDataSourceDataset()?[{href:this.props.downloadUrl,title:"Download",actionCallback:this.trackDownload,text:"Download ("+l(this.props.downloadSize,{round:0})+")"}]:null:[{href:this.props.newNotebookUrl,title:"New Notebook",text:"New Notebook"}],activeTab:"home"==this.props.currentTab?"Overview":"kernels"==this.props.currentTab?"Kernels":"discussion"==this.props.currentTab?"Discussion":"feed"==this.props.currentTab?"Activity":""}),this.renderOptionalCallToAction()))))},n}(e.Component);t.DatasetHeader=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(165),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.ScriptList,{languagesMetadataUrl:"/kernels/alllang",listTitle:"Kernels",loginAndReturnUrl:null,newNotebookUrl:null,newScriptUrl:null,outputTypesMetadataUrl:"/kernels/allouttypes",showFilters:!0,showScriptProjectName:!1,sourceBaseUrl:"/kernels/d/"+this.props.datasetId+"/",isHidden:"kernels"!=this.props.currentTab})},n}(e.Component);t.DatasetKernels=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(19),s=n(8),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"dataset-version-list"},this.props.datasetVersionListItems.map(function(n,a){var o=(t.props.activeVersionId,n.id,"ready"==n.status?"":"failed"==n.status?"Processing this version failed.":"This version is in progress."),r="ready"==n.status||"failed"==n.status?n.status:"progress";return e.createElement("div",{key:t.props.datasetVersionListKeyBaseName+a,className:s("dataset-version-list__item",t.props.isEditing?"dataset-version-list__item--editing":"dataset-version-list__item--read-only")},e.createElement("div",{className:"dataset-version-list__item-meta"},t.props.hideVersionStatuses?null:e.createElement("div",{className:s("dataset-version-list__item-status","dataset-version-list__item-status--"+r,"progress"==r?"fa-spin":"",t.props.isEditing?"dataset-version-list__item-name--editing":""),title:o}),e.createElement("div",{className:s("dataset-version-list__item-name",t.props.isEditing?"dataset-version-list__item-name--editing":"")},"ready"==n.status?e.createElement("a",{href:n.datasetVersionUrl,className:"dataset-version-list__item-link"},"Version "+n.versionNumber+" "):null),e.createElement("div",{className:s("dataset-version-list__item-date",t.props.isEditing?"dataset-version-list__item-date--editing":"")},e.createElement(i.TimeAgo,{time:n.creationDate}))),e.createElement("div",{className:s("dataset-version-list__item-notes","dataset-version-list__item-notes--"+r),title:o},t.props.datasetVersionNotesRenderer(n.versionNotes,a,t.props.textareaPlaceholder)))}))},n}(e.Component);t.DatasetVersionList=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){for(var t=this.props,n=t.forums,s=a.__rest(t,["forums"]),o=[],r=0;r<n.length;r+=3)o.push(n.slice(r,r+3));var l=0;return e.createElement("div",null,e.createElement(i.Banner,{title:"Discussion",bannerImageClassName:"discussion__banner-image"}),e.createElement("div",{className:"discussion"},e.createElement("div",{className:"discussion__forums"},e.createElement("div",{className:"discussion__forums-header"},"Site Forums"),o.map(function(t){return e.createElement("div",{className:"discussion__forums-row",key:l++},t.map(function(t){return e.createElement(i.BlockLink,{borderless:!0,className:"discussion__forum",href:t.url,key:t.name},e.createElement("img",{className:"discussion__forum-image",src:t.imageUrl}),e.createElement("div",{className:"discussion__forum-title"},e.createElement("span",null,t.name," ",t.isPrivate?e.createElement("span",{className:"fa fa-lock"}):null),e.createElement("span",{className:"discussion__forum-subtitle"},t.subtitle),t.lastPostDate?e.createElement("a",{className:"discussion__forum-last-post",href:t.lastPostUrl},"last post ",e.createElement(i.TimeAgo,{time:t.lastPostDate})):null))}))})),e.createElement(i.Forum,a.__assign({},s,{isRootLevel:!0,isSitewide:!0,onTopicClicked:function(e){return window.location.href=e.topicUrl}}))))},n}(e.Component);t.Discussion=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(e){var n=t.call(this,e)||this;return n.onWindowPopState=function(e){e.state?n.setState(e.state):n.setState({isNew:n.props.isNew,topicId:n.props.topicId})},n.visitUrl=function(e,t){void 0===t&&(t=!1);var a={isNew:n.state.isNew,topicId:n.state.topicId};t?history.replaceState(a,document.title,e):history.pushState(a,document.title,e)},n.getUrl=function(){return n.props.url+(n.state.isNew?"/new":n.state.topicId?"/"+n.state.topicId:"")+(window.location.hash?window.location.hash:"")},n.state={isNew:n.props.isNew,topicId:n.props.topicId},n}return a.__extends(n,t),n.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},n.prototype.render=function(){var t=this,n=this.props,s=(n.forums,n.imageUrl),o=n.subtitle,r=n.name,l=n.url,c=a.__rest(n,["forums","imageUrl","subtitle","name","url"]);return e.createElement("div",{className:"site-forum"},e.createElement("div",{className:"site-forum__header"},e.createElement(i.PageHeader,null,e.createElement(i.PageHeaderTopRow,{coverImageUrl:s,isEditingHeaderInfo:!1,subtitle:o,title:r,titleUrl:l}),e.createElement(i.PageHeaderBottomRow,null,e.createElement(i.OverflowX,null,e.createElement(i.PageHeaderNav,{classNameModifier:"profile",menuLinks:this.props.forums.filter(function(e){return"Spam Posts"!==e.name&&"Deleted Posts"!==e.name}).map(function(e){return{href:e.url,title:e.name,text:e.name}}),overflowMenuLinks:this.props.forums.filter(function(e){return"Spam Posts"===e.name||"Deleted Posts"===e.name}).map(function(e){return{href:e.url,title:e.name,text:e.name}}),activeTab:this.props.name}),e.createElement(i.PageHeaderCallToAction,{onClick:function(){return t.setState({isNew:!0,topicId:null},function(){return t.visitUrl(t.getUrl())})},text:"New Topic",title:"New Topic"}))))),e.createElement(i.Forum,a.__assign({},c,{paramValues:a.__assign({},this.props.paramValues,this.state),forumId:this.props.id,isNew:this.state.isNew,onTopicClicked:function(e){return t.setState({topicId:e.id},function(){return t.visitUrl(t.getUrl())})},topicSubmitted:function(e){return t.setState({isNew:!1,topicId:e},function(){return t.visitUrl(t.getUrl())})},parentName:this.props.name,parentUrl:this.props.url,topicId:this.state.topicId,dataUrl:this.props.dataUrl})))},n}(e.Component);t.SiteForum=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(94),s=n(101),o=n(19),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderListItem=function(t,n){return e.createElement("a",{key:n,className:"forum-topic-list-item",href:t.url},e.createElement("div",{className:"forum-topic-list-item__info"},e.createElement("span",{className:"forum-topic-list-item__title"},t.title),e.createElement("div",{className:"forum-topic-list-item__posted"},e.createElement(o.TimeAgo,{time:t.lastPost}))),e.createElement("div",{className:"forum-topic-list-item__replies"},e.createElement("span",{className:"forum-topic-list-item__replies-number"},t.totalReplies),e.createElement("span",{className:"forum-topic-list-item__replies-sub-text"},i("reply",t.totalReplies))))},n.prototype.render=function(){return e.createElement(s.TeaserList,{minItemHeight:this.props.minItemHeight,listItems:this.props.items,listItemRenderer:this.renderListItem,emptyListCreateNewUrl:this.props.emptyListUrl,emptyListMessage:"There are no conversations yet.",emptyListCreateNewText:"Start one"})},n}(e.Component);t.ForumTopicListTeaser=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-blog"},e.createElement("img",{className:"newsfeed-blog__image",src:this.props.blog.blogImageUrl}),e.createElement("div",{className:"newsfeed-blog__summary",dangerouslySetInnerHTML:{__html:this.props.blog.blogSummary}}))},n}(e.Component);t.NewsfeedBlog=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(19),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-competition-sidebar"},e.createElement("div",{className:"newsfeed-competition-sidebar__container"},e.createElement("a",{href:this.props.competitionUrl},e.createElement("img",{src:this.props.imageUrl,className:"newsfeed-competition-sidebar__image"})),e.createElement("div",{className:"newsfeed-competition-sidebar__text-container"},e.createElement("div",{className:"newsfeed-competition-sidebar__title"},e.createElement("a",{href:this.props.competitionUrl},this.props.title)),e.createElement("div",{className:"newsfeed-competition-sidebar__sub-content"},e.createElement("div",{className:"newsfeed-competition-sidebar__hover-links"},e.createElement("ul",null,e.createElement("li",null,e.createElement("a",{href:this.props.leaderboardUrl},"Leaderboard")),e.createElement("li",null,e.createElement("a",{href:this.props.forumUrl},"Forum")),e.createElement("li",null,e.createElement("a",{href:this.props.submissionsUrl},"Submissions")))),e.createElement("div",{className:"newsfeed-competition-sidebar__remaining"},e.createElement("ul",null,this.props.ranking?e.createElement("li",null,this.props.ranking," of ",this.props.totalTeams):null,e.createElement("li",null,e.createElement(i.TimeAgo,{time:this.props.deadline,toGoOverride:"remaining"}))))))))},n}(e.Component);t.NewsfeedCompetitionSidebar=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(214),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-competition"},e.createElement("div",{className:"newsfeed-competition__content"},e.createElement("img",{src:this.props.competition.competitionImageUrl,className:"newsfeed-competition__image"}),e.createElement("div",{className:"newsfeed-competition__content-text-container"},e.createElement("a",{className:"newsfeed-competition__content-title",href:this.props.competition.competitionUrl},this.props.competition.competitionName),e.createElement("div",{className:"newsfeed-competition__content-overview"},this.props.competition.competitionOverview))),"competitionStarted"!=this.props.storyType?e.createElement("div",{className:"newsfeed-competition__results-container"},e.createElement("div",{className:"newsfeed-competition__results-label"},"competitionEnded"==this.props.storyType?"Preliminary Results":"Final Results"),this.props.competition.teams.map(function(t){return e.createElement("div",{className:"newsfeed-competition__results-team-container"},e.createElement("div",{className:"newsfeed-competition__results-team-rank"},e.createElement(i.FormatPlace,{number:t.rank})),1==t.users.length?e.createElement("a",{className:"newsfeed-competition__results-team-link",href:t.users[0].url},t.users[0].name):e.createElement("div",{className:"newsfeed-competition__results-team-group"},t.name," ",e.createElement("span",{className:"newsfeed-competition__results-team-user-list"},"(",t.users.map(function(n,a){return e.createElement("span",null,e.createElement("a",{className:"newsfeed-competition__results-team-user",href:n.url},n.name),a<t.users.length-1?", ":"")}),")")))}),"competitionEnded"==this.props.storyType?e.createElement("div",{className:"newsfeed-competition__preliminary-label"},"This reflects the preliminary standings - results will become final after the competition organizers verify the results."):null):null)},n}(e.Component);t.NewsfeedCompetition=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(36),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-dataset-sidebar"},e.createElement("div",{className:"newsfeed-dataset-sidebar__container"},e.createElement("a",{href:this.props.datasetUrl},e.createElement("img",{src:this.props.imageUrl,className:"newsfeed-dataset-sidebar__image"})),e.createElement("div",{className:"newsfeed-dataset-sidebar__text-container"},e.createElement("div",{className:"newsfeed-dataset-sidebar__title"},e.createElement("a",{href:this.props.datasetUrl},this.props.title)),e.createElement("div",{className:"newsfeed-dataset-sidebar__sub-content"},this.props.kernelCount>0?e.createElement("a",{href:this.props.kernelsUrl},e.createElement(i.Pluralize,{count:this.props.kernelCount,word:"kernels"})):null,this.props.kernelCount>0&&this.props.topicCount>0?e.createElement("span",null," ∙ "):null,this.props.topicCount>0?e.createElement("a",{href:this.props.forumUrl},e.createElement(i.Pluralize,{count:this.props.topicCount,word:"topics"})):null))))},n}(e.Component);t.NewsfeedDatasetSidebar=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(61),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-dataset"},e.createElement("div",{className:"newsfeed-dataset__content"},e.createElement("a",{className:"newsfeed-dataset__content-imagelink",href:this.props.dataset.datasetUrl},e.createElement("img",{src:this.props.dataset.datasetImageUrl,className:"newsfeed-dataset__image"})),e.createElement("div",{className:"newsfeed-dataset__content-text-container"},e.createElement("a",{className:"newsfeed-dataset__content-title",href:this.props.dataset.datasetUrl},this.props.dataset.datasetTitle),e.createElement("div",{className:"newsfeed-dataset__content-overview"},this.props.dataset.datasetOverview))),"datasetVersion"==this.props.storyType?e.createElement("div",{className:"newsfeed-dataset__version-notes-container"},e.createElement("div",{className:"newsfeed-dataset__version-notes-label"},"Version notes"),e.createElement(i.MarkdownConverter,{contentClassName:"newsfeed-dataset__version-notes-text",content:this.props.dataset.datasetVersionNotes,mimeType:"text/markdown",insertNofollow:!0})):null)},n}(e.Component);t.NewsfeedDataset=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-job-sidebar"},e.createElement("div",{className:"newsfeed-job-sidebar__container"},e.createElement("a",{href:this.props.postUrl},e.createElement("img",{src:this.props.imageUrl,className:"newsfeed-job-sidebar__image"})),e.createElement("div",{className:"newsfeed-job-sidebar__text-container"},e.createElement("div",{className:"newsfeed-job-sidebar__title"},e.createElement("a",{href:this.props.postUrl},this.props.position)),e.createElement("div",{className:"newsfeed-job-sidebar__sub-content"},this.props.company," ",e.createElement("span",null," ∙ "),e.createElement("span",{className:"fa fa-map-marker"})," ",this.props.location))))},n}(e.Component);t.NewsfeedJobSidebar=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(19),s=n(36),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-kernel-sidebar"},e.createElement("div",{className:"newsfeed-kernel-sidebar__container"},e.createElement("a",{href:this.props.kernelUrl},e.createElement("img",{src:this.props.imageUrl,className:"newsfeed-kernel-sidebar__image"})),e.createElement("div",{className:"newsfeed-kernel-sidebar__text-container"},e.createElement("div",{className:"newsfeed-kernel-sidebar__title"},e.createElement("a",{href:this.props.kernelUrl},this.props.title)),e.createElement("div",{className:"newsfeed-kernel-sidebar__sub-content"},e.createElement("ul",null,e.createElement("li",null,e.createElement(i.TimeAgo,{time:this.props.lastRunDate})),e.createElement("li",null,e.createElement(s.Pluralize,{count:this.props.voteCount,word:"votes"})),e.createElement("li",null,e.createElement("a",{href:this.props.commentsUrl},e.createElement(s.Pluralize,{count:this.props.commentCount,word:"comments"}))))))))},n}(e.Component);t.NewsfeedKernelSidebar=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-kernel"},this.props.kernel.kernelVisualizationUrl?e.createElement("div",{className:"newsfeed-kernel__image-container"},e.createElement("a",{href:this.props.kernel.kernelUrl},e.createElement("img",{className:"newsfeed-kernel__image",src:this.props.kernel.kernelVisualizationUrl}))):null)},n}(e.Component);t.NewsfeedKernel=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(210),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-message"},e.createElement("div",{className:"newsfeed-message__content"},e.createElement(i.ForumMessageContent,{rawMarkdown:this.props.discussion.messageRawMarkdown,rawHtml:this.props.discussion.messageRawHtml})))},n}(e.Component);t.NewsfeedMessage=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(139),s=n(7),o=n(1064),r=n(38),l=n(19),c=n(69),p=n(965),u=n(953),d=n(955),m=n(957),h=n(960),g=n(961),f=n(964),v=n(954),_=n(956),b=n(959),E=n(958),y=n(966),C=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderStoryContent=function(t){switch(t.storyType){case"blogPost":return e.createElement(u.NewsfeedBlog,a.__assign({},t));case"forumMessage":case"datasetMessage":case"competitionMessage":case"kernelMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return e.createElement(g.NewsfeedMessage,a.__assign({},t));case"kernel":case"kernelRun":return e.createElement(h.NewsfeedKernel,a.__assign({},t));case"competitionStarted":case"competitionEnded":case"competitionFinalized":return e.createElement(d.NewsfeedCompetition,a.__assign({},t));case"dataset":case"datasetVersion":return e.createElement(m.NewsfeedDataset,a.__assign({},t));case"blogPost":return e.createElement(u.NewsfeedBlog,a.__assign({},t));default:return null}},n.renderStory=function(t){return e.createElement("div",{className:"newsfeed__story-container",key:t.storyType+"-"+t.storyItemId},"kernel"!=t.storyType&&"kernelRun"!=t.storyType||t.kernel.kernelVisualizationUrl?e.createElement("div",{className:"newsfeed__story"},e.createElement(p.NewsfeedStoryHeader,a.__assign({},t)),e.createElement("div",{className:"newsfeed__story-content"},n.renderStoryContent(t))):e.createElement(p.NewsfeedStoryHeader,a.__assign({},t,{borderless:!0})))},n}return a.__extends(n,t),n.prototype.getStoryLink=function(e){switch(e.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return e.discussion.topicUrl;case"kernelMessage":case"kernel":case"kernelRun":return e.kernel.kernelUrl;case"competitionStarted":case"competitionEnded":case"competitionFinalized":return e.competition.competitionUrl;case"dataset":case"datasetVersion":return e.dataset.datasetUrl;case"blogPost":return e.blog.blogUrl;default:return null}},n.prototype.render=function(){return e.createElement("div",{className:"newsfeed"},e.createElement("div",{className:"newsfeed__main-content"},e.createElement("div",{className:"newsfeed__story-list"},e.createElement(i.SmartListContainer,{dataUrl:"/newsfeed.json",data:this.props,dataPathToList:"stories",pluralItemDescription:"stories",itemRenderer:this.renderStory,isUnstyled:!0,pageSize:10})),e.createElement("div",{className:"newsfeed__sidebar-list"},e.createElement(s.ContentBox,null,e.createElement(r.BlockLink,{href:this.props.userUrl,className:"newsfeed__profile"},e.createElement("div",{className:"newsfeed__profile-avatar"},e.createElement(c.Avatar,{tier:this.props.userTier,width:50,thumbnailUrl:this.props.avatarUrl,displayName:this.props.userName,userUrl:this.props.userUrl})),e.createElement("div",{className:"newsfeed__profile-info"},e.createElement("div",{className:"newsfeed__profile-name"},e.createElement("a",{href:this.props.userUrl},this.props.userName)),e.createElement("div",{className:"newsfeed__profile-label"},"Joined ",e.createElement(l.TimeAgo,{time:this.props.userJoinDate})))),e.createElement("div",{className:"newsfeed__progression"},e.createElement(f.NewsfeedProgression,a.__assign({},this.props.progression)))),null!=this.props.banneredJob?e.createElement(s.ContentBox,null,e.createElement(r.BlockLink,{href:this.props.banneredJob.postUrl,className:"newsfeed__bannered-job",borderless:!0},e.createElement("div",null,e.createElement("img",{src:this.props.banneredJob.imageUrl,className:"newsfeed__bannered-job-image"})),e.createElement("div",{className:"newsfeed__bannered-job-text"},e.createElement("div",{className:"newsfeed__bannered-job-company"},this.props.banneredJob.company," is hiring"),e.createElement("div",{className:"newsfeed__bannered-job-position"},this.props.banneredJob.position),e.createElement("div",{className:"newsfeed__bannered-job-location"},e.createElement("span",{className:"fa fa-map-marker"})," ",this.props.banneredJob.location)))):null,e.createElement(o.SidebarContent,{title:"my"==this.props.competitionSidebarType?"My Competitions":"Recommended Competitions"},e.createElement("div",{className:"newsfeed__competitions-sidebar"},this.props.competitionSidebarList.map(function(t,n){return e.createElement(v.NewsfeedCompetitionSidebar,a.__assign({},t,{key:n}))}))),e.createElement(o.SidebarContent,{title:"recent"==this.props.datasetSidebarType?"Recent Datasets":"Recommended Datasets"},e.createElement("div",{className:"newsfeed__datasets-sidebar"},this.props.datasetSidebarList.map(function(t,n){return e.createElement(_.NewsfeedDatasetSidebar,a.__assign({},t,{key:n}))}))),e.createElement(o.SidebarContent,{title:"my"==this.props.kernelSidebarType?"My Kernels":"Recommended Kernels"},e.createElement("div",{className:"newsfeed__datasets-sidebar"},this.props.kernelSidebarList.map(function(t,n){return e.createElement(b.NewsfeedKernelSidebar,a.__assign({},t,{key:n}))}))),e.createElement(o.SidebarContent,{title:"recent"==this.props.topicSidebarType?"Recent Topics":"Recommended Topics"},e.createElement("div",{className:"newsfeed__topics-sidebar"},this.props.topicSidebarList.map(function(t,n){return e.createElement(y.NewsfeedTopicSidebar,a.__assign({},t,{key:n}))}))),e.createElement(o.SidebarContent,{title:"Recent Jobs",titleRightText:"See all jobs",titleRightHref:"/jobs"},e.createElement("div",{className:"newsfeed__jobs-sidebar"},this.props.jobsBoardSidebarList.map(function(t,n){return e.createElement(E.NewsfeedJobSidebar,a.__assign({},t,{key:n}))}))))))},n}(e.Component);t.Newsfeed=C}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(962),s=function(t){function n(e){var n=t.call(this,e)||this;return n.state=n.props,n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.Newsfeed,this.state)},n}(e.Component);t.NewsfeedContainer=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(214),s=n(8),o=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderChecklistItem=function(t,n,a){return e.createElement("div",{className:s("newsfeed-progression__item","newsfeed-progression__item--"+(t.isComplete?"checked":"unchecked"),"newsfeed-progression__item--"+n),key:a},t.name)},n}return a.__extends(n,t),n.prototype.toTitleCase=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},n.prototype.renderTierList=function(t,n,a,o,r,l){var c=this;return e.createElement("div",{className:"newsfeed-progression"},e.createElement("a",{href:"grandmaster"==n?"/rankings?group="+t.toLowerCase():"/progression#"+r,className:s("newsfeed-progression__header","newsfeed-progression__header--"+n)},t," ",this.toTitleCase(n)),e.createElement("div",{className:"newsfeed-progression__list-container"},"grandmaster"==n?e.createElement("div",{className:"newsfeed-progression__ranking"},o?e.createElement("span",null,"Ranked ",e.createElement(i.FormatPlace,{number:o})):"Unranked"):l.map(function(e,t){return c.renderChecklistItem(e,n,t)})))},n.prototype.render=function(){var t=this;return this.props.isContributorOrHigher?e.createElement("div",null,this.renderTierList("Competitions",this.props.currentCompetitionTier,"competition",this.props.currentCompetitionRanking,this.props.nextCompetitionTier,this.props.competitionChecklist),this.renderTierList("Kernels",this.props.currentKernelTier,"scripts",this.props.currentKernelRanking,this.props.nextKernelTier,this.props.kernelChecklist),this.renderTierList("Discussion",this.props.currentDiscussionTier,"discussions",this.props.currentDiscussionRanking,this.props.nextDiscussionTier,this.props.discussionChecklist)):e.createElement("div",{className:"newsfeed-progression"},e.createElement("div",{className:"newsfeed-progression__header newsfeed-progression__header--novice"},"Novice"),e.createElement("div",null,this.props.contributorChecklist.map(function(e,n){return t.renderChecklistItem(e,"novice",n)})))},n}(e.Component);t.NewsfeedProgression=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(19),s=n(69),o=n(115),r=n(36),l=n(8),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderLink=function(t,n){return e.createElement("a",{href:t},n)},n.prototype.renderActionText=function(){switch(this.props.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":return e.createElement("span",null," replied to ",this.renderLink(this.props.discussion.messageUrl,this.props.discussion.topicName));case"forumTopic":case"datasetTopic":case"competitionTopic":return e.createElement("span",null," created topic ",this.renderLink(this.props.discussion.topicUrl,this.props.discussion.topicName));case"kernelMessage":return e.createElement("span",null," commented on kernel ",this.renderLink(this.props.discussion.messageUrl,this.props.kernel.kernelName));case"competitionStarted":return e.createElement("span",null," launched competition ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"competitionEnded":return e.createElement("span",null,"'s competition concluded ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"competitionFinalized":return e.createElement("span",null,"'s competition finalized ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"kernel":case"kernelRun":return e.createElement("span",null," ran kernel ",this.renderLink(this.props.kernel.kernelUrl,this.props.kernel.kernelName));case"dataset":return e.createElement("span",null," posted new dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle));case"datasetVersion":return e.createElement("span",null," updated dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle));case"blogPost":return e.createElement("span",null," posted blog ",this.renderLink(this.props.blog.blogUrl,this.props.blog.blogTitle));default:return null}},n.prototype.renderGrandParentText=function(){switch(this.props.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return e.createElement("span",null," in ",this.renderLink(this.props.discussion.forumUrl,this.props.discussion.forumName),e.createElement("span",null," ∙ "),this.renderLink(this.props.comments.commentsUrl,e.createElement(r.Pluralize,{count:this.props.comments.commentCount,word:"comments"})));case"kernel":case"kernelRun":return e.createElement("span",null," on ",this.props.kernel.kernelHasMultipleDataSources?e.createElement("span",null,this.renderLink(this.props.kernel.kernelInputUrl,"multiple data sources")):this.props.competition.competitionName?e.createElement("span",null,"competition ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName)):e.createElement("span",null,"dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle)),e.createElement("span",null," ∙ "),this.renderLink(this.props.comments.commentsUrl,e.createElement(r.Pluralize,{count:this.props.comments.commentCount,word:"comments"})));default:return null}},n.prototype.render=function(){return e.createElement("div",{className:l("newsfeed-story-header",this.props.borderless?"newsfeed-story-header--borderless":"newsfeed-story-header--bordered")},this.props.vote?e.createElement("div",{className:"newsfeed-story-header__vote-button-container"},e.createElement(o.VoteButton,{voteUpUrl:this.props.vote.upvoteUrl,canDownvote:this.props.vote.canDownvote,canUpvote:this.props.vote.canUpvote,hasAlreadyVotedUp:this.props.vote.hasAlreadyUpvoted,hasAlreadyVotedDown:this.props.vote.hasAlreadyDownvoted,totalVotes:this.props.vote.voteCount,voteDownUrl:this.props.vote.downvoteUrl})):null,e.createElement("div",{className:l("newsfeed-story-header__avatar-container",this.props.vote?null:"newsfeed-story-header__avatar-container--no-voting")},e.createElement(s.Avatar,{tier:this.props.user.userTier,displayName:this.props.user.userDisplayName,thumbnailUrl:this.props.user.userAvatarUrl,userUrl:this.props.user.userUrl})),e.createElement("div",{className:"newsfeed-story-header__text-container"},e.createElement("div",{className:"newsfeed-story-header__label"},e.createElement("a",{href:this.props.user.userUrl},this.props.user.userDisplayName),this.renderActionText()),e.createElement("div",{className:"newsfeed-story-header__sublabel"},e.createElement(i.TimeAgo,{time:this.props.date}),this.renderGrandParentText())))},n}(e.Component);t.NewsfeedStoryHeader=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(19),s=n(36),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"newsfeed-topic-sidebar"},e.createElement("div",{className:"newsfeed-topic-sidebar__container"},e.createElement("a",{href:this.props.topicUrl},e.createElement("img",{src:this.props.avatarUrl,className:"newsfeed-topic-sidebar__image"})),e.createElement("div",{className:"newsfeed-topic-sidebar__text-container"},e.createElement("div",{className:"newsfeed-topic-sidebar__title"},e.createElement("a",{href:this.props.topicUrl},this.props.topicName)),e.createElement("div",{className:"newsfeed-topic-sidebar__sub-content"},e.createElement("ul",null,e.createElement("li",null,e.createElement(i.TimeAgo,{time:this.props.lastUserMessageDate})),e.createElement("li",null,e.createElement("a",{href:this.props.topicUrl},e.createElement(s.Pluralize,{count:this.props.totalPosts,word:"comments"}))))))))},n}(e.Component);t.NewsfeedTopicSidebar=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.JobListContainer,{isActive:!0})},n}(e.Component);t.default=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(967),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.default,a.__assign({},this.state,this.props))},n}(e.Component);t.default=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(t)?t:null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(38),o=n(81),r=n(212),l=n(279),c=n(7),p=n(428),u=n(413),d=n(112),m=n(99),h=n(283),g=n(61),f=n(36),v=n(1058),_=n(101),b=n(19),E=n(971),y=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderCompetitionTeaserItem=function(t,n){return e.renderTeaserItem(t.competitionUrl,t.thumbnailImageUrl,t.competitionTitle,t.deadline,n)},e.renderDatasetTeaserItem=function(t,n){return e.renderTeaserItem(t.datasetUrl,t.thumbnailImageUrl,t.title,t.dateUpdated,n)},e.renderPersonTeaserItem=function(t,n){return e.renderTeaserItem("."+t.slug,t.imageUrl,t.name,t.joinDate,n)},e}return i.__extends(n,t),n.prototype.getCityDescription=function(){var e=p.getCountryNameByCode(this.props.country)||this.props.country;return[this.props.city,this.props.region,e].filter(Boolean).join(", ")},n.prototype.renderActiveTab=function(){switch(this.props.activeTab.toLowerCase()){case"home":return this.renderHome();case"competitions":return this.renderCompetitions();case"datasets":return this.renderDatasets();case"people":return this.renderPeople();default:return null}},n.prototype.renderTeaserItem=function(t,n,a,i,o){return e.createElement(s.BlockLink,{href:t,key:o},e.createElement("div",{className:"organization-profile__home-teaser-item"},e.createElement("div",null,e.createElement("img",{src:n,title:a,className:"organization-profile__home-teaser-thumbnail"})),e.createElement("div",{className:"organization-profile__home-teaser-title"},e.createElement("div",null,e.createElement("a",{href:t},a)),e.createElement("div",{className:"organization-profile__home-teaser-time"},e.createElement(b.TimeAgo,{time:i,futureDateMessage:"In progress"})))))},n.prototype.renderHome=function(){var t=this;return e.createElement("div",{className:"organization-profile__profile-wrapper"},e.createElement("div",{className:"organization-profile__profile-row"},this.props.canEditSlug?e.createElement("div",{className:"organization-profile__power-settings"},e.createElement(c.ContentBox,{title:this.props.isNew?"Choose a Permanent URL":"Power settings",titleBarRightSide:e.createElement(d.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",isEditing:this.props.isEditingHeader,toggleCallback:function(){return t.props.onProfileEditingStateChanged("Header")},cancelCallback:function(){return t.props.onProfileEditingStateCancelled("Header",[])}})},e.createElement("section",{className:"organization-profile__section"},"https://www.kaggle.com/",this.props.isEditingHeader?e.createElement(m.InlineTextEditor,{className:"organization-profile__inline-slug-editor",value:this.props.slug,rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(e){return t.props.onProfilePropChanged("slug",e)}}):this.props.slug),this.props.isAdmin?e.createElement("section",{className:"organization-profile__section"},"Maximum dataset size (Mb): ",this.props.isEditingHeader?e.createElement(m.InlineTextEditor,{className:"organization-profile__inline-slug-editor",value:(this.props.datasetMaxFileSizeMegabytes||"").toString(),rejectedCharacterRegExp:/[^0-9]+/g,onChangeCallback:function(e){return t.props.onProfilePropChanged("datasetMaxFileSizeMegabytes",a(e))}}):this.props.datasetMaxFileSizeMegabytes||"Default"):null)):null,e.createElement("div",{className:"organization-profile__description"},e.createElement(h.MarkdownContentBox,{content:this.props.overview,canEdit:this.props.canEdit&&!this.props.isNew,contentBoxTitle:"About "+(this.props.isNew?"your organization":this.props.displayName),contentClassName:"organization-profile__description-content",isEditing:this.props.isNew,mimeType:g.MarkdownConverterMimeTypes.Markdown,onChangeCallback:this.props.isNew?function(e){return t.props.onProfilePropChanged("overview",e)}:null,onSaveClicked:this.props.isNew?null:this.props.onOverviewSaveClicked})),this.props.users&&this.props.users.length>0?e.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--people"},e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.users.length,word:"people"}),onTitleClick:function(){return t.props.onTabClicked("people")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement("div",{className:"organization-profile__home-teaser-wrapper"},e.createElement(_.TeaserList,{minItemHeight:1,listItems:this.props.users.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderPersonTeaserItem})))):null),e.createElement("div",{className:"organization-profile__profile-row"},this.props.competitions&&this.props.competitions.length>0?e.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--competitions"},e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.competitions.length,word:"competition"}),onTitleClick:function(){return t.props.onTabClicked("competitions")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement("div",{className:"organization-profile__home-teaser-wrapper"},e.createElement(_.TeaserList,{minItemHeight:1,listItems:this.props.competitions.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderCompetitionTeaserItem})))):null,this.props.datasets&&this.props.datasets.length>0?e.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--datasets"},e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.datasets.length,word:"dataset"}),onTitleClick:function(){return t.props.onTabClicked("datasets")},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement("div",{className:"organization-profile__home-teaser-wrapper"},e.createElement(_.TeaserList,{minItemHeight:1,listItems:this.props.datasets.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderDatasetTeaserItem})))):null))},n.prototype.renderCompetitions=function(){return e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.competitions.length,word:"competition"})},this.props.competitions.map(function(t,n){return e.createElement(l.CompetitionCard,{key:n,competition:t})}))},n.prototype.renderDatasets=function(){return e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.datasets.length,word:"dataset"})},this.props.datasets.map(function(t,n){return e.createElement(u.DatasetListItem,{key:n,dataset:t,hideOwnerAvatar:!0})}),this.props.canEdit?e.createElement("div",{className:"dataset-list-item organization-profile__new-dataset-container"},e.createElement(o.Button,{href:"/datasets/new?owner="+this.props.slug,text:"Create new dataset"})):null)},n.prototype.renderPeople=function(){var t=this;return e.createElement(c.ContentBox,{title:e.createElement(f.Pluralize,{count:this.props.users.length,word:"person"})},e.createElement("div",{className:"organization-profile__user-cards"},this.props.users.map(function(n){return e.createElement(E.UserCard,i.__assign({},n,{canEdit:t.props.canEdit,onRemoveClicked:t.props.onUserRemoveClicked,key:n.slug}))}),this.props.canEdit?e.createElement("div",{className:"organization-profile__user-editor"},e.createElement("i",{className:"organization-profile__user-editor-image fa fa-user"}),e.createElement("div",{className:"organization-profile__user-editor-info"},e.createElement("span",{className:"organization-profile__user-editor-header"},"Add a person to this organization"),e.createElement("input",{className:"organization-profile__user-editor-input",placeholder:"Enter username",ref:this.props.onUserInputElementMounted,type:"text"}),e.createElement("span",{className:"organization-profile__user-editor-button"},e.createElement(o.Button,{isSmall:!0,onClick:this.props.onUserAddClicked,text:"Add person"})))):null))},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"organization-profile"},e.createElement(v.ProfileHeader,{modifier:"organization",displayName:this.props.displayName,avatarUrl:this.props.thumbnailImageUrl?this.props.thumbnailImageUrl:"https://i0.wp.com/kaggle2.blob.core.windows.net/avatars/thumbnails/default-thumb.png?ssl=1",twitterUserName:this.props.twitterUserName,gitHubUserName:this.props.gitHubUserName,linkedInUrl:this.props.linkedInUrl,websiteUrl:this.props.websiteUrl,activeTab:this.props.activeTab,menuLinks:this.props.menuLinks,onProfilePropChanged:this.props.onProfilePropChanged,onProfileTabChanged:function(e){return t.props.onTabClicked(e)},rightThumbnailUrl:"/static/images/profile-organization.svg",rightThumbnailLabel:"Organization",hideWebsiteUrl:!0,canEdit:this.props.canEdit,isEditingHeader:this.props.isEditingHeader,isEditingImage:this.props.isEditingImage,onOpenImageUploader:this.props.onOpenImageUploader,onCloseImageUploader:this.props.onCloseImageUploader,onUpdateImages:this.props.onUpdateImages,renderAdminCallToAction:function(){return t.props.isEditingHeader?e.createElement("div",{className:"organization-profile__cta-area"},t.props.isNew||t.props.isSaving?null:e.createElement("a",{className:"organization-profile__editing-cancel",onClick:function(){return t.props.onProfileEditingStateCancelled("Header",["city","country","displayName","gitHubUserName","linkedInUrl","region","thumbnailImageUrl","twitterUserName","websiteUrl"])}},"cancel"),e.createElement("a",{className:t.props.isSaving?"organization-profile__save-button pageheader__calltoaction--muted":"pageheader__calltoaction--active",onClick:function(){return t.props.onProfileEditingStateChanged("Header")},title:"Save Profile"},"Save Profile")):e.createElement("div",{className:"organization-profile__cta-area"},e.createElement("a",{className:"pageheader__calltoaction",onClick:function(){return t.props.onProfileEditingStateChanged("Header")},title:"Edit Profile"},"Edit Profile"))}},this.props.canEdit&&this.props.isEditingHeader?e.createElement("div",null,e.createElement("div",{className:"organization-profile__city-select"},e.createElement(r.CityLookup,{city:this.props.city,region:this.props.region,country:this.props.country,onChange:function(e,n,a){t.props.onProfilePropChanged("city",e),t.props.onProfilePropChanged("region",n),t.props.onProfilePropChanged("country",a)}}))):e.createElement("div",null,this.getCityDescription().length>0?e.createElement("span",{className:"organization-profile__info"},this.getCityDescription()):null,e.createElement("span",{className:"organization-profile__info"},"Joined ",e.createElement(b.TimeAgo,{time:this.props.joinDate})),e.createElement("span",{className:"organization-profile__info"},e.createElement("a",{href:this.props.websiteUrl,rel:"nofollow",className:"organization-profile__website-url"},this.props.websiteUrl)))),e.createElement("div",{className:"organization-profile__wrapper"},this.renderActiveTab()))},n}(e.Component);t.OrganizationProfile=y}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(5),o=n(969),r=n(24),l=function(t){function n(e){var n=t.call(this,e)||this;n.onProfileEditingStateChanged=function(e){if(!n.state.isSaving){var t={isSaving:!1},a=!n.state["isEditing"+e];if(t["isEditing"+e]=a,a)return void n.setState(t);var s=n.getValidationPageMessages();if(r.PageMessages.clear(),r.PageMessages.add(s),!(s.length>0)){var o={city:n.state.city,country:n.state.country,displayName:n.state.displayName,gitHubUserName:n.state.gitHubUserName,linkedInUrl:n.state.linkedInUrl,region:n.state.region,slug:n.state.slug,thumbnailImageUrl:n.state.thumbnailImageUrl,twitterUserName:n.state.twitterUserName,websiteUrl:n.state.websiteUrl,datasetMaxFileSizeMegabytes:n.state.datasetMaxFileSizeMegabytes};n.setState({isSaving:!0},function(){r.PageMessages.clear(),n.props.isNew?(o.overview=n.state.overview,i.ajax({context:n,url:"/organizations",type:"POST",contentType:"application/json",data:JSON.stringify(o),success:function(e){n.setState({twitterUserName:e.twitterUserName,gitHubUserName:e.gitHubUserName,isSaving:!1}),window.location.replace("/"+n.state.slug)},error:function(e){n.setState({isSaving:!1}),r.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.',type:"error"});for(var t=0,a=JSON.parse(e.responseText);t<a.length;t++){var i=a[t];r.PageMessages.error(i.error)}}})):i.ajax({context:n,url:n.props.slug+".json",type:"PUT",contentType:"application/json",data:JSON.stringify(o),success:function(e){t.twitterUserName=e.twitterUserName,t.gitHubUserName=e.gitHubUserName,n.setState(t);var a="/"+n.state.slug;a!=window.location.pathname&&window.location.replace(a),r.PageMessages.success("Changes to your profile have been saved.")},error:function(e){n.setState(t),r.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.',type:"error"});for(var a=0,i=JSON.parse(e.responseText);a<i.length;a++){var s=i[a];r.PageMessages.error(s.error)}}})})}}},n.onProfileEditingStateCancelled=function(e,t){var i={},s={};i["isEditing"+e]=!1;for(var o=0,l=t;o<l.length;o++){var c=l[o];s[c]=n.props[c]}n.setState(a.__assign({},i,s),function(){r.PageMessages.clear()})},n.onProfilePropChanged=function(e,t){var a={};a[e]=t,n.setState(a)},n.onTabClicked=function(e){n.setState({activeTab:e},function(){return n.updateUrlForTab(e)})},n.onOverviewSaveClicked=function(e){return i.ajax({type:"PUT",url:n.props.slug+"/overview",contentType:"application/json",processData:!1,data:JSON.stringify({overview:e})})},n.onUserAddClicked=function(){i.ajax({contentType:"application/json",data:JSON.stringify({userName:n.state.userInput.value}),type:"POST",url:"/"+n.props.slug+"/users"}).fail(function(e){404==e.status&&(r.PageMessages.clear(),r.PageMessages.error("We had trouble locating the requested username or organization."))}).done(function(e){r.PageMessages.clear(),n.setState({users:e.users}),n.state.userInput.value=""})},n.onUserInputElementMounted=function(e){n.setState({userInput:e})},n.onUserRemoveClicked=function(e){i.ajax({url:"/"+n.props.slug+"/users/"+e,type:"DELETE"}).done(function(e){n.setState({activeTab:e.activeTab,canEdit:e.canEdit,users:e.users}),n.setState({menuLinks:n.getMenuLinks()})})},n.getMenuLinks=function(){var e=[],t=function(e){return{href:"/"+n.props.slug+"/"+e.toLowerCase(),title:e,text:e,tab:e.toLowerCase()}};if(e.push(t("Home")),!n.props.isNew){var a=n.state.canEdit;(a||n.props.competitions.length>0)&&e.push(t("Competitions")),(a||n.props.datasets.length>0)&&e.push(t("Datasets")),(a||n.state.users.length>0)&&e.push(t("People"))}return e},n.replaceUrlForTab=function(e){if(!n.props.isNew){var t=window.history.state||{},a="/"+n.props.slug;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.replaceState(t,"",a)}},n.updateUrlForTab=function(e){if(!n.props.isNew){var t={};t.profileTabState={activeTab:e};var a="/"+n.props.slug;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.pushState(t,"",a)}},n.onWindowPopState=function(e){e.state&&e.state.profileTabState&&n.setState(e.state.profileTabState)},n.validationRules=[{isValid:function(){return n.state.displayName&&n.state.displayName.trim()},id:"organization-profile-no-name",message:function(){return"Please enter a display name."}},{isValid:function(){return n.state.displayName&&n.state.displayName.trim().length>=2&&n.state.displayName.trim().length<=50},id:"organization-profile-display-name-length",message:function(){return"Your display name must be between 2 and 50 characters in length."}},{isValid:function(){return!n.state.websiteUrl||s.isValidUrl(n.state.websiteUrl)},id:"organization-profile-website-format",message:function(){return"Please enter a valid website URL."}},{isValid:function(){return!n.state.linkedInUrl||s.isValidUrl(n.state.linkedInUrl)},id:"organization-profile-linkedin-format",message:function(){return"Please enter a valid LinkedIn URL."}},{isValid:function(){return n.state.thumbnailImageUrl&&n.state.thumbnailImageUrl.trim()},id:"organization-profile-no-thumbnail",message:function(){return"Please select a profile photo."}},{isValid:function(){return n.state.slug===n.props.slug||n.state.slug&&n.state.slug.trim()&&(n.props.isAdmin||n.state.slug.length>=6&&n.state.slug.length<=20)},id:"organization-profile-no-slug",message:function(){return"Please enter a permanent URL between 6 and 20 characters."}}],n.onOpenImageUploader=function(){n.setState({isEditingImage:!0})},n.onCloseImageUploader=function(){n.setState({isEditingImage:!1})},n.onUpdateImages=function(e,t){e.append("imageLeft",t[0].left),e.append("imageTop",t[0].top),e.append("imageWidth",t[0].width),e.append("imageHeight",t[0].height);var a=n.props.isNew?"/organizations/images":"/"+n.props.slug+"/image";return i.ajax({context:n,url:a,type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){n.setState({isEditingImage:!1,thumbnailImageUrl:e.thumbnailImageUrl+"?r="+(new Date).getMilliseconds()}),r.PageMessages.success("The organization's profile image has been updated.")}})};var o,l=e.canEdit;switch(null==e.activeTab?"home":e.activeTab.toLowerCase()){case"competitions":o=l||e.competitions.length>0?"competitions":"home";break;case"datasets":o=l||e.datasets.length>0?"datasets":"home";break;case"people":o=l||e.users.length>0?"people":"home";break;default:o="home"}return n.replaceUrlForTab(o),n.state=a.__assign({},n.props,{activeTab:o,canEdit:n.props.canEdit,isSaving:!1,users:n.props.users}),n.state=a.__assign({},n.state,{menuLinks:n.getMenuLinks()}),n.helpers={onCloseImageUploader:n.onCloseImageUploader,onOpenImageUploader:n.onOpenImageUploader,onOverviewSaveClicked:n.onOverviewSaveClicked,onProfileEditingStateCancelled:n.onProfileEditingStateCancelled,onProfileEditingStateChanged:n.onProfileEditingStateChanged,onProfilePropChanged:n.onProfilePropChanged,onTabClicked:n.onTabClicked,onUpdateImages:n.onUpdateImages,onUserAddClicked:n.onUserAddClicked,onUserInputElementMounted:n.onUserInputElementMounted,onUserRemoveClicked:n.onUserRemoveClicked},n}return a.__extends(n,t),n.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},n.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var a=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&a||!n.isValid()&&a&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},n.prototype.render=function(){return e.createElement(o.OrganizationProfile,a.__assign({},this.props,this.state,this.helpers))},n}(e.Component);t.OrganizationProfileContainer=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(38),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(i.BlockLink,{className:"organization-user-card",href:this.props.slug},e.createElement("img",{className:"organization-user-card__image",src:this.props.imageUrl,alt:this.props.name}),e.createElement("div",{className:"organization-user-card__info"},e.createElement("span",{className:"organization-user-card__name"},this.props.name,this.props.canEdit?e.createElement("a",{className:"organization-user-card__remove-link",onClick:function(){return t.props.onRemoveClicked(t.props.id)}},e.createElement("i",{className:"fa fa-remove"}),"  Remove"):null),e.createElement("span",{className:"organization-user-card__title"},this.props.occupation?this.props.organization?this.props.occupation+" at "+this.props.organization:this.props.occupation:""),e.createElement("span",{className:"organization-user-card__location"},this.props.location?this.props.location:"")))},n}(e.Component);t.UserCard=s}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(165),i=n(115),s=n(1009),o=n(945),r=n(416),l=n(950),c=n(979),p=n(985),u=n(951),d=n(1066),m=n(1089),h=n(1077),g=n(970),f=n(963),v=n(940),_=n(1001),b=n(410),E=n(896),y=n(890),C=n(968),w=n(5),S=n(886),N=n(892),T=n(879),k=n(894),M=n(867),x=n(871),I=n(885),D=n(899),P=n(888),U={ScriptList:a.ScriptList,VoteButton:i.VoteButton,ScriptViewer:s.ScriptViewerApp,DatasetContainer:o.DatasetContainer,DatasetListReact:r.DatasetListReact,Discussion:l.Discussion,NotebookEditor:c.NotebookEditor,SiteForum:u.SiteForum,SiteHeaderContainer:d.SiteHeaderContainer,ProfileContainerReact:m.ProfileContainer,Leaderboards:h.Leaderboards,OrganizationProfileContainer:g.OrganizationProfileContainer,NewsfeedContainer:f.NewsfeedContainer,ViewCompetitionList:v.ViewCompetitionList,ScriptEditorContainer:_.ScriptEditorContainer,CompetitionContainer:b.CompetitionContainer,ReactComponentsContainer:E.ReactComponentsContainer,AdminHomeContainer:y.AdminHomeContainer,JobsContainer:C.default,ApolloComponent:w.ApolloComponent,AutoForm:S.AutoForm,NikoContainer:N.NikoContainer,NotebookEditor_PoC:p.NotebookEditor_PoC,AboutInClass:T.AboutInClass,ProductMetricsContainer:k.ProductMetricsContainer,AboutCompetitions:M.AboutCompetitions,AboutDatasets:x.AboutDatasets,ApiContainer:I.ApiContainer,AdminSubmissionsContainer:D.AdminSubmissionsContainer,AdminDatabaseContainer:P.AdminDatabaseContainer};window.KaggleReactComponents=U,t.default=U},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(5),o=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onConfirm=function(){e.props.scriptId&&e.props.scriptId>0?a.post("/kernels/"+e.props.scriptId+"/make-public").then(function(){s.PageMessages.success("Your "+e.props.kernelType+" is now public.",{clear:!0}),e.setState({isShown:!1})}).then(e.props.onConfirm):e.props.onConfirm&&e.props.onConfirm()},e}return i.__extends(n,t),n.prototype.render=function(){return e.createElement(s.Confirm,{title:"Make "+this.props.kernelType+" Public",cancelText:"No thanks",confirmText:"Ok, make public",onCancel:this.props.onCancel,onConfirm:this.onConfirm,isShown:this.props.isShown},"Enabling this will allow other users to view and fork your ",this.props.kernelType,". Your code will be released under the ",e.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",target:"_blank",rel:"nofollow"},"Apache 2.0")," open source license. Please note that this is not reversible.")},n}(e.Component);t.PrivacyModal=o}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){function a(e){return JSON.parse(JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(137),o=n(213),r=n(100),l=n(61),c=n(83),p=n(6),u=n(45),d=n(654);t.copyCell=a;var m=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCodeCell=function(){return"code"===e.props.cell_type},e.isBusy=function(){return e.props.execution_state&&"busy"===e.props.execution_state},e}return i.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){var t=this.props,n=e;return this.props.isInCommandMode!==n.isInCommandMode||(this.props.metadata._active&&n.metadata._active&&(t=u.omit(this.props,"source"),n=u.omit(e,"source")),JSON.stringify(t)!==JSON.stringify(n))},n.prototype.renderToolbar=function(t){var n=this;if(!t)return null;var a=null;"code"===this.props.cell_type&&this.props.canExecute&&(a=e.createElement("div",{className:"notebook-editor__cell-toolbar-button",style:{padding:0,marginLeft:"15px",marginRight:"7px",marginTop:"2px"},onClick:this.props.onExecute},e.createElement(c.ToolTip,{tipText:"Execute cell"},e.createElement("span",{className:"fa fa-play"}))));return e.createElement("div",{className:"notebook-editor__cell-toolbar"},e.createElement("div",{className:"notebook-editor__cell-type-toggle-group"},e.createElement("div",{className:"notebook-editor__cell-type-toggle-group-inner"},e.createElement("div",{onClick:function(){return n.props.onChangeCellType(s.NotebookCellType.Markdown)},className:"notebook-editor__cell-type-toggle"+("markdown"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},"Markdown"),e.createElement("div",{onClick:function(){return n.props.onChangeCellType(s.NotebookCellType.Code)},className:"notebook-editor__cell-type-toggle"+("code"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},this.props.languageName)),a),e.createElement("div",{className:"notebook-editor__cell-toolbar-lhs"},e.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},null,e.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddAbove},e.createElement(c.ToolTip,{tipText:"Add cell above"},e.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},e.createElement("span",{className:"fa fa-plus"}),e.createElement("span",{className:"fa fa-caret-up"})))),e.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddBelow},e.createElement(c.ToolTip,{tipText:"Add cell below"},e.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},e.createElement("span",{className:"fa fa-plus"}),e.createElement("span",{className:"fa fa-caret-down"}))))),e.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},e.createElement("div",{className:"notebook-editor__cell-toolbar-button notebook-editor__cell-toolbar-button--red",onClick:this.props.onDelete},e.createElement(c.ToolTip,{tipText:"Delete cell"},e.createElement("span",{className:"fa fa-trash"}))))))},n.prototype.renderCellOutputChunk=function(t,n){switch(t.output_type){case"execute_result":case"display_data":var a=null,i=null;if("image/png"in t.data)i=e.createElement("img",{src:"data:image/png;base64,"+t.data["image/png"],key:n+"-img"});else if("text/html"in t.data){var s={__html:d.sanitizeHTML(t.data["text/html"])};a=e.createElement("div",{className:"notebook-editor__html-output",key:n+"-html",dangerouslySetInnerHTML:s})}else"text/plain"in t.data&&(a=e.createElement("div",{className:"notebook-editor__cell-output",key:n+"-text"},t.data["text/plain"]));return e.createElement("div",{key:n},a,i);case"stream":return"stderr"===t.name?e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-stderr"},t.text):e.createElement("div",{className:"notebook-editor__cell-output",key:n+"-stdout"},t.text);case"error":var o=null,r=null;return"ename"in t&&"evalue"in t?o=e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-desc"},e.createElement("span",null,t.ename+": "+t.evalue)):console.warn("Missing ename/evalue in error event"),"traceback"in t&&(r=e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-trace"},e.createElement("span",null,t.traceback.join("\n")))),e.createElement("div",{key:n+"-err"},o,r);default:return console.warn("Unknown output_type in cell "+this.props.metadata._cell_guid),null}},n.prototype.renderCellOutput=function(){var t=this;return this.isCodeCell()&&this.props.outputs&&0!==this.props.outputs.length?e.createElement("div",{className:"notebook-editor__cell-output-section"},e.createElement("div",{className:"notebook-editor__cell-number-container"},e.createElement("div",{className:"notebook-editor__cell-number-out"},"Out["+this.props.execution_count+"]:")),this.props.outputs.map(function(e,n){return t.renderCellOutputChunk(e,t.props.metadata._cell_guid+"-"+n.toString())})):null},n.prototype.componentWillUpdate=function(){this.mainDiv?this.lastMainDivTop=this.mainDiv.getBoundingClientRect().top:this.lastMainDivTop=null},n.prototype.componentDidUpdate=function(e){!e.metadata._active&&this.props.metadata._active&&this.mainDiv&&this.lastMainDivTop&&window.scrollBy(0,this.mainDiv.getBoundingClientRect().top-this.lastMainDivTop)},n.prototype.render=function(){var t=this,n=null,a="",i=null;if(this.isCodeCell()){var s=" ";this.isBusy()?s="*":null!==this.props.execution_count&&(s=this.props.execution_count?this.props.execution_count.toString():" "),i=this.props.metadata.collapsed?e.createElement("div",{className:"notebook-editor__cell-number-in notebook-editor__cell-number-in--collapsed"},"["+s+"]"):e.createElement("div",{className:"notebook-editor__cell-number-in"},"In["+s+"]:"),i=e.createElement("div",{className:"notebook-editor__cell-number-container"},i)}if(this.props.metadata.collapsed){var c=void 0;return c=this.props.source instanceof Array?this.props.source.length:this.props.source?this.props.source.split(/\r\n|\r|\n/).length:0,e.createElement("div",{className:"notebook-editor__cell notebook-editor__cell--collapsed"},i,e.createElement("div",{className:"notebook-editor__cell-expand-div"},e.createElement("div",{className:"notebook-editor__cell-action-text",onClick:this.props.onUncollapse},this.isCodeCell()?e.createElement("span",{className:"fa fa-code"}):e.createElement("span",{className:"fa fa-align-left"}),"Expand",c>0?e.createElement("span",{className:"notebook-editor__cell-expand-lines"},c," ",c>1?e.createElement("span",null,"lines"):e.createElement("span",null,"line")):null)))}var u;if(u=this.props.source?this.props.source instanceof Array?0===this.props.source.length?"":this.props.source.some(function(e){return e.indexOf("\n")>-1})?this.props.source.join(""):this.props.source.join("\n"):this.props.source:"",this.isCodeCell()){var d={mode:this.props.languageName.toLowerCase(),scrollbarStyle:"native",indentUnit:4,indentWithTabs:!1,autoCloseBrackets:!0,readOnly:this.props.readOnly,theme:"kaggle"};a="code",n=e.createElement(o.CodeMirrorEditor,{value:this.props.metadata._active?null:u,defaultValue:u,onChange:this.props.onContentsChange,hasFocus:this.props.metadata._active,onMouseUp:this.props.readOnly?null:this.props.onMouseUp,options:d,getAutocomplete:this.props.onAutocomplete,canMoveUp:this.props.canMoveUp,canMoveDown:this.props.canMoveDown,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,onCtrlEnter:function(){t.isBusy()||t.props.onExecute()},onShiftEnter:function(){t.isBusy()||(t.props.onExecute(),t.props.appendNewOrMoveDown())}})}else{a="markdown";var m=this.props.metadata._active||""===u.trim();n=e.createElement("div",null,e.createElement("div",{style:m?{display:"inherit",animationName:"notebook-markdown-editor",animationDuration:"0.5s"}:{display:"none"}},e.createElement(r.MarkdownEditor,{shouldSanitizeHtml:!0,onChangeCallback:function(){},onChangeImmediate:this.props.onContentsChange,defaultValue:u,alwaysShowToolbar:!0,hasFocus:this.props.metadata._active,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,suffix:this.props.metadata._cell_guid,onKeyPress:function(e){e.shiftKey&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),t.props.appendNewOrMoveDown())}})),m?null:e.createElement(l.MarkdownConverter,{content:u,mimeType:"text/markdown"}))}var h="";this.props.metadata._active&&(h=" notebook-editor__cell--active",this.props.isInCommandMode&&(h+=" notebook-editor__cell--command"));var g=this.renderToolbar(this.props.metadata._active);return p.Current.log("Cell "+this.props.metadata._cell_guid+" rendered at "+(new Date).getTime()),e.createElement("div",{className:"notebook-editor__cell-plus-toolbar"},g,e.createElement("div",{className:"notebook-editor__cell notebook-editor__cell--"+a+h,onMouseUp:this.props.onMouseUp},i,e.createElement("div",{className:"notebook-editor__cell-inner notebook-editor__cell-inner--"+a,ref:function(e){return t.mainDiv=e}},n),this.renderCellOutput()))},n}(e.Component);t.NotebookCell=m}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(e){if(0==e.length)return[];var t=JSON.parse(e);return t.cells?t.cells.map(function(e){return e.source=o(e.source),e}):[]}function i(e,t){return void 0===t&&(t=[]),e.reduce(E,t)}function s(e,t){var n=t.map(function(e){return e.metadata._cell_guid}).indexOf(e);if(-1===n)throw"Invalid uuid: "+e;return n}function o(e){return e?e instanceof Array?e.map(function(e){return e.replace(/\n$/,"")}).join("\n"):e:null}function r(e,t,n){return{metadata:{_cell_guid:e,_active:!1,collapsed:!1},source:o(t),execution_count:null,cell_type:n===S.NotebookCellType.Markdown?"markdown":"code",outputs:[]}}function l(e,t){var n=s(e,t),a=n>0?t.slice(0,n):[],i=t.slice(n+1);return a.concat(i)}function c(e,t,n,a,i,s){var o="markdown"===i?S.NotebookCellType.Markdown:S.NotebookCellType.Code;return n?p(e,t,n,o,s):a?u(e,t,a,o,s):d(e,t,o,s)}function p(e,t,n,a,i){var o=s(n,i),l=i.slice(0,o),c=i.slice(o),p=r(e,t,a);return l.concat(p).concat(c)}function u(e,t,n,a,i){var o=s(n,i),l=i.slice(0,o+1),c=i.slice(o+1),p=r(e,t,a);return l.concat(p).concat(c)}function d(e,t,n,a){var i=r(e,t,n);return a.concat(i)}function m(e,t,n,a,i,r,l,c){var p=s(e,c);return c[p].source=null==t?c[p].source:o(t),c[p].metadata.collapsed=null==n?c[p].metadata.collapsed:n,c[p].cell_type=a||c[p].cell_type,c[p].execution_state=i||c[p].execution_state,c[p].execution_count=r||c[p].execution_count,l?c[p].outputs=v(l,c[p].outputs||[]):"busy"===i&&(c[p].outputs=[]),c}function h(e,t,n,a){var i=s(e,a);return a[i].source instanceof Array?(T.Current.warn("Cell source array in "+e),a[i].source.push(t)):a[i].source+=o(t)||"",n&&n.length>0&&(a[i].outputs=v(n,a[i].outputs)),a}function g(e,t){return t.forEach(function(t){return t.metadata._active=t.metadata._cell_guid===e}),t}function f(e,t){return t.forEach(function(e){return e.metadata._active=!1}),t}function v(e,t){return e.reduce(b,t)}function _(e,t){if(e&&e.length>0&&e[e.length-1].name===t.name){var n=e[e.length-1].text[e[e.length-1].text.length-1];e[e.length-1].text+=("\n"===n?"":"\n")+t.text}else e.push(t);return e}function b(e,t){return"stream"===t.output_type?_(e,t):e.concat(t)}function E(e,t){if(!t)return e;switch(t._type){case S.DeleteCellEditEventType:return l(t._cell_guid,e);case S.InsertCellEditEventType:return c(t._cell_guid,t.source||"",t._above_cell_guid,t._below_cell_guid,t.cell_type,e);case S.UpdateCellEditEventType:return m(t._cell_guid,t.source,t.collapsed,t.cell_type,t.execution_state,t.execution_count,t.outputs,e);case S.AppendCellEditEventType:return h(t._cell_guid,t.source,t.outputs,e);case S.ActivateCellEditEventType:return g(t._cell_guid,e);case S.DeactivateCellEditEventType:return f(t._cell_guid,e);case S.CellExecutionRequestType:return m(t._cell_guid,null,null,null,"busy",null,null,e);default:return e}}function y(e,t){return{metadata:t,nbformat:4,nbformat_minor:0,cells:e}}function C(e,t){var n=e.slice();return n.forEach(function(e){e.execution_count=null,e.outputs=[],e.execution_state="idle"}),y(n,t)}Object.defineProperty(t,"__esModule",{value:!0});var w=n(1),S=n(137),N=n(974),T=n(6),k=function(t){function n(e){var n=t.call(this,e)||this;return n.getCellContents=function(e){var t=s(e,n.state.cells);return n.state.cells[t].source},n.state={cells:i(n.props.editHistory,a(n.props.startingStateIpynb)),nextEditToApply:n.props.editHistory.length},n.props.registerGetIpynb(function(){return y(n.state.cells,n.props.kernelMetadata)}),n.props.registerGetIpynbWithNoOutputs(function(){return C(n.state.cells,n.props.kernelMetadata)}),n.props.registerGetCellContents(function(e){return n.getCellContents(e)}),n}return w.__extends(n,t),n.prototype.componentWillMount=function(){this.checkActiveAndBusyCells(this.state.cells),this.props.onUpdateNumberOfCells(this.state.cells.length)},n.prototype.checkActiveAndBusyCells=function(e){this.updateActiveCellProperties(e),this.updateBusyCellProperties(e),this.props.onUpdateFirstCellIsMarkdown(0===e.length||"markdown"===e[0].cell_type),this.props.onUpdateFirstCellUuid(0===e.length?null:e[0].metadata._cell_guid)},n.prototype.updateActiveCellProperties=function(e){var t=e.filter(function(e){return e.metadata._active});0===t.length?this.props.onChangeActiveCell(null,null,null):this.props.onChangeActiveCell(t[0].metadata._cell_guid,t[0].metadata.collapsed,"markdown"===t[0].cell_type?S.NotebookCellType.Markdown:S.NotebookCellType.Code)},n.prototype.updateBusyCellProperties=function(e){var t=e.filter(function(e){return e.execution_state&&"busy"===e.execution_state});0===t.length?this.props.onChangeBusyCell(null):this.props.onChangeBusyCell(t[0].metadata._cell_guid)},n.prototype.componentWillReceiveProps=function(e){var t=this,n=e.startingStateIpynb!==this.props.startingStateIpynb,s=e.editHistory.length!==this.props.editHistory.length||e.editHistory.length>0&&e.editHistory.length>this.state.nextEditToApply;if(n||s){var o;if(n?(o=a(e.startingStateIpynb),T.Current.log("New cells from startingStateIpynb:"),T.Current.log(o)):o=this.state.cells.map(function(e){return N.copyCell(e)}),s&&e.editHistory.length){var r=this.state.nextEditToApply;T.Current.log("New edits from "+this.state.nextEditToApply+":"),T.Current.log(e.editHistory.slice(r)),o=i(e.editHistory.slice(r),o)}this.setState({cells:o,nextEditToApply:e.editHistory.length}),this.checkActiveAndBusyCells(o),this.state.cells.length!==o.length&&this.props.onUpdateNumberOfCells(o.length),this.props.kernelMetadata!==e.kernelMetadata&&(e.registerGetIpynb(function(){return y(t.state.cells,e.kernelMetadata)}),e.registerGetIpynbWithNoOutputs(function(){return C(t.state.cells,e.kernelMetadata)}))}},n.prototype.shouldComponentUpdate=function(e,t){return this.state.nextEditToApply!==t.nextEditToApply||e.startingStateIpynb!==this.props.startingStateIpynb||this.props.isReadOnly!==e.isReadOnly||this.props.canExecute!==e.canExecute||this.props.isInCommandMode!==e.isInCommandMode},n.prototype.cellCanMoveDown=function(e){return e!==this.state.cells[this.state.cells.length-1].metadata._cell_guid},n.prototype.onCellMoveDown=function(e){var t=s(e,this.state.cells);this.props.onActivateCell(this.state.cells[t+1].metadata._cell_guid)},n.prototype.cellCanMoveUp=function(e){return e!==this.state.cells[0].metadata._cell_guid},n.prototype.onCellMoveUp=function(e){var t=s(e,this.state.cells);this.props.onActivateCell(this.state.cells[t-1].metadata._cell_guid)},n.prototype.onCellAppendOrMoveDown=function(e){this.props.canExecute&&(this.cellCanMoveDown(e)?this.onCellMoveDown(e):this.props.onAppendActivatedCell())},n.prototype.render=function(){var t=this,n=this.state.cells;return this.props.isReadOnly&&(n=this.state.cells.map(function(e){return N.copyCell(e)}),n.forEach(function(e){return e.metadata._active=!1})),e.createElement("div",{className:"notebook-editor__cells-container"},n.map(function(n,a){return e.createElement(N.NotebookCell,w.__assign({key:"notebook-cell-"+(n.metadata._cell_guid||a),readOnly:!!t.props.isReadOnly&&"nocursor",isInCommandMode:t.props.isInCommandMode,languageName:t.props.kernelLanguageName,onChangeCellType:function(e){return t.props.onChangeCellType(n.metadata._cell_guid,e)},canExecute:t.props.canExecute,onExecute:function(){return t.props.onExecuteCell(n.metadata._cell_guid)},onAutocomplete:t.props.onAutocomplete,onContentsChange:function(e){return t.props.onNewCellContents(n.metadata._cell_guid,e,"markdown"===n.cell_type?S.NotebookCellType.Markdown:S.NotebookCellType.Code)},canMoveDown:function(){return t.cellCanMoveDown(n.metadata._cell_guid)},canMoveUp:function(){return t.cellCanMoveUp(n.metadata._cell_guid)},onMoveDown:function(){return t.onCellMoveDown(n.metadata._cell_guid)},onMoveUp:function(){return t.onCellMoveUp(n.metadata._cell_guid)},onMouseUp:n.metadata._active?null:function(){console.log(t),t.props.onActivateCell(n.metadata._cell_guid)},appendNewOrMoveDown:function(){return t.onCellAppendOrMoveDown(n.metadata._cell_guid)},onUncollapse:function(){return t.props.onChangeCollapsed(n.metadata._cell_guid,!1)},onDeactivate:function(){return t.props.onDeactivateCell(n.metadata._cell_guid)},onDelete:function(){return t.props.onDeleteCell(n.metadata._cell_guid)},onCollapse:function(){return t.props.onChangeCollapsed(n.metadata._cell_guid,!0)},onAddAbove:function(){return t.props.onAddAbove(n.metadata._cell_guid)},onAddBelow:function(){return t.props.onAddBelow(n.metadata._cell_guid)}},n))}))},n}(e.Component);t.NotebookCellsContainer=k}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(137),s=n(50),o=n(99),r=n(63),l=n(110),c=n(211),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t="fa fa-circle",n={},a=i.KernelStatus[this.props.status].replace(/([a-z])([A-Z])/g,"$1 $2");switch(this.props.status){case i.KernelStatus.Initializing:case i.KernelStatus.Queued:case i.KernelStatus.Requested:break;case i.KernelStatus.Starting:n={color:"#FF8C00"};break;case i.KernelStatus.Running:n={color:"#1DBB9A"};break;case i.KernelStatus.DownloadingData:n={color:"#B3B3B3"};break;case i.KernelStatus.LostHeartbeat:a="Reconnecting";case i.KernelStatus.Reconnecting:n={color:"#FFCC00"};break;case i.KernelStatus.Error:t="fa fa-times-circle",n={color:"#C92C2C"};break;case i.KernelStatus.Stopped:t="fa fa-square",n={color:"#C0C0C0"};break;case i.KernelStatus.RenderingHtml:t="fa fa-refresh fa-spin",n={color:"#B3B3B3"};break;default:t="fa fa-square",n={color:"#2F9C0A"}}return e.createElement("div",{className:"pageheader__notebook-header-item"},e.createElement("div",{className:"notebook-editor__kernel-status"},e.createElement("span",{className:t,style:n}),e.createElement("span",{className:"notebook-editor__kernel-status-description",style:n},a)))},n}(e.Component);t.NotebookKernelStatusIndicator=p;var u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},n.prototype.render=function(){return e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.isActive?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.isActive?this.props.clickAction:null},e.createElement("span",{className:"fa fa-"+this.props.faClass,title:this.props.tooltip}))},n}(e.Component),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},n.prototype.render=function(){var t,n=this,a=null!==this.props.activeCellUuid&&""!==this.props.activeCellUuid,d=null!==this.props.busyCellUuid&&""!==this.props.busyCellUuid,m=a&&this.props.activeCellType===i.NotebookCellType.Code,h=!this.props.readOnly&&d,g=this.props.canExecuteActiveCell&&!this.props.readOnly&&a&&m&&!h,f=h?"Cancel current execution":g?"Execute cell":"Select a code cell to execute",v=h?function(){return n.props.onCancel(n.props.busyCellUuid)}:g?function(){return n.props.onExecute(n.props.activeCellUuid)}:null,_=null;return this.props.isEditingTitle?t=e.createElement(o.InlineTextEditor,{className:"pageheader__notebook-header-title--input",value:this.props.title,placeholder:"Enter a title for your notebook",onGainFocusCallback:this.props.onTitleEditorGainFocus,onLoseFocusCallback:this.props.onTitleEditorLoseFocus,onChangeCallback:this.props.onTitleChanged,id:"notebook-title-input"}):(t=this.props.title,_=this.props.onTitleEditingStateChanged),e.createElement(s.PageHeader,null,e.createElement(s.PageHeaderTopRow,{title:t,coverImageUrl:this.props.imageUrl,coverImageClickUrl:this.props.imageClickUrl,subtitle:null,titleUrl:null,isEditingHeaderInfo:this.props.isEditingTitle,modifier:"notebook",nodeId:"pageheader__top--notebook",onTitleClick:_}),e.createElement(s.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},e.createElement("div",{className:"pageheader__nav pageheader__nav--notebook"},e.createElement(p,{status:this.props.kernelStatus}),e.createElement("div",{className:"pageheader__notebook-header-restart-button"},e.createElement(l.ButtonRoundEdged,{onClick:this.props.onRestartKernel,text:"Restart"})),e.createElement("div",{className:"pageheader__notebook-header-button-group"},e.createElement(u,{faClass:h?"stop":"play",isActive:g||h,tooltip:f,clickAction:v}),e.createElement(u,{faClass:"forward",isActive:!this.props.readOnly&&this.props.canExecuteAll,tooltip:"Execute all cells",clickAction:this.props.onExecuteAll})),e.createElement("div",{className:"pageheader__notebook-header-button-group"},e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.readOnly?" pageheader__notebook-header-button--disabled":"")},e.createElement("label",{htmlFor:"ipynb-file-upload"},e.createElement("span",{className:"fa fa-cloud-upload",title:"Upload ipynb file (beta)"})),e.createElement("input",{id:"ipynb-file-upload",type:"file",style:{display:"none"},onChange:this.props.onUploadIpynb})),e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.canDownloadIpynb?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.onDownloadIpynb},e.createElement("span",{className:"fa fa-cloud-download",title:"Download ipynb file"}))),e.createElement("div",{className:"pageheader__notebook-language-select"},e.createElement(r.SelectBox,{options:this.props.availableLanguageChoices,className:"pageheader__notebook-language-select-box",onChange:this.props.onLanguageChanged,searchable:!1,value:this.props.kernelLanguageDropdownValue})),""===this.props.kernelInfoLine?null:e.createElement("div",{className:"pageheader__notebook-header-button--extraspace"},this.props.kernelInfoLine),this.props.scriptId?e.createElement("div",{className:"pageheader__notebook-privacy-select pageheader__notebook-privacy-select--"+(this.props.isPrivate?"private":"public"),style:this.props.isPrivate?{marginTop:"5px",marginLeft:"10px"}:null},e.createElement(c.PrivacyToggle,{kernelType:"Notebook",displayMode:"SelectBox",isPrivate:this.props.isPrivate,scriptId:this.props.scriptId,onChangeToPublic:this.props.onChangeToPublic})):null,e.createElement("div",{className:"pageheader__notebook-save-message"},this.props.canSave?"…":this.props.lastSavedTime?"Saved":"")),e.createElement("a",{onClick:this.props.canRenderHtml?this.props.onRenderHtml:function(){return n.props.onRenderHtmlRequestError(n.props.renderHtmlToolTipText)},className:"pageheader__calltoaction pageheader__calltoaction--notebook"+(this.props.canRenderHtml?"":"-disabled")},e.createElement("span",{title:this.props.renderHtmlToolTipText},this.props.kernelStatus===i.KernelStatus.RenderingHtml?"Rendering…":"Publish"))))},n}(e.Component);t.NotebookHeader=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(137),s=n(1063),o=n(6),r=n(45);!function(e){e[e.Ok=0]="Ok",e[e.NotFound=1]="NotFound",e[e.Stopped=2]="Stopped"}(a||(a={}));var l=function(){function t(e){var t=this;this.hasRecordedIntercomEvent=!1,this.handleAjaxError=function(e,t,n){alert(n)},this.handleRedisInterfaceStateChange=function(e){e===s.InterfaceState.PollingUntilReconnected?(t.props.onConnectionProblem("Relocating the Kaggle mothership...","warning",0),t.updateStatus(i.KernelStatus.Reconnecting)):e===s.InterfaceState.GivenUp?(t.props.onConnectionProblem("Critical connection problem. Time to download an ipynb copy and refresh the page. Sorry! :^(","error",0),t.updateStatus(i.KernelStatus.Error)):t.props.onConnectionOk()},this.updatePrivateStatus=function(e){t.kernelStatus=e},this.updateParentStatus=function(e){t.kernelStatus=e,t.props.onKernelStatusChange(e)},this.processKernelStartupResult=function(e){var n=JSON.parse(e);if(n.ErrorMessage)return void("Invalid script language"===n.ErrorMessage&&11===t.kernelLanguage?alert("Sorry, Julia notebooks are temporariliy unavailable."):alert(n.ErrorMessage));o.Current.log("Received ScriptId: "+n.ScriptId+" and ScriptRun id: "+n.ScriptRunId),t.scriptId=n.ScriptId,t.scriptRunId=n.ScriptRunId,t.updateStatus(i.KernelStatus.Queued),t.subscribeToRedisKeys(0),o.Current.log("Updating Url: '"+n.NewUrl+"'"),t.props.onUpdateUrl(n.NewUrl),t.props.onUpdateScriptId(n.ScriptId)},this.processStatusResult=function(e){t.props.onConnectionOk();var n=e.map(function(e){return JSON.parse(e)});if(o.Current.log("Status: "),o.Current.log(n),t.kernelStatus===i.KernelStatus.RenderingHtml)return void(n.some(function(e){return"done"===e.complete||"done"===e.running})&&t.props.onRedirectToRenderedNotebook());var a=n[n.length-1];if("done"===a.assigned&&t.updateStatus(i.KernelStatus.Initializing),"Acquiring resources"in a){if(t.updateStatus(i.KernelStatus.DownloadingData),"object"==typeof a["Acquiring resources"]){var s=a["Acquiring resources"],r=!1;if("dataset"in s){var l="";for(var c in s.dataset)l+=c+": "+s.dataset[c]+"\n","done"!==s.dataset[c]&&(r=!0);r&&t.props.onDataDownloadUpdate(l.trim())}}}else t.props.onDataDownloadUpdate(null);"started"===a.running&&t.kernelStatus!==i.KernelStatus.Running&&t.updateStatus(i.KernelStatus.Starting),n.some(function(e){return"done"===e.complete||"done"===e.running})&&(window.clearTimeout(t.heartbeatWarningTimeout),t.updateStatus(i.KernelStatus.Stopped),t.unsubscribeFromRedisKeys(),t.kernelHasStarted=!1,t.props.onKernelResultMessage("The kernel was stopped, for exceeding the limits on idle time (20 minutes), storage (512 Mb) or memory (8Gb). You can use the restart button in the toolbar to try again..."),t.getKernelRunResults())},this.processWorkerHeartbeat=function(e){t.kernelStatus!==i.KernelStatus.RenderingHtml&&t.kernelStatus!==i.KernelStatus.Stopped&&(t.heartbeatWarningTimeout&&window.clearTimeout(t.heartbeatWarningTimeout),t.kernelStatus!==i.KernelStatus.LostHeartbeat&&t.kernelStatus!==i.KernelStatus.Reconnecting||t.updateStatus(i.KernelStatus.Running),t.heartbeatWarningTimeout=window.setTimeout(function(){t.kernelStatus===i.KernelStatus.Running&&t.updateStatus(i.KernelStatus.LostHeartbeat)},3e4))},this.processChangesResult=function(e){t.props.onConnectionOk();var n=e.map(function(e){return JSON.parse(e)});t.updateListOfCellsOnServer(n);var a=n.filter(i.NotFromThisClient),s=a.map(function(e){return e._type}).indexOf(i.KernelInfoResponseType);-1!==s&&(o.Current.log("Processing startup..."),t.processWorkerStartup(a[s]),a.splice(s,1)),o.Current.log("Sending changes to Editor at "+(new Date).getTime()),t.props.receiveChanges(a)},this.updateListOfCellsOnServer=function(e){e&&e.length&&0!=e.length&&e.forEach(t.updateListOfCellsOnServerAfterChange)},this.updateListOfCellsOnServerAfterChange=function(e){if(e._type){if(e._type==i.InsertCellEditEventType)t.cellUuidsServerKnowsAbout.push(e._cell_guid);else if(e._type===i.LoadNotebookEditEventType){var n=e.notebook.cells;(s=t.cellUuidsServerKnowsAbout).push.apply(s,n.map(function(e){return e.metadata._cell_guid}))}else if(e._type===i.DeleteCellEditEventType){var a=t.cellUuidsServerKnowsAbout.indexOf(e._cell_guid);a>-1&&t.cellUuidsServerKnowsAbout.splice(a,1)}var s}},this.requestAutocomplete=function(e,n,a){if(!t.props.readOnly){var o=i.AutocompleteRequest(e,n);s.redis.request(t.scriptRunId,JSON.stringify([o]),2,function(e){return t.handleAutocompleteResult(e,a)},function(){})}},this.handleAutocompleteResult=function(e,t){o.Current.log("Received autocomplete result: "+e);var n=JSON.parse(e);if("complete_reply"!==n._type)return void console.warn("Incorrect _type, aborting");t(n.matches,n.cursor_start,n.cursor_end)},this.processKernelTitleResult=function(e){var n=JSON.parse(e);if(n.ErrorMessage&&""!==n.ErrorMessage)return void t.props.onUpdateTitleErrorMessage(n.ErrorMessage);t.props.onUpdateUrl(n.NewUrl)},this.processKernelTitleCheckResult=function(e){var n=JSON.parse(e);n.ErrorMessage&&""!==n.ErrorMessage&&t.props.onUpdateTitleErrorMessage(n.ErrorMessage)},this.parseKernelRunResults=function(e){var n=JSON.parse(e);n.results&&n.results.FailureMessage&&t.props.onKernelResultMessage(n.results.FailureMessage+"; you can use the restart button in the toolbar to try again...")},this.props=r.clone(e),this.kernelStatus=i.KernelStatus.Initializing,this.scriptRunId=this.props.initialScriptRunId||0,this.scriptId=this.props.initialScriptId||0,this.kernelLanguage=this.props.initialLanguageId,this.updateStatus=this.updatePrivateStatus,this.initialEditsBeforeKernelReady=this.props.initialEditEvents,this.cellUuidsServerKnowsAbout=[],this.updateListOfCellsOnServer(this.initialEditsBeforeKernelReady),this.kernelHasStarted=!1,s.redis.addInterfaceStateCallback(this.handleRedisInterfaceStateChange)}return t.prototype.containerDidMount=function(){this.props.onKernelStatusChange(this.kernelStatus),this.updateStatus=this.updateParentStatus},t.prototype.startKernel=function(t,n,a,s){if(void 0===s&&(s=""),this.props.readOnly)return e.Deferred().resolve().promise();o.Current.log("Starting kernel..."),this.forkParentScriptVersionId=t||null,this.dataSources=a;var r={ScriptId:this.scriptId,SourceScriptVersionId:n&&n>0?n:null,LanguageId:this.kernelLanguage,ScriptProjectId:this.props.scriptProjectId,Title:this.props.initialTitle||"Notebook"+i.uuid(10),ForkParentScriptVersionId:t&&t>0?t:null,IpynbContents:s,DataSources:a},l=e.ajax({url:"/kernels/byod/newkernel",type:"POST",data:JSON.stringify(r),processData:!1,contentType:"application/json",success:this.processKernelStartupResult,error:this.handleAjaxError});return this.updateStatus(i.KernelStatus.Requested),l},t.prototype.subscribeToRedisKeys=function(e){s.redis.subscribe(this.scriptRunId,"status",-1,this.processStatusResult),s.redis.subscribe(this.scriptRunId,"jupyter:changes",e,this.processChangesResult),s.redis.subscribe(this.scriptRunId,"heartbeats:worker",0,this.processWorkerHeartbeat)},t.prototype.unsubscribeFromRedisKeys=function(){s.redis.unsubscribe("status"),s.redis.unsubscribe("jupyter:changes"),s.redis.unsubscribe("heartbeats:worker")},t.prototype.prependInsertCellEventIfNeeded=function(e,t){var n=this,a=e.filter(function(e){return e._type!==i.InsertCellEditEventType}).map(function(e){return e._cell_guid}).filter(function(e){return-1===n.cellUuidsServerKnowsAbout.indexOf(e)});if(0===a.length)return e;o.Current.log("Prepending insert events for uuids: "+a);var s=t().cells.map(function(e){return e.metadata._cell_guid}),r=t().cells.map(function(e){return"markdown"===e.cell_type?i.NotebookCellType.Markdown:i.NotebookCellType.Code}),l=[];return a.forEach(function(e){l.push(n.getInsertCellEvent(e,"",s,r[s.indexOf(e)]))}),l.concat(e)},t.prototype.updateOrInsertCell=function(e,t,n){if(this.cellUuidsServerKnowsAbout.indexOf(e)>-1)return i.UpdateCellEditEvent(e,t,i.NotebookCellType.Code,!1);var a=n().cells.map(function(e){return e.metadata._cell_guid});return this.getInsertCellEvent(e,t,a,i.NotebookCellType.Code)},t.prototype.getInsertCellEvent=function(e,t,n,a){var s=n.indexOf(e),o=t||"",r=a||i.NotebookCellType.Code;return 0===s?n.length>1?i.InsertCellEditEvent(e,null,!1,r,o,n[1]||null):i.InsertCellEditEvent(e,null,!1,r,o):i.InsertCellEditEvent(e,n[s+1]||null,!1,r,o)},t.prototype.containerWillUnmount=function(){o.Current.log("NotebookKernelDispatcher is stopping")},t.prototype.getSavedNotebookState=function(e){o.Current.log("Getting existing state for script run "+this.scriptRunId),s.redis.request(this.scriptRunId,JSON.stringify([i.SerializeNotebookRequest()]),30,e,this.props.onConnectionProblem)},t.prototype.executeCell=function(e,t,n){var a=this;if(!this.props.readOnly){o.Current.log("Requesting cell execution for id "+e+" at "+(new Date).getTime()),o.Current.log("Source: '"+t+"'");var r=this.updateOrInsertCell(e,t,n),l=i.CellExecutionRequest(e);s.redis.request(this.scriptRunId,JSON.stringify([r,l]),10,null,function(t,n,s){o.Current.log("Cancelling busy status for id "+e+" at "+(new Date).getTime()),a.props.receiveChanges([i.MakeCellIdleEditEvent(e)]),a.props.onConnectionProblem(t,n,s)}),this.hasRecordedIntercomEvent||(window.Intercom("trackEvent","run_notebook",{scriptversion_id:this.scriptRunId}),this.props.isDataset?window.Intercom("trackEvent","run_dataset_notebook",{scriptversion_id:this.scriptRunId}):window.Intercom("trackEvent","run_comp_notebook",{scriptversion_id:this.scriptRunId}),this.hasRecordedIntercomEvent=!0)}},t.prototype.executeCells=function(e,t){if(!this.props.readOnly){var n=e.filter(function(e){return"code"===e.cell_type}),a=this.prependInsertCellEventIfNeeded(n.map(function(e){return i.CellExecutionRequest(e.metadata._cell_guid)}),t);s.redis.request(this.scriptRunId,JSON.stringify(a),10,null,this.props.onConnectionProblem),this.hasRecordedIntercomEvent||(window.Intercom("trackEvent","run_notebook",{scriptversion_id:this.scriptRunId}),this.props.isDataset?window.Intercom("trackEvent","run_dataset_notebook",{scriptversion_id:this.scriptRunId}):window.Intercom("trackEvent","run_comp_notebook",{scriptversion_id:this.scriptRunId}),this.hasRecordedIntercomEvent=!0)}},t.prototype.cancelCellExecution=function(){this.props.readOnly||s.redis.request(this.scriptRunId,JSON.stringify([i.InterruptKernelRequest()]),15,this.props.onExecutionCancelRequestSent,this.props.onConnectionProblem)},t.prototype.changeLanguage=function(e,t){var n=this;if(!this.props.readOnly){this.kernelHasStarted=!1,o.Current.log("Submitting stop request...");var a=i.CloseNotebookForLanguageChangeRequest();s.redis.request(this.scriptRunId,JSON.stringify([a]),10,function(){o.Current.log("Stop request submitted."),n.heartbeatWarningTimeout&&window.clearTimeout(n.heartbeatWarningTimeout),n.unsubscribeFromRedisKeys(),n.kernelLanguage=e,n.initialEditsBeforeKernelReady=[],n.kernelHasStarted=!1,n.startKernel(n.forkParentScriptVersionId,null,n.dataSources,t)},this.props.onConnectionProblem)}},t.prototype.requestNewTitle=function(e){if(!this.props.readOnly)return this.scriptRunId?void this.sendTitleChangeOrCheckRequest(e,!1,this.processKernelTitleResult):void alert("Please try again in a few seconds.")},t.prototype.checkNewTitle=function(e){this.props.readOnly||this.scriptRunId&&this.sendTitleChangeOrCheckRequest(e,!0,this.processKernelTitleResult)},t.prototype.sendTitleChangeOrCheckRequest=function(t,n,a){var i={ScriptVersionId:this.scriptRunId,NewTitle:t,CheckOnly:n};e.ajax({url:"/kernels/byod/kerneltitle",type:"POST",data:JSON.stringify(i),processData:!1,contentType:"application/json",success:a,error:this.handleAjaxError})},t.prototype.sendEditEvent=function(e,t){if(!this.props.readOnly&&e._type!==i.ActivateCellEditEventType){if(!this.kernelHasStarted)return void this.initialEditsBeforeKernelReady.push(e);o.Current.log("Sending edit event at "+(new Date).getTime()+": "+JSON.stringify(e));var n=this.prependInsertCellEventIfNeeded([e],t);s.redis.request(this.scriptRunId,JSON.stringify(n),5,function(e){o.Current.log(e)},this.props.onConnectionProblem)}},t.prototype.sendEditEvents=function(e,t){if(!this.props.readOnly){var n=e.filter(function(e){return e._type!==i.ActivateCellEditEventType});if(0!==n.length){if(!this.kernelHasStarted)return void(this.initialEditsBeforeKernelReady=this.initialEditsBeforeKernelReady.concat(n));var a=this.prependInsertCellEventIfNeeded(n,t);o.Current.log("Sending edit events at "+(new Date).getTime()+":"),o.Current.log(JSON.stringify(a)),s.redis.request(this.scriptRunId,JSON.stringify(a),5,function(e){o.Current.log(e)},this.props.onConnectionProblem)}}},t.prototype.processWorkerStartup=function(e){this.updateStatus(i.KernelStatus.Running),this.kernelHasStarted=!0,this.initialEditsBeforeKernelReady.length>0&&this.sendEditEvents(this.initialEditsBeforeKernelReady,function(){return{cells:[]}}),this.props.onKernelSpecChange(e.kernelspec,e.kernel_info_reply_content.language_info)},t.prototype.requestRenderingHtml=function(e,t){var n=this;if(!this.props.readOnly){var a,o=i.CloseNotebookRequest();a=t?[t,o]:[o],s.redis.request(this.scriptRunId,JSON.stringify(a),10,function(){n.updateStatus(i.KernelStatus.RenderingHtml),n.heartbeatWarningTimeout&&window.clearTimeout(n.heartbeatWarningTimeout)},this.props.onConnectionProblem)}},t.prototype.requestKernelInterrupt=function(){if(!this.props.readOnly)return this.kernelStatus!==i.KernelStatus.Running?void console.warn("Ignoring kernel interrupt request; not running"):void s.redis.request(this.scriptRunId,JSON.stringify([i.InterruptKernelRequest()]),30,function(e){o.Current.log("Interrupt kernel response:\n"+e)},this.props.onConnectionProblem)},t.prototype.getKernelRunResults=function(){e.ajax({url:"/kernels/statmin?id="+this.scriptRunId,success:this.parseKernelRunResults,error:o.Current.warn})},t}();t.NotebookKernelDispatcher=l}).call(t,n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(45);!function(e){e[e.Edit=0]="Edit",e[e.Command=1]="Command",e[e.SecondCommandKey=2]="SecondCommandKey"}(a||(a={}));var s=13,o=27,r=65,l=66,c=83,p=73,u=89,d=77,m=68,h=function(){function e(e){var t=this;this.handleKeyDown=function(e){t.mode===a.Edit?t.handleEditModeKeyDown(e):t.mode===a.Command?t.handleCommandModeKeyDown(e):t.handleSecondCommandKey(e)},this.handleEditModeKeyDown=function(e){e.keyCode==o&&(e.preventDefault(),e.stopPropagation(),t.setMode(a.Command))},this.fireActionAndReturnToEditMode=function(e,n){void 0===n&&(n=null),e.preventDefault(),e.stopPropagation(),n&&n(),t.setMode(a.Edit)},this.waitForSecondCommandKey=function(e,n){e.preventDefault(),e.stopPropagation(),t.previousCommandKeyCode=n,t.setMode(a.SecondCommandKey,!1)},this.handleSecondCommandKey=function(e){if(e.keyCode===t.previousCommandKeyCode)switch(e.keyCode){case m:t.fireActionAndReturnToEditMode(e,t.props.onDeleteCell);break;default:t.fireActionAndReturnToEditMode(e)}else t.fireActionAndReturnToEditMode(e)},this.handleCommandModeKeyDown=function(e){switch(e.keyCode){case s:t.fireActionAndReturnToEditMode(e);break;case r:t.fireActionAndReturnToEditMode(e,t.props.onInsertCellAbove);break;case l:t.fireActionAndReturnToEditMode(e,t.props.onInsertCellBelow);break;case c:t.fireActionAndReturnToEditMode(e,t.props.onSave);break;case p:t.fireActionAndReturnToEditMode(e,t.props.onCancelExecution);break;case u:t.fireActionAndReturnToEditMode(e,t.props.onMakeCodeCell);break;case d:t.fireActionAndReturnToEditMode(e,t.props.onMakeMarkdownCell);break;case m:t.waitForSecondCommandKey(e,m)}},this.props=i.clone(e),this.setMode(a.Edit,!1)}return e.prototype.setMode=function(e,t){void 0===t&&(t=!0),this.mode=e,e===a.Edit?t&&this.props.onChangedToEditMode():t&&this.props.onChangedToCommandMode()},e}();t.NotebookKeyboardShortcutter=h},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(137),r=n(977),l=n(978),c=n(417),p=n(976),u=n(975),d=n(5),m=n(6),h=n(24),g=n(275),f=n(395),v=(f(),n(524)),_=function(t){function n(e){var n=t.call(this,e)||this;n.telemetry=new c.NotebookTelemetry(!1),n.handleAutoSave=function(){n.setState({canSave:!1,lastSavedTime:new Date,wasAutoSaved:!0})},n.handleChangeEvents=function(e){e&&e.length>0&&"load_notebook"===e[0]._type?n.loadAutosaved(n.props.scriptRunId||n.props.sourceScriptRunId):n.setState({editHistory:n.state.editHistory.concat(e)})},n.loadAutosaved=function(e){e&&a.ajax("/redis/autosave/"+e).then(function(e){return n.setState({startingStateIpynb:e})})},n.handleScriptResultMessage=function(e){n.setState({scriptResultMessage:e})},n.handleRedisConnectionError=function(e,t,a){n.redisMessageTimeout&&window.clearTimeout(n.redisMessageTimeout);var i=e;("warning"===t||a&&a>20)&&(i=e+" You can save your work by downloading it to an ipynb file..."),n.setState({redisConnectionMessage:i,redisConnectionMessageType:t}),n.redisMessageTimeout=window.setTimeout(function(){n.setState({redisConnectionMessage:""})},3e3)},n.handleRedisConnectionOk=function(){""!==n.state.redisConnectionMessage&&"success"!==n.state.redisConnectionMessageType&&(n.redisMessageTimeout&&window.clearTimeout(n.redisMessageTimeout),n.setState({redisConnectionMessage:"Reconnected to the server 👍",redisConnectionMessageType:"success"}),n.redisMessageTimeout=window.setTimeout(function(){n.setState({redisConnectionMessage:""})},3e3))},n.kernelLanguageIdToName=function(e){var t=n.props.scriptLanguageTemplates.filter(function(t){return t.languageId==e});return t&&t.length>0?t[0].baseScriptLanguageName:(console.warn("Unknown kernel language id: "+e.toString()),"")},n.kernelLanguageName=function(){return n.state?n.kernelLanguageIdToName(n.state.kernelLanguageId):n.kernelLanguageIdToName(n.props.scriptLanguageId)},n.onKernelStatusChange=function(e){n.telemetry.statusChanged(e),n.setState({kernelStatus:e})},n.handleKernelStatusChange=function(e){n.onKernelStatusChange(e)},n.handleChangeCellType=function(e,t){var a=o.UpdateCellEditEvent(e,n.getCellContents(e),t,null);n.setState({editHistory:n.state.editHistory.concat(a)}),n.kernel.sendEditEvent(a,n.serializeCellsToIpynbWithNoOutputs)},n.handleChangeCollapsed=function(e,t){var a=o.UpdateCellEditEvent(e,n.getCellContents(e),null,t);n.setState({editHistory:n.state.editHistory.concat(a)}),n.kernel.sendEditEvent(a,n.serializeCellsToIpynbWithNoOutputs)},n.handleCellExecuteRequest=function(e){n.state.isEditingTitle&&""!==n.state.title&&n.handleTitleEditingStateChanged();var t,a=n.state.editHistory;n.pendingEditEvent&&n.pendingEditEvent._cell_guid===e?(t=n.pendingEditEvent.source,a=a.concat(n.pendingEditEvent),n.pendingEditEvent=null):t=n.getCellContents(e),n.setState({editHistory:a.concat(o.CellExecutionRequest(e))}),n.kernel.executeCell(e,t,n.serializeCellsToIpynbWithNoOutputs),n.hasExecutedCodeCell=!0},n.handlePlayAll=function(){var e=n.serializeCellsToIpynb().cells,t=e.filter(function(e){return"code"===e.cell_type}).map(function(e){return e.metadata._cell_guid});n.state.isEditingTitle&&""!==n.state.title&&n.handleTitleEditingStateChanged(),n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(t.map(function(e){return o.CellExecutionRequest(e)}))})}),n.kernel.executeCells(e,n.serializeCellsToIpynbWithNoOutputs),n.hasExecutedCodeCell=!0},n.handleCellCancelRequest=function(e){n.kernel.requestKernelInterrupt()},n.handleCellCancelled=function(){n.state.busyCellUuid&&n.setState({editHistory:n.state.editHistory.concat(o.MakeCellIdleEditEvent(n.state.busyCellUuid))})},n.handleUpdateTitle=function(e){m.Current.log("Received new title from server: "+e),n.setState({title:e})},n.handleUpdateUrl=function(e){history.replaceState&&history.replaceState({},"",e)},n.handleRedirectToRenderedNotebook=function(){window.location.href+="/../"},n.handleUpdateTitleErrorMessage=function(e){m.Current.log("Received title error: "+e),n.setState({titleErrorText:e})},n.autosave=function(){if(n.kernel&&n.kernel.scriptRunId){var e=JSON.parse(JSON.stringify(n.serializeCellsToIpynb()));e.cells.forEach(function(e){return e.outputs=[]});var t=JSON.stringify(e,null,2);if(n.previousIpynbContent!==t){if(!e.cells||0===e.cells.length)return;a.ajax({url:"/redis/autosave/"+n.kernel.scriptRunId,type:"POST",data:JSON.stringify({ipynbContent:t}),processData:!1,contentType:"application/json"}),n.previousIpynbContent=t}}},n.handlePageChange=function(e){if(n.state.hasUnpublishedChanges){var t="Your notebook has unpublished changes. Are you sure you want to leave this page?";return e.returnValue=t,t}return null},n.handleTitleEditingStateChanged=function(){n.state.isEditingTitle?(n.setState({isEditingTitle:!1}),n.kernel.requestNewTitle(n.state.title)):n.setState({isEditingTitle:!0})},n.handleTitleEditorLoseFocus=function(){""!==n.state.title&&n.handleTitleEditingStateChanged()},n.handleLanguageChanged=function(e){var t=+e;if(isNaN(t))return void m.Current.warn("Invalid new language id: "+e);if(t===n.state.kernelLanguageId)return void m.Current.log("No language change needed.");var a=n.serializeCellsToIpynbWithNoOutputs(),i=n.switchLanguageTemplateIfPresent(a,t),s=JSON.stringify(i);n.kernel.changeLanguage(t,s),n.setState({kernelLanguageId:t,startingStateIpynb:s,editHistory:[],kernelInfoText:"",scriptResultMessage:""})},n.handlePrivacyChanged=function(){n.setState({isShowingPrivacyModal:!0})},n.handleChangeToPublic=function(){n.setState({isPrivate:!1})},n.handleRestartKernel=function(){var e=n.serializeCellsToIpynbWithNoOutputs(),t=JSON.stringify(e);n.kernel.changeLanguage(n.state.kernelLanguageId,t),n.setState({startingStateIpynb:t,editHistory:[],kernelInfoText:"",scriptResultMessage:""})},n.handleDataSourceAdded=function(e){return d.addDataSource(e,n.kernel.scriptRunId).then(n.setDataSources)},n.handleDataSourceRemoved=function(e){return d.removeDataSource(e,n.kernel.scriptRunId).then(n.setDataSources)},n.setDataSources=function(e){return n.kernel.dataSources=e,new Promise(function(t,a){if(e){var i=0===e.length?"/static/images/no-datasource.png":1===e.length?e[0].imageUrl:"/static/images/multiple-datasource.png",s=1===e.length?e[0].sourceUrl:null;n.setState({dataSources:e,imageUrl:i,imageClickUrl:s},function(){n.handleRestartKernel(),t()})}else t()})},n.handleTitleChanged=function(e){n.setState({title:e,titleErrorText:""})},n.handleTitleEditorGainFocus=function(){n.setState({titleEditorHasFocus:!0})},n.handleRenderHtml=function(){n.kernel.requestRenderingHtml(!1,n.pendingEditEvent),n.setState({scriptResultMessage:"",hasUnpublishedChanges:!1,editHistory:n.state.editHistory.concat(n.pendingEditEvent)})},n.handleRenderRequestError=function(e){n.setState({titleErrorText:e})},n.handleUploadIpynb=function(e){n.deleteAllCellsOnServer();var t=e.target.files[0],a=new FileReader;a.onload=function(e){var t=n.parseIpynbFile(e.target.result);n.sendNewCellsToServer(t)},a.readAsText(t)},n.handleDownloadIpynb=function(){var e=n.serializeCellsToIpynb();e.cells=e.cells.map(function(e){return{cell_type:e.cell_type,source:e.source,execution_count:e.execution_count,outputs:e.outputs,metadata:{}}});var t=new Blob([JSON.stringify(e,null,2)],{type:"text/plain;charset=utf-8"});v.saveAs(t,"notebook.ipynb",!0)},n.handleKernelSpecChange=function(e,t){n.setState({kernelMetadata:{kernelspec:e,language_info:t},kernelInfoText:t.version})},n.updateActiveCellProperties=function(e,t,a){n.setState({activeCellUuid:e,activeCellIsCollapsed:t,activeCellType:a})},n.updateBusyCellProperties=function(e){n.setState({busyCellUuid:e})},n.updateCellCount=function(e){n.setState({nTotalCells:e})},n.handleInsertActivatedCellBefore=function(e){n.handleInsertActivatedCell(null,e)},n.handleInsertActivatedCellAfter=function(e){void 0===e&&(e=null),n.handleInsertActivatedCell(e,null)},n.handleInsertActivatedCell=function(e,t){var a=o.InsertCellEditEvent(o.strictlyFormattedUuid(),e,!1,o.NotebookCellType.Code,"",t),i=o.ActivateCellEditEvent(a._cell_guid);n.setState({editHistory:n.state.editHistory.concat([a,i])}),n.kernel.sendEditEvents([a,i],n.serializeCellsToIpynbWithNoOutputs)},n.insertMarkdownCellAtStart=function(){var e=o.InsertCellEditEvent(o.strictlyFormattedUuid(),null,!1,o.NotebookCellType.Markdown,"",n.state.firstCellUuid),t=o.ActivateCellEditEvent(e._cell_guid);n.setState({editHistory:n.state.editHistory.concat([e,t])}),n.kernel.sendEditEvents([e,t],n.serializeCellsToIpynbWithNoOutputs)},n.handleDeleteCell=function(e){confirm("Delete cell?")&&n.registerEditEvent(o.DeleteCellEditEvent(e))},n.handleNewCellContents=function(e,t,a){n.pendingEditEvent&&n.pendingEditEvent._cell_guid===e?n.pendingEditEvent.source=t||"":n.pendingEditEvent?(n.pushNewCellContents(),n.pendingEditEvent=o.UpdateCellEditEvent(e,t,a,!1)):n.pendingEditEvent=o.UpdateCellEditEvent(e,t,a,!1),n.setState({canSave:!0,hasUnpublishedChanges:!0})},n.pushNewCellContents=function(){var e=i.Deferred();return n.pendingEditEvent?(n.setState({editHistory:n.state.editHistory.concat(n.pendingEditEvent),canSave:!1,lastSavedTime:new Date},function(){return e.resolve()}),n.kernel.sendEditEvent(n.pendingEditEvent,n.serializeCellsToIpynbWithNoOutputs),n.pendingEditEvent=null):e.resolve(),e},n.handleActivateCell=function(e){n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(o.ActivateCellEditEvent(e))})})},n.handleDeactivateCell=function(e){n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(o.DeactivateCellEditEvent(e))})})},n.handleDocumentClick=function(e){-1!==["notebook-editor","notebook-editor__notebook-contents","notebook-editor__cells-container","content-box__content-section"].indexOf(e.target.className)&&n.deactivateActiveCell()},n.deactivateActiveCell=function(){n.state.activeCellUuid&&n.handleDeactivateCell(n.state.activeCellUuid)},n.updateInputFileMetadata=function(e,t,i){if(n.props.updateInputMetadataUrl){var s={fileName:e,columns:[{fileName:e,columnIndex:t,description:i.description,dataType:i.harmonizedDataType}]};a.ajax({context:n,url:n.props.updateInputMetadataUrl,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(s),success:function(e){e&&h.PageMessages.error("Your description could not be saved: "+e,{clear:!0})},error:function(){h.PageMessages.error("Sorry, there was a problem saving your update.",{clear:!0})}})}},n.onDataSourcesChanged=function(e){return d.addDataSource(e,n.kernel.scriptRunId).then(n.setDataSources)};var s=!n.props.scriptId||n.props.scriptId<=0,p=n.props.scriptRunId&&n.props.scriptRunId>0;n.state={kernelLanguageId:n.props.scriptLanguageId,kernelStatus:o.KernelStatus.Initializing,startingStateIpynb:"",editHistory:s||n.props.loadNotebookPending?n.getInitialEdits():[],title:n.props.existingTitle||"",isEditingTitle:!(n.props.existingTitle&&!n.props.forkParentScriptVersionId),titleErrorText:"",canUndo:!1,canRedo:!1,kernelMetadata:{kernelspec:{name:"python"},language_info:{name:"python",version:"3.5.1"}},kernelInfoText:"",canSave:!1,hasUnpublishedChanges:!1,lastSavedTime:null,wasAutoSaved:!1,titleEditorHasFocus:!1,activeCellUuid:null,activeCellIsCollapsed:null,activeCellType:null,busyCellUuid:null,hasCodeCell:!0,hasNonEmptyCell:!0,nTotalCells:0,redisConnectionMessage:"",redisConnectionMessageType:"success",scriptResultMessage:"",downloadDataMessage:null,isInKeyboardShortcutCommandMode:!1,firstCellIsMarkdown:!1,firstCellUuid:null,isPrivate:n.props.isPrivate,scriptId:n.props.scriptId||null,dataSources:n.props.dataSources&&n.props.dataSources.filter(Boolean)||[],imageUrl:n.props.imageUrl,imageClickUrl:n.props.dataSources&&1===n.props.dataSources.length&&n.props.dataSources[0]?n.props.dataSources[0].sourceUrl:null};var u={initialScriptId:n.props.scriptId,initialTitle:n.props.existingTitle&&""!==n.props.existingTitle?n.props.existingTitle:null,initialScriptRunId:n.props.scriptRunId,initialLanguageId:n.props.scriptLanguageId,scriptProjectId:n.props.scriptProjectId,readOnly:n.props.readOnly,onKernelStatusChange:n.onKernelStatusChange,onUpdateTitle:n.handleUpdateTitle,onUpdateUrl:n.handleUpdateUrl,onUpdateScriptId:function(e){n.setState({scriptId:e})},onUpdateTitleErrorMessage:n.handleUpdateTitleErrorMessage,onKernelSpecChange:n.handleKernelSpecChange,initialEditEvents:n.state.editHistory,onSave:n.handleAutoSave,onRedirectToRenderedNotebook:n.handleRedirectToRenderedNotebook,receiveChanges:n.handleChangeEvents,onConnectionOk:n.handleRedisConnectionOk,onConnectionProblem:n.handleRedisConnectionError,onDataDownloadUpdate:function(e){return n.setState({downloadDataMessage:e})},onExecutionCancelRequestSent:n.handleCellCancelled,onKernelResultMessage:n.handleScriptResultMessage,isDataset:n.props.isDataset};n.kernel=new r.NotebookKernelDispatcher(u),p?(n.loadAutosaved(n.kernel.scriptRunId),n.connectToExistingScriptRun()):n.kernel.startKernel(n.props.forkParentScriptVersionId,n.props.sourceScriptRunId,n.state.dataSources).then(function(){return n.loadAutosaved(n.kernel.scriptRunId)}),window.setInterval(n.pushNewCellContents,6e4);var g={onChangedToEditMode:function(){n.setState({isInKeyboardShortcutCommandMode:!1})},onChangedToCommandMode:function(){n.setState({isInKeyboardShortcutCommandMode:!0})},onInsertCellAbove:function(){n.state.activeCellUuid&&n.handleInsertActivatedCellBefore(n.state.activeCellUuid)},onInsertCellBelow:function(){n.state.activeCellUuid&&n.handleInsertActivatedCellAfter(n.state.activeCellUuid)},onSave:function(){},onCancelExecution:function(){return n.handleCellCancelRequest(n.state.activeCellUuid)},onMakeCodeCell:function(){return n.handleChangeCellType(n.state.activeCellUuid,o.NotebookCellType.Code)},onMakeMarkdownCell:function(){return n.handleChangeCellType(n.state.activeCellUuid,o.NotebookCellType.Markdown)},onDeleteCell:function(){return n.handleDeleteCell(n.state.activeCellUuid)}};return n.shortcuts=new l.NotebookKeyboardShortcutter(g),document.addEventListener("keydown",n.shortcuts.handleKeyDown,!0),n.props.url&&""!==n.props.url&&n.handleUpdateUrl(n.props.url),n}return s.__extends(n,t),n.prototype.componentDidMount=function(){this.kernel.containerDidMount(),document.addEventListener("click",this.handleDocumentClick,!1),window.addEventListener("beforeunload",this.handlePageChange),this.autosaveIntervalHandle=window.setInterval(this.autosave.bind(this),5e3),this.checkAddDataSourceModal()},n.prototype.componentWillUnmount=function(){this.kernel.containerWillUnmount(),document.removeEventListener("keydown",this.shortcuts.handleKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!1),window.removeEventListener("beforeunload",this.handlePageChange),clearInterval(this.autosaveIntervalHandle)},n.prototype.componentDidUpdate=function(){this.state.editHistory.length>50&&this.setState({startingStateIpynb:JSON.stringify(this.serializeCellsToIpynb()),editHistory:[]})},n.prototype.checkAddDataSourceModal=function(){!(this.props.dataSources&&this.props.dataSources.length>0)&&this.props.isNewNotebook&&this.addDataSourceBanner.showModal()},n.prototype.getInitialEdits=function(){if(this.props.loadNotebookPending)return[];var e=o.InsertCellEditEvent(o.strictlyFormattedUuid(),null);return this.props.templateText&&""!==this.props.templateText&&(e.source=this.props.templateText),[e]},n.prototype.connectToExistingScriptRun=function(){this.kernel.subscribeToRedisKeys(0)},n.prototype.stopCellExecution=function(e){this.kernel.cancelCellExecution()},n.prototype.switchLanguageTemplateIfPresent=function(e,t){var n=this.props.scriptLanguageTemplates.map(function(e){return e.languageId}).indexOf(this.state.kernelLanguageId),a=this.props.scriptLanguageTemplates.map(function(e){return e.languageId}).indexOf(t),i=this.props.scriptLanguageTemplates[n].template,s=e.cells.map(function(e){return e.source}).indexOf(i);return-1===s?(m.Current.log("No language template found."),e):(m.Current.log("Swapping language template."),e.cells[s].source=this.props.scriptLanguageTemplates[a].template,e)},n.prototype.parseIpynbFile=function(e){var t=JSON.parse(e);return t.cells.forEach(function(e){e.metadata.hasOwnProperty("_cell_guid")||(e.metadata._cell_guid=o.strictlyFormattedUuid()),e.metadata.hasOwnProperty("_active")||(e.metadata._active=!1)}),this.setState({startingStateIpynb:JSON.stringify(t),editHistory:[]}),t.cells},n.prototype.deleteAllCellsOnServer=function(){var e=this.serializeCellsToIpynb().cells;this.kernel.sendEditEvents(e.map(function(e){return o.DeleteCellEditEvent(e.metadata._cell_guid)}),this.serializeCellsToIpynbWithNoOutputs)},n.prototype.sendNewCellsToServer=function(e){this.kernel.sendEditEvents(e.map(function(t,n){return o.InsertCellEditEvent(t.metadata._cell_guid,n>0?e[n-1].metadata._cell_guid:null,t.metadata.collapsed,"code"===t.cell_type?o.NotebookCellType.Code:o.NotebookCellType.Markdown,t.source)}),this.serializeCellsToIpynbWithNoOutputs)},n.prototype.updateCellProperties=function(e,t){this.setState({hasCodeCell:e,hasNonEmptyCell:t})},n.prototype.registerEditEvent=function(e){this.pendingEditEvent?(this.setState({editHistory:this.state.editHistory.concat([this.pendingEditEvent,e])}),this.kernel.sendEditEvents([this.pendingEditEvent,e],this.serializeCellsToIpynbWithNoOutputs),this.pendingEditEvent=null):(this.setState({editHistory:this.state.editHistory.concat(e)}),this.kernel.sendEditEvent(e,this.serializeCellsToIpynbWithNoOutputs))},n.prototype.renderHeader=function(){var t=this,n=this.state.kernelStatus===o.KernelStatus.RenderingHtml,a=this.props.readOnly||n,i=null;""!==this.state.titleErrorText&&(i=(i||[]).concat({type:"error",message:this.state.titleErrorText})),""!==this.state.redisConnectionMessage&&(i=(i||[]).concat({type:this.state.redisConnectionMessageType,message:this.state.redisConnectionMessage})),""!==this.state.scriptResultMessage&&(i=(i||[]).concat({type:"error",message:this.state.scriptResultMessage}));var s=this.props.scriptLanguageTemplates.map(function(e){return{label:e.baseScriptLanguageName,value:e.languageId.toString()}});a&&(s=s.filter(function(e){return e.value===t.state.kernelLanguageId.toString()}));var r=""===this.state.title,l=this.state.titleErrorText&&""!==this.state.titleErrorText,c=!(r||l||a||this.state.isEditingTitle||this.state.kernelStatus!==o.KernelStatus.Running),u="Render the notebook as a new HTML page";r?u="You must enter a title before saving a complete run.":this.state.isEditingTitle&&(u="You must finish editing the title before saving a complete run.");var d=function(){return t.handleInsertActivatedCellAfter(t.state.activeCellUuid)},m=this.state.kernelStatus!==o.KernelStatus.RestartingKernel;return e.createElement(p.NotebookHeader,{readOnly:a,activeCellUuid:this.state.activeCellUuid,activeCellIsCollapsed:this.state.activeCellIsCollapsed,activeCellType:this.state.activeCellType,availableLanguageChoices:s,busyCellUuid:this.state.busyCellUuid,canDownloadIpynb:this.state.hasNonEmptyCell,canExecuteActiveCell:this.state.activeCellType===o.NotebookCellType.Code&&this.state.kernelStatus===o.KernelStatus.Running,canExecuteAll:this.state.hasCodeCell&&this.state.kernelStatus===o.KernelStatus.Running,canRenderHtml:c,canRestartKernel:m,isEditingTitle:this.state.isEditingTitle,kernelInfoLine:this.state.kernelInfoText,kernelLanguageDropdownValue:this.state.kernelLanguageId.toString(),kernelLanguageName:this.kernelLanguageName(),kernelStatus:this.state.kernelStatus,canSave:this.state.canSave,lastSavedTime:this.state.lastSavedTime,wasAutoSaved:this.state.wasAutoSaved,nTotalCells:this.state.nTotalCells,onAddCell:d,onCancel:this.handleCellCancelRequest,onChangeCellType:this.handleChangeCellType,onDelete:this.handleDeleteCell,onDownloadIpynb:this.handleDownloadIpynb,onExecute:this.handleCellExecuteRequest,onExecuteAll:this.handlePlayAll,onLanguageChanged:this.handleLanguageChanged,onPrivacyChanged:this.handlePrivacyChanged,onRenderHtml:this.handleRenderHtml,onRenderHtmlRequestError:this.handleRenderRequestError,onRestartKernel:this.handleRestartKernel,onTitleChanged:this.handleTitleChanged,onTitleEditingStateChanged:this.handleTitleEditingStateChanged,onTitleEditorGainFocus:this.handleTitleEditorGainFocus,onTitleEditorLoseFocus:this.handleTitleEditorLoseFocus,onChangeCollapsed:this.handleChangeCollapsed,onUploadIpynb:this.handleUploadIpynb,pageMessages:i,renderHtmlToolTipText:u,title:this.state.title,isPrivate:this.state.isPrivate,scriptId:this.state.scriptId,onChangeToPublic:this.handleChangeToPublic,imageUrl:this.state.imageUrl,imageClickUrl:this.state.imageClickUrl})},n.prototype.render=function(){var t=this,n=this.props.readOnly||this.state.kernelStatus===o.KernelStatus.RenderingHtml,a=null;n||this.state.firstCellIsMarkdown||(a=e.createElement("div",{className:"notebook-editor__add-description-prompt",onClick:this.insertMarkdownCellAtStart},e.createElement("div",{className:"notebook-editor__add-description-prompt-inner"},"Click here to add an introduction.")));var i=this.state.kernelStatus===o.KernelStatus.Running,s=null;return m.Current.hasMultipleDataSources&&this.state.dataSources&&0===this.state.dataSources.length?s=e.createElement(d.ContentBox,null,e.createElement(g.AddDataSourceBanner,{onDataSourceAdded:this.onDataSourcesChanged,ref:function(e){return t.addDataSourceBanner=e}})):(this.props.inputFiles&&this.props.inputFiles.length>0||this.state.dataSources&&this.state.dataSources.length>0)&&(s=e.createElement(d.CollapsibleContentBox,{title:"Input Files",initiallyCollapsed:!0},e.createElement(d.FilePreviewList,{files:this.props.inputFiles,dataSources:this.state.dataSources,userCanEditMetadata:!m.Current.isAnonymous&&this.props.isDataset,onMetadataChange:this.props.updateInputMetadataUrl?this.updateInputFileMetadata:null,onDataSourceAdded:this.handleDataSourceAdded,onDataSourceRemoved:this.handleDataSourceRemoved,scriptVersionId:this.kernel.scriptRunId}))),e.createElement("div",{className:"notebook-editor"},this.renderHeader(),e.createElement("div",{className:"notebook-editor__notebook-contents"},this.state.downloadDataMessage&&""!==this.state.downloadDataMessage?e.createElement(b,{message:this.state.downloadDataMessage}):null,s,e.createElement(d.ContentBox,{title:"Notebook"},a,e.createElement(u.NotebookCellsContainer,{startingStateIpynb:this.state.startingStateIpynb,editHistory:this.state.editHistory,kernelMetadata:this.state.kernelMetadata,kernelLanguageName:this.kernelLanguageName(),isReadOnly:n,isInCommandMode:this.state.isInKeyboardShortcutCommandMode,canExecute:i,registerGetIpynb:function(e){t.serializeCellsToIpynb=e},registerGetIpynbWithNoOutputs:function(e){t.serializeCellsToIpynbWithNoOutputs=e},registerGetCellContents:function(e){t.getCellContents=e},onUpdateNumberOfCells:this.updateCellCount,onChangeActiveCell:this.updateActiveCellProperties,onChangeBusyCell:this.updateBusyCellProperties,onAppendActivatedCell:function(){return t.handleInsertActivatedCellAfter(null)},onNewCellContents:this.handleNewCellContents,onChangeCellType:this.handleChangeCellType,onChangeCollapsed:this.handleChangeCollapsed,onAutocomplete:this.state.kernelStatus===o.KernelStatus.Running?this.kernel.requestAutocomplete:function(){},onExecuteCell:this.state.kernelStatus===o.KernelStatus.Running?this.handleCellExecuteRequest:function(){},onActivateCell:this.handleActivateCell,onDeactivateCell:this.handleDeactivateCell,onDeleteCell:this.handleDeleteCell,onAddAbove:this.handleInsertActivatedCellBefore,onAddBelow:this.handleInsertActivatedCellAfter,onUpdateFirstCellIsMarkdown:function(e){t.setState({firstCellIsMarkdown:e})},onUpdateFirstCellUuid:function(e){t.setState({firstCellUuid:e})}}),e.createElement("div",{className:"notebook-editor__new-block-prompt",onClick:function(){return t.handleInsertActivatedCell(null,null)},id:"add-notebook-cell-button"},e.createElement("span",{className:"fa fa-plus-square"}),"Add a new text or code cell here"),this.state.isPrivate?null:e.createElement("div",{className:"notebook-editor__license-publish-info"},"Code in this notebook will be released under the ",e.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"}," Apache 2.0 ")," open source license when you click Publish, or after 20 minutes of idle time."))))},n}(e.Component);t.NotebookEditor=_;var b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return!e.message!=!this.props.message||e.message&&e.message!==this.props.message},n.prototype.render=function(){return e.createElement(d.ContentBox,{title:"Preparing Worker"},e.createElement("div",{className:"notebook-editor__download-data-message"},e.createElement("pre",null,this.props.message)))},n}(e.Component)}).call(t,n(0),n(3),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(213),s=n(100),o=n(61),r=n(83),l=n(6),c=n(45),p=n(654),u=n(1094),d=function(){var e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");return new RegExp(e,"g")},m=function(t){function n(e){var n=t.call(this,e)||this;return n.isCodeCell=function(){return"code"===n.props.cell_type},n.isBusy=function(){return n.props.metadata._execution_state&&"busy"===n.props.metadata._execution_state},n.updateGlobalStateWithNewContents=c.throttle(function(e){return n.props.onContentsChange(e)},1e3),n.handleCellContentsChange=function(e){n.cellContents=e,n.updateGlobalStateWithNewContents(e)},n.handleEditorFocusChange=function(e){e||n.props.onContentsChange(n.cellContents)},n.cellContents=n.props.source,n}return a.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},n.prototype.componentWillUpdate=function(){this.mainDiv?this.lastMainDivTop=this.mainDiv.getBoundingClientRect().top:this.lastMainDivTop=null},n.prototype.componentDidUpdate=function(e){!e.isActive&&this.props.isActive&&this.mainDiv&&this.lastMainDivTop&&window.scrollBy(0,this.mainDiv.getBoundingClientRect().top-this.lastMainDivTop)},n.prototype.normalizeCellSource=function(){return this.props.source?this.props.source instanceof Array?0===this.props.source.length?"":this.props.source.some(function(e){return e.indexOf("\n")>-1})?this.props.source.join(""):this.props.source.join("\n"):this.props.source:""},n.prototype.render=function(){var t=this,n=this.isCodeCell()?"code":"markdown",a="";return this.props.isActive&&(a=" notebook-editor__cell--active",this.props.isInCommandMode&&(a+=" notebook-editor__cell--command")),e.createElement("div",{className:"notebook-editor__cell-plus-toolbar"},this.props.isActive?e.createElement(h,{cell_type:this.props.cell_type,kernelLanguageName:this.props.kernelLanguageName,onClick:function(){return t.props.onExecute(t.cellContents)},onChangeToMarkdown:function(){return t.props.onChangeCellType("markdown")},onChangeToCode:function(){return t.props.onChangeCellType("code")},onAddAbove:this.props.onAddAbove,onAddBelow:this.props.onAddBelow,onDelete:this.props.onDelete}):null,e.createElement("div",{className:"notebook-editor__cell notebook-editor__cell--"+n+a,onMouseUp:this.props.onMouseUp},this.isCodeCell()?e.createElement(g,{isBusy:this.isBusy(),collapsed:this.props.metadata.collapsed,execution_count:this.props.execution_count}):null,e.createElement("div",{className:"notebook-editor__cell-inner notebook-editor__cell-inner--"+n,ref:function(e){return t.mainDiv=e}},this.isCodeCell()?e.createElement(f,{canMoveDown:this.props.canMoveDown,canMoveUp:this.props.canMoveUp,inputSource:this.normalizeCellSource(),isActive:this.props.isActive,kernelLanguageName:this.props.kernelLanguageName,onAutocomplete:this.props.onAutocomplete,onCellContentsChange:this.handleCellContentsChange,onEditorFocusChange:this.handleEditorFocusChange,onMouseUp:this.props.readOnly?null:this.props.onMouseUp,onMoveDown:this.props.onMoveDown,onMoveUp:this.props.onMoveUp,onCtrlEnter:function(){t.isBusy()||t.props.onExecute(t.cellContents)},onShiftEnter:function(){t.isBusy()||(t.props.onContentsChange(t.cellContents),t.props.onExecute(t.cellContents),t.props.appendNewOrMoveDown())},readOnly:this.props.readOnly}):e.createElement(v,{inputSource:this.normalizeCellSource(),isActive:this.props.isActive,onBlur:function(){return t.handleEditorFocusChange(!1)},onContentsChange:this.handleCellContentsChange,onCtrlEnter:function(){t.props.onContentsChange(t.cellContents),t.props.onDeselect()},onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,onShiftEnter:function(){t.props.onContentsChange(t.cellContents),t.props.appendNewOrMoveDown()},suffix:this.props.cellKey})),e.createElement(_,{tip:this.props.scriptTip}),e.createElement(b,{isCodeCell:this.isCodeCell(),cellKey:this.props.cellKey,outputs:this.props.outputs,execution_count:this.props.execution_count})))},n}(e.Component);t.NotebookCell=m;var h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=null;return"code"===this.props.cell_type&&(t=e.createElement("div",{className:"notebook-editor__cell-toolbar-button",style:{padding:0,marginLeft:"15px",marginRight:"7px",marginTop:"2px"},onClick:this.props.onClick},e.createElement(r.ToolTip,{tipText:"Execute cell"},e.createElement("span",{className:"fa fa-play"})))),e.createElement("div",{className:"notebook-editor__cell-toolbar"},e.createElement("div",{className:"notebook-editor__cell-type-toggle-group"},e.createElement("div",{className:"notebook-editor__cell-type-toggle-group-inner"},e.createElement("div",{onClick:this.props.onChangeToMarkdown,className:"notebook-editor__cell-type-toggle"+("markdown"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},"Markdown"),e.createElement("div",{onClick:this.props.onChangeToCode,className:"notebook-editor__cell-type-toggle"+("code"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},this.props.kernelLanguageName)),t),e.createElement("div",{className:"notebook-editor__cell-toolbar-lhs"},e.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},e.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddAbove},e.createElement(r.ToolTip,{tipText:"Add cell above"},e.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},e.createElement("span",{className:"fa fa-plus"}),e.createElement("span",{className:"fa fa-caret-up"})))),e.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddBelow},e.createElement(r.ToolTip,{tipText:"Add cell below"},e.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},e.createElement("span",{className:"fa fa-plus"}),e.createElement("span",{className:"fa fa-caret-down"}))))),e.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},e.createElement("div",{className:"notebook-editor__cell-toolbar-button notebook-editor__cell-toolbar-button--red",onClick:this.props.onDelete},e.createElement(r.ToolTip,{tipText:"Delete cell"},e.createElement("span",{className:"fa fa-trash"}))))))},n}(e.Component),g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t,n=" ";return this.props.isBusy?n="*":null!==this.props.execution_count&&(n=this.props.execution_count?this.props.execution_count.toString():" "),t=this.props.collapsed?e.createElement("div",{className:"notebook-editor__cell-number-in notebook-editor__cell-number-in--collapsed"},"["+n+"]"):e.createElement("div",{className:"notebook-editor__cell-number-in"},"In["+n+"]:"),e.createElement("div",{className:"notebook-editor__cell-number-container"},t)},n}(e.Component),f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n={mode:this.props.kernelLanguageName.toLowerCase(),scrollbarStyle:"native",indentUnit:4,indentWithTabs:!1,autoCloseBrackets:!0,readOnly:this.props.readOnly,theme:"kaggle"};return e.createElement(i.CodeMirrorEditor,{value:this.props.isActive?null:this.props.inputSource,defaultValue:this.props.inputSource,onChange:this.props.onCellContentsChange,onFocusChange:this.props.onEditorFocusChange,hasFocus:this.props.isActive,onMouseUp:this.props.onMouseUp,options:n,getAutocomplete:this.props.onAutocomplete,canMoveUp:function(){return t.props.canMoveUp},canMoveDown:function(){return t.props.canMoveDown},onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,onCtrlEnter:this.props.onCtrlEnter,onShiftEnter:this.props.onShiftEnter})},n}(e.Component),v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props.isActive||""===this.props.inputSource.trim();return e.createElement("div",null,e.createElement("div",{style:n?{display:"inherit",animationName:"notebook-markdown-editor",animationDuration:"0.5s"}:{display:"none"}},e.createElement(s.MarkdownEditor,{shouldSanitizeHtml:!0,onChangeCallback:function(){},onChangeImmediate:this.props.onContentsChange,defaultValue:this.props.inputSource,alwaysShowToolbar:!0,hasFocus:this.props.isActive,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,suffix:this.props.suffix,onKeyPress:function(e){e.shiftKey&&13===e.keyCode?(e.preventDefault(),e.stopPropagation(),t.props.onShiftEnter()):e.ctrlKey&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),t.props.onCtrlEnter())},onBlur:this.props.onBlur})),n?null:e.createElement(o.MarkdownConverter,{content:this.props.inputSource,mimeType:"text/markdown"}))},n}(e.Component),_=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return this.props.tip&&(this.props.tip.textToShow||this.props.tip.htmlToShow)?e.createElement("div",{className:"notebook-editor__script-tip"},e.createElement("span",{className:"fa fa-warning notebook-editor__script-tip-icon"}),this.props.tip.textToShow):null},n}(e.Component),b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;if(!this.props.isCodeCell||!this.props.outputs||0===this.props.outputs.length)return null;var n=this.props.execution_count?this.props.execution_count.toString():" ";return e.createElement("div",{className:"notebook-editor__cell-output-section"},e.createElement("div",{className:"notebook-editor__cell-number-container"},e.createElement("div",{className:"notebook-editor__cell-number-out"},"Out["+n+"]:")),this.props.outputs.map(function(e,n){return t.renderCellOutputChunk(e,t.props.cellKey+"-"+n.toString())}))},n.prototype.renderCellOutputChunk=function(t,n){switch(t.output_type){case"execute_result":case"display_data":var a=null,i=null;if("image/png"in t.data)i=e.createElement("img",{src:"data:image/png;base64,"+t.data["image/png"],key:n+"-img"});else if("text/html"in t.data){var s={__html:p.sanitizeHTML(t.data["text/html"])};a=e.createElement("div",{className:"notebook-editor__html-output",key:n+"-html",dangerouslySetInnerHTML:s})}else"text/plain"in t.data&&(a=e.createElement("div",{className:"notebook-editor__cell-output",key:n+"-text"},t.data["text/plain"]));return e.createElement("div",{key:n},a,i);case"stream":return"stderr"===t.name?e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-stderr"},t.text):e.createElement("div",{className:"notebook-editor__cell-output",key:n+"-stdout"},t.text);case"error":var o=null,r=null;return"ename"in t&&"evalue"in t?o=e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-desc"},e.createElement("span",null,t.ename+": "+t.evalue)):l.Current.warn("Missing ename/evalue in error event"),"traceback"in t&&(r=e.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:n+"-trace"},this.renderTraceback(t.traceback.join("\n")))),e.createElement("div",{key:n+"-err"},o,r);default:return l.Current.warn("Unknown output_type in cell "+this.props.cellKey),null}},n.prototype.renderTraceback=function(t){var n=this.renderAnsiColorIfNeeded(t),a={__html:p.sanitizeHTML(n)};return e.createElement("div",{dangerouslySetInnerHTML:a})},n.prototype.renderAnsiColorIfNeeded=function(e){return d().test(e)?(new u).toHtml(e):e},n}(e.Component)}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){function i(e){var t=e.dataSources&&e.dataSources.length>0;return{scriptRunId:e.connection.scriptRunId,showAddDatasourcesBanner:u.Current.hasMultipleDataSources&&e.dataSources&&0===e.dataSources.length,showAddDatasourcesModal:!t&&e.isNewNotebook,showInputFilesPreview:e.inputFiles&&e.inputFiles.length>0||e.dataSources&&e.dataSources.length>0,dataSources:e.dataSources,inputFiles:e.inputFiles,updateInputMetadataUrl:t&&1===e.dataSources.length?e.updateInputMetadataUrl:null}}function s(e){var t=function(t,n){return new Promise(function(a,i){t&&e(h.updateDataSourcesAndRestart(t,n)),a()})};return{onDataSourceAdded:function(e,n){return m.addDataSource(e,n).then(function(e){return t(e,n)})},onDataSourceRemoved:function(e,n){return m.removeDataSource(e,n).then(function(e){return t(e,n)})}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(96),l=n(29),c=n(7),p=n(113),u=n(6),d=n(275),m=n(5),h=n(35),g=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.updateInputFileMetadata=function(t,n,i){l(e.props.updateInputMetadataUrl&&1===e.props.dataSources.length,"Cannot currently update metadata on multiple datasets.");var s={fileName:t,columns:[{fileName:t,columnIndex:n,description:i.description,dataType:i.harmonizedDataType}]};a(e.props.updateInputMetadataUrl,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(s)})},e}return o.__extends(n,t),n.prototype.render=function(){var t=this;return this.props.showAddDatasourcesBanner?e.createElement(c.ContentBox,null,e.createElement(d.AddDataSourceBanner,{onDataSourceAdded:function(e){return t.props.onDataSourceAdded(e,t.props.scriptRunId)},showModalInitially:this.props.showAddDatasourcesModal})):this.props.showInputFilesPreview?e.createElement(c.CollapsibleContentBox,{title:"Input Files",initiallyCollapsed:!0},e.createElement(p.FilePreviewList,{files:this.props.inputFiles,dataSources:this.props.dataSources,userCanEditMetadata:!u.Current.isAnonymous&&!!this.props.updateInputMetadataUrl,onMetadataChange:this.props.updateInputMetadataUrl?this.updateInputFileMetadata:null,onDataSourceAdded:this.props.scriptRunId?function(e){return t.props.onDataSourceAdded(e,t.props.scriptRunId)}:null,onDataSourceRemoved:this.props.scriptRunId?function(e){return t.props.onDataSourceRemoved(e,t.props.scriptRunId)}:null,scriptVersionId:this.props.scriptRunId})):null},n}(e.Component);t.NotebookDataSources_Container=r.connect(i,s)(g)}).call(t,n(0),n(32))},function(e,t,n){"use strict";(function(e){function a(e){return{cells:e.notebook.cells||[],isReadOnly:e.kernelStatus===r.KernelStatus.RenderingHtml,isInCommandMode:e.isInCommandMode,kernelLanguageName:e.kernelLanguageName,activeCellIndex:e.activeCellIndex,firstCellIsMarkdown:!!(e.notebook.cells&&e.notebook.cells.length>0)&&"markdown"===e.notebook.cells[0].cell_type,scriptTips:e.scriptTips}}function i(e){return{onChangeCellType:function(t){return e(c.changeCellType(t))},onContentsChange:function(t,n){return e(c.updateContents(t,n))},onAddAbove:function(){return e(c.addAbove())},onAddBelow:function(){return e(c.addBelow())},onMouseUp:function(t){return e(c.activate(t))},onDelete:function(){return e(c.deleteCell())},onActivate:function(t){return e(c.activate(t))},onExecute:function(t,n){return e(c.executeCell(t,n))},onAutocomplete:function(t,n,a){return e(c.autocompleteRequest(t,n,a))},insertMarkdownCellAtStart:function(){return e(c.addMarkdownAtStart())},onDeselect:function(){return e(c.activate(null))}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(96),r=n(60),l=n(980),c=n(35),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(n,t),n.prototype.render=function(){var t=this;if(0===this.props.cells.length)return e.createElement("div",{className:"notebook-editor__cells-container"},e.createElement("div",{className:"notebook-editor__cells-loading-message"},"Loading..."));var n=null;return this.props.isReadOnly||this.props.firstCellIsMarkdown||(n=e.createElement("div",{className:"notebook-editor__add-description-prompt",onClick:this.props.insertMarkdownCellAtStart},e.createElement("div",{className:"notebook-editor__add-description-prompt-inner"},"Click here to add an introduction."))),e.createElement("div",{className:"notebook-editor__cells-container"},n,this.props.cells.map(function(n,a){return e.createElement(l.NotebookCell,s.__assign({key:"notebook-cell-"+(n.metadata._uuid||a),cellKey:"notebook-cell-"+a,readOnly:!!t.props.isReadOnly&&"nocursor",isActive:a===t.props.activeCellIndex,isInCommandMode:t.props.isInCommandMode,kernelLanguageName:t.props.kernelLanguageName,canMoveDown:a<t.props.cells.length-1,canMoveUp:a>0,appendNewOrMoveDown:a<t.props.cells.length-1?function(){t.props.onActivate(a+1)}:function(){t.props.onAddBelow(),t.props.onActivate(a+1)},onExecute:function(e){return t.props.onExecute(a,e)},onAddAbove:function(){return t.props.onAddAbove()},onAddBelow:function(){return t.props.onAddBelow()},onChangeCellType:function(e){console.log("Changing cell type for :"+a),t.props.onChangeCellType(e)},onDelete:function(){return t.props.onDelete()},onMouseUp:function(){return t.props.onActivate(a)},onMoveDown:function(){return t.props.onActivate(a+1)},onMoveUp:function(){return t.props.onActivate(a-1)},onContentsChange:function(e){return t.props.onContentsChange(n.metadata._uuid,e)},onAutocomplete:t.props.onAutocomplete,onDeselect:t.props.onDeselect,scriptTip:t.props.scriptTips[a]},n))}))},n}(e.Component);t.NotebookEditorCellList_PoC_Container=o.connect(a,i)(p)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(e){var t,n=""===e.titleState.title||e.titleState.needsAGoodTitle,a=!n&&e.titleState.titleIsValid&&!e.titleState.isEditingTitle&&e.kernelStatus===m.KernelStatus.Running;t=n?"You must enter a title before saving a complete run.":e.titleState.isEditingTitle?"You must finish editing the title before saving a complete run.":e.titleState.titleIsValid?"Render the notebook as a new HTML page":"You must enter a valid title before saving a complete run.";var i=e.scriptLanguageTemplates.map(function(e){return{label:e.baseScriptLanguageName,value:e.languageId.toString()}}),s=e.kernelLanguageId.toString(),o=e.kernelStatus===m.KernelStatus.Running,r=e.notebook.metadata.language_info.name,l=r.charAt(0).toUpperCase()+r.slice(1),c=o?l+" "+e.notebook.metadata.language_info.version:"",p=!1,u=!1;if(e.notebook.cells){var h=e.notebook.cells[e.activeCellIndex];p=!!h&&"code"===h.cell_type,u=e.notebook.cells.some(function(e){return"busy"===e.metadata._execution_state})}return{title:e.titleState.title,isEditingTitle:e.titleState.isEditingTitle,imageUrl:e.imageUrl,kernelStatus:e.kernelStatus,kernelInfoLine:c,playStopButtonFaClass:u?"stop":"play",canPlayStop:p&&o,playStopToolTip:u?"Interrupt execution":"Execute cell",playStopButtonShouldPlay:!u,canExecuteAll:o,canDownloadIpynb:o,canUploadIpynb:o,availableLanguageChoices:i,kernelLanguageDropdownValue:s,scriptId:e.connection.scriptId,scriptRunId:e.connection.scriptRunId,isPrivate:e.isPrivate,canSave:o,isDirty:e.isDirty,lastSavedTime:e.lastSaveTime,canRenderHtml:a,renderHtmlToolTipText:t,notebook:e.notebook,kernelLanguageId:e.kernelLanguageId,shouldPromptToEditTitle:e.titleState.needsAGoodTitle,jupyterUrl:d.Current.isAdmin?e.connection.directJupyterUrl:null,isShowingKernelInfoModal:e.isShowingKernelInfoModal}}function i(e){return{onTitleEditingStateChanged:function(){return e(h.startEditingTitle())},onTitleChanged:function(t){return e(h.updateTitle(t))},onTitleEditorGainFocus:function(){return e(h.startEditingTitle())},onTitleEditorLoseFocus:function(){return e(h.stopEditingTitle())},onRestartKernel:function(t){return e(h.restartKernelForUser(t))},onPlayStop:function(t){e(t?h.executeCell():h.cancelExecution())},onExecuteAll:function(){return e(h.executeAll())},onUploadIpynb:function(t){var n=t.target.files[0],a=new FileReader;a.onload=function(t){d.Current.log("Loaded new ipynb content:");var n=JSON.parse(t.target.result);d.Current.log(n),e(h.replaceContents(n)),e(h.saveFile(n))},a.readAsText(n)},onDownloadIpynb:function(t){e(h.ipynbDownload());var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});g.saveAs(n,"notebook.ipynb",!0)},onKernelLanguageChanged:function(t,n,a){var i=+t;if(isNaN(i))return void d.Current.warn("Invalid new language id: "+t);i!==a&&(e(h.changeLanguage(i)),setTimeout(function(){e(h.cancelScriptRun(n)),e(h.requestWorker())},10))},onChangeToPublic:function(){},onRenderHtml:function(t,n){return e(h.renderHtml(t,n))},onRenderHtmlRequestError:function(e){},onSave:function(t){return e(h.saveFile(t))},onClickKernelInfo:function(){return e(h.showKernelInfo())}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(96),r=n(50),l=n(99),c=n(63),p=n(110),u=n(211),d=n(6),m=n(60),h=n(35),g=n(524),f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},n.prototype.render=function(){var t,n=this,a=null;this.props.isEditingTitle||this.props.shouldPromptToEditTitle?t=e.createElement(l.InlineTextEditor,{className:"pageheader__notebook-header-title--input",value:this.props.shouldPromptToEditTitle?"":this.props.title,placeholder:"Enter a title for your notebook",onGainFocusCallback:this.props.onTitleEditorGainFocus,onLoseFocusCallback:function(){return n.props.onTitleEditorLoseFocus()},onChangeCallback:this.props.onTitleChanged}):(t=this.props.title,a=this.props.onTitleEditingStateChanged);var i=function(e){return n.props.onKernelLanguageChanged(e,n.props.scriptRunId,n.props.kernelLanguageId)};return e.createElement(r.PageHeader,null,e.createElement(r.PageHeaderTopRow,{title:t,coverImageUrl:this.props.imageUrl,subtitle:null,titleUrl:null,isEditingHeaderInfo:this.props.isEditingTitle||this.props.shouldPromptToEditTitle,modifier:"notebook",nodeId:"pageheader__top--notebook",onTitleClick:a}),e.createElement(r.PageHeaderBottomRow,null,e.createElement("div",{className:"pageheader__nav pageheader__nav--notebook"},e.createElement(_,{status:this.props.kernelStatus}),e.createElement("div",{className:"pageheader__notebook-header-restart-button"},e.createElement(p.ButtonRoundEdged,{onClick:function(){return n.props.onRestartKernel(n.props.scriptRunId)},text:"Restart"})),e.createElement("div",{className:"pageheader__notebook-header-button-group"},e.createElement(v,{faClass:this.props.playStopButtonFaClass,isActive:this.props.canPlayStop,tooltip:this.props.playStopToolTip,clickAction:function(){return n.props.onPlayStop(n.props.playStopButtonShouldPlay)}}),e.createElement(v,{faClass:"forward",isActive:this.props.canExecuteAll,tooltip:"Execute all cells",clickAction:this.props.onExecuteAll})),e.createElement("div",{className:"pageheader__notebook-header-button-group"},e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.canUploadIpynb?"":" pageheader__notebook-header-button--disabled")},e.createElement("label",{htmlFor:"ipynb-file-upload"},e.createElement("span",{className:"fa fa-cloud-upload",title:"Upload ipynb file"})),this.props.canUploadIpynb?e.createElement("input",{id:"ipynb-file-upload",type:"file",style:{display:"none"},onChange:this.props.onUploadIpynb}):null),e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.canDownloadIpynb?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.canDownloadIpynb?function(){return n.props.onDownloadIpynb(n.props.notebook)}:null},e.createElement("span",{className:"fa fa-cloud-download",title:"Download ipynb file"}))),e.createElement("div",{className:"pageheader__notebook-language-select"},e.createElement(c.SelectBox,{options:this.props.availableLanguageChoices,className:"pageheader__notebook-language-select-box",onChange:i,searchable:!1,value:this.props.kernelLanguageDropdownValue})),""===this.props.kernelInfoLine?null:e.createElement("div",{className:"pageheader__notebook-header-button--extraspace",onClick:this.props.onClickKernelInfo,style:{cursor:"pointer"}},e.createElement("span",null,this.props.kernelInfoLine),e.createElement("span",{className:"fa fa-info-circle notebook-info-modal__info-icon"})),this.props.scriptId?e.createElement("div",{className:"pageheader__notebook-privacy-select pageheader__notebook-privacy-select--"+(this.props.isPrivate?"private":"public"),style:this.props.isPrivate?{marginTop:"5px",marginLeft:"10px"}:null},e.createElement(u.PrivacyToggle,{kernelType:"Notebook",displayMode:"SelectBox",isPrivate:this.props.isPrivate,scriptId:this.props.scriptId,onChangeToPublic:this.props.onChangeToPublic})):null,e.createElement("div",{className:"pageheader__notebook-save-message"},this.props.isDirty?"…":this.props.lastSavedTime?"Saved":""),this.props.jupyterUrl?e.createElement("div",{className:"pageheader__notebook-header-button",style:{paddingTop:"2px"},onClick:function(){return window.open(n.props.jupyterUrl)}},e.createElement("span",{className:"fa fa-server",title:"Admin: connect to Jupyter server"})):null),e.createElement("a",{onClick:this.props.canRenderHtml?function(){return n.props.onRenderHtml(n.props.scriptRunId,n.props.notebook)}:function(){return n.props.onRenderHtmlRequestError(n.props.renderHtmlToolTipText)},className:"pageheader__calltoaction pageheader__calltoaction--notebook"+(this.props.canRenderHtml?"":"-disabled")},e.createElement("span",{title:this.props.renderHtmlToolTipText},this.props.kernelStatus===m.KernelStatus.RenderingHtml?"Rendering…":"Publish"))))},n}(e.Component);t.NotebookHeader_Container=o.connect(a,i)(f);var v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(n,t),n.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},n.prototype.render=function(){return e.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.isActive?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.isActive?this.props.clickAction:null},e.createElement("span",{className:"fa fa-"+this.props.faClass,title:this.props.tooltip}))},n}(e.Component),_=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(n,t),n.prototype.render=function(){var t="fa fa-circle",n={},a=m.KernelStatus[this.props.status].replace(/([a-z])([A-Z])/g,"$1 $2");switch(this.props.status){case m.KernelStatus.Initializing:case m.KernelStatus.Queued:case m.KernelStatus.Requested:break;case m.KernelStatus.Starting:n={color:"#FF8C00"};break;case m.KernelStatus.Running:n={color:"#1DBB9A"};break;case m.KernelStatus.DownloadingData:n={color:"#B3B3B3"};break;case m.KernelStatus.Reconnecting:n={color:"#FFCC00"};break;case m.KernelStatus.Error:t="fa fa-times-circle",n={color:"#C92C2C"};break;case m.KernelStatus.Stopped:t="fa fa-square",n={color:"#C0C0C0"};break;case m.KernelStatus.RenderingHtml:t="fa fa-refresh fa-spin",n={color:"#B3B3B3"};break;default:t="fa fa-square",n={color:"#2F9C0A"}}return e.createElement("div",{className:"pageheader__notebook-header-item"},e.createElement("div",{className:"notebook-editor__kernel-status"},e.createElement("span",{className:t,style:n}),e.createElement("span",{className:"notebook-editor__kernel-status-description",style:n},a)))},n}(e.Component);t.NotebookKernelStatusIndicator=_}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(e){var t="",n="https://hub.docker.com/r/kaggle/python/",a="";return"python"===e.kernelLanguageName.toLowerCase()?(t="kaggle/python",n="https://hub.docker.com/r/kaggle/python/",a="https://github.com/Kaggle/docker-python/blob/master/Dockerfile"):(t="kaggle/rstats",n="https://hub.docker.com/r/kaggle/rstats/",a="https://github.com/Kaggle/docker-rstats/blob/master/Dockerfile"),{showModal:e.isShowingKernelInfoModal,dockerImageName:t,dockerHubUrl:n,dockerfileUrl:a}}function i(e){return{handleClose:function(){return e(l.hideKernelInfo())}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(96),r=n(114),l=n(35),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(n,t),n.prototype.render=function(){return e.createElement(r.Modal,{modalClassName:"notebook-info-modal",modalIsShown:this.props.showModal,onClose:this.props.handleClose},e.createElement("div",null,e.createElement("div",{className:"notebook-info-modal__info-section"},e.createElement("h4",null,"This Docker Image"),e.createElement("p",null,"This notebook uses the Docker image ",this.props.dockerImageName,", available for download from ",e.createElement("a",{href:this.props.dockerHubUrl},"Docker Hub"),". For details on what it includes, see the ",e.createElement("a",{href:this.props.dockerfileUrl},"Dockerfile"),".")),e.createElement("div",{className:"notebook-info-modal__info-section"},e.createElement("h4",null,"Powered by Jupyter"),e.createElement("p",null,"This notebook interface was developed by Kaggle, but is built on top of ",e.createElement("a",{href:"http://jupyter.org/"},"Jupyter"),". For more details on their many contributions to data science, see their ",e.createElement("a",{href:"http://jupyter.org/documentation.html"},"documentation"),"."))))},n}(e.Component);t.NotebookInfoModal_Container=o.connect(a,i)(c)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(96),s=n(60),o=n(993),r=n(35),l=n(982),c=n(983),p=n(984),u=n(981),d=n(7),m=n(986),h=function(t){function n(e){var n=t.call(this,e)||this;return n.store=o.getStore(e),e.scriptRunId?n.store.dispatch(r.newScriptRun(e.scriptId,e.scriptRunId)):n.store.dispatch(r.requestWorker()),n}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;window.addEventListener("beforeunload",function(t){if(e.store.getState().kernelStatus!==s.KernelStatus.Running)return null;e.store.dispatch(r.saveFile());var n="Are you sure you want to leave? Unsaved changes may be lost.";return(t||window.event).returnValue=n,n}),setTimeout(function(){return window.dispatchEvent(new Event("resize"))},0)},n.prototype.render=function(){return e.createElement(i.Provider,{store:this.store},e.createElement("div",{className:"notebook-editor"},e.createElement(c.NotebookHeader_Container,null),e.createElement(p.NotebookInfoModal_Container,null),e.createElement("div",{className:"notebook-editor__notebook-contents"},e.createElement(u.NotebookDataSources_Container,null),e.createElement(d.ContentBox,{title:"Notebook"},e.createElement(l.NotebookEditorCellList_PoC_Container,null))),e.createElement(m.NotebookKeyboardShortcutterContainer,null)))},n}(e.Component);t.NotebookEditor_PoC=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(e){return{escKeyShouldCancelTitleEditing:e.titleState.isEditingTitle&&e.titleState.title}}function i(e){return{onChangedToEditMode:function(){return e(l.setKeyboardShortcutCommandMode(!1))},onChangedToCommandMode:function(){return e(l.setKeyboardShortcutCommandMode(!0))},onInsertCellAbove:function(){return e(l.addAbove())},onInsertCellBelow:function(){return e(l.addBelow())},onSave:function(){return e(l.saveFile())},onCancelExecution:function(){return e(l.cancelExecution())},onMakeCodeCell:function(){return e(l.changeCellType("code"))},onMakeMarkdownCell:function(){return e(l.changeCellType("markdown"))},onDeleteCell:function(){return e(l.deleteCell())},onCancelTitleEditing:function(){return e(l.cancelEditingTitle())}}}Object.defineProperty(t,"__esModule",{value:!0});var s,o=n(1),r=n(96),l=n(35),c=n(6);!function(e){e[e.Edit=0]="Edit",e[e.Command=1]="Command",e[e.SecondCommandKey=2]="SecondCommandKey"}(s||(s={}));var p=13,u=27,d=65,m=66,h=83,g=73,f=89,v=77,_=68,b=function(t){function n(e){var n=t.call(this,e)||this;return n.handleKeyDown=function(e){n.mode===s.Edit?n.handleEditModeKeyDown(e):n.mode===s.Command?n.handleCommandModeKeyDown(e):n.handleSecondCommandKey(e)},n.handleEditModeKeyDown=function(e){e.keyCode==u&&(e.preventDefault(),e.stopPropagation(),n.props.escKeyShouldCancelTitleEditing?n.props.onCancelTitleEditing():n.setMode(s.Command))},n.fireActionAndReturnToEditMode=function(e,t){void 0===t&&(t=null),e.preventDefault(),e.stopPropagation(),t&&t(),n.setMode(s.Edit)},n.waitForSecondCommandKey=function(e,t){e.preventDefault(),e.stopPropagation(),n.previousCommandKeyCode=t,n.setMode(s.SecondCommandKey,!1)},n.handleSecondCommandKey=function(e){if(e.keyCode===n.previousCommandKeyCode)switch(e.keyCode){case _:n.fireActionAndReturnToEditMode(e,n.props.onDeleteCell);break;default:n.fireActionAndReturnToEditMode(e)}else n.fireActionAndReturnToEditMode(e)},n.handleCommandModeKeyDown=function(e){switch(e.keyCode){case p:n.fireActionAndReturnToEditMode(e);break;case d:n.fireActionAndReturnToEditMode(e,n.props.onInsertCellAbove);break;case m:n.fireActionAndReturnToEditMode(e,n.props.onInsertCellBelow);break;case h:n.fireActionAndReturnToEditMode(e,n.props.onSave);break;case g:n.fireActionAndReturnToEditMode(e,n.props.onCancelExecution);break;case f:n.fireActionAndReturnToEditMode(e,n.props.onMakeCodeCell);break;case v:n.fireActionAndReturnToEditMode(e,n.props.onMakeMarkdownCell);break;case _:n.waitForSecondCommandKey(e,_)}},n.mode=s.Edit,n}return o.__extends(n,t),n.prototype.componentDidMount=function(){c.Current.log("Listening for keyboard shortcuts."),document.addEventListener("keydown",this.handleKeyDown,!0)},n.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown,!0)},n.prototype.setMode=function(e,t){void 0===t&&(t=!0),this.mode=e,e===s.Edit?t&&this.props.onChangedToEditMode():t&&this.props.onChangedToCommandMode()},n.prototype.render=function(){return e.createElement("div",{className:"notebook-editor__keyboard-shortcuts"})},n}(e.Component);t.NotebookKeyboardShortcutterContainer=r.connect(a,i)(b)}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(6);t.notebookLoggingMiddleware=function(e){return function(e){return function(t){return a.Current.log("Dispatching "+t.type),a.Current.log(t),e(t)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=n(60),s=n(35);t.notebookAutoSaveMiddleware=function(e){return function(t){var n=function(t){var n=null;return function(){n?a.Current.log("Waiting to autosave..."):(a.Current.log("Scheduling autosave"),n=window.setTimeout(function(){n=null;var t=e.getState();t.kernelStatus===i.KernelStatus.Running?(a.Current.log("Autosaving..."),e.dispatch(s.saveFile())):a.Current.log("Not autosaving (kernel status = "+i.KernelStatus[t.kernelStatus]+")")},t))}}(1e4),o=[s.NOTEBOOK_ADD_CELL_ABOVE,s.NOTEBOOK_ADD_CELL_BELOW,s.NOTEBOOK_CHANGE_CELL_TYPE,s.NOTEBOOK_DELETE_CELL,s.NOTEBOOK_EXECUTE_CELL,s.NOTEBOOK_UPDATE_CONTENTS];return function(a){return e.getState().kernelStatus===i.KernelStatus.Running&&o.indexOf(a.type)>-1&&(e.dispatch(s.notebookIsDirty()),n()),t(a)}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=n(24),s=n(60),o=n(35),r=n(164);t.notebookJupyterApiMiddleware=function(t){function n(i){var c={fileName:"__notebook_source__.ipynb",localWorkingDirectoryPath:"/kaggle/working"},p=t.getState(),u=p.connection.scriptRunId,d=new URL(i),g=d.search.split("kernelToken=")[1],v=d.protocol.slice(0,-1),_=(d.host+d.pathname).replace(/\/$/,""),b=c.fileName,E=c.localWorkingDirectoryPath,y={scriptId:p.connection.scriptId,scriptRunId:p.connection.scriptRunId,directJupyterUrl:i,kernelToken:g,restProtocol:v,urlBase:_,fileName:b,localWorkingDirectoryPath:E};t.dispatch(o.newConnection(y));var C={notebook:{name:b,path:E}},w=r.jupyterSessionsApiUrl(y);t.dispatch(o.setKernelStatus(s.KernelStatus.Starting)),a.Current.log("Trying "+w+" for id "+u),e(w,{method:"POST",body:JSON.stringify(C)}).then(function(e){return e.json()}).then(function(e){if(a.Current.log("Kernel start request completed for id "+u),a.Current.log(e),u!==f())return void a.Current.log("Start request was for an old script run; ignoring.");var n=e.id,i=e.kernel.id,s={sessionId:n,kernelId:i};t.dispatch(o.newJupyterSession(s)),t.dispatch(o.notebookKernelSessionStarted()),l()}).catch(function(e){if(a.Current.warn("Badness: "+e),u!==f())return void a.Current.log("Start request was for an old script run; ignoring.");m<5?(a.Current.log("Attempting to connect again shortly."),h=setTimeout(function(){return n(i)},2e3),m++):(a.Current.warn("Giving up on connecting to jupyter kernel."),t.dispatch(o.notebookConnectionFailed("Failed to connect to Jupyter server.")))})}function l(){var n=t.getState(),i=r.jupyterContentsApiUrl(n.connection);a.Current.log("Fetching notebook from "+i),e(i).then(function(e){if(!e.ok)throw t.dispatch(o.couldNotFetchNotebookFromWorker()),"Notebook not found on worker";return e}).then(function(e){return e.json()}).then(function(e){a.Current.log("Received notebook contents from kernel."),t.dispatch(o.replaceContents(e.content)),t.dispatch(o.updateKernelInfo())}).catch(function(e){a.Current.log(e)})}function c(n){var i=t.getState();n||(n=p(i.notebook));var s=r.jupyterContentsApiUrl(i.connection);return a.Current.log("Saving notebook at URL "+s),e(s,{method:"PUT",body:JSON.stringify({content:JSON.stringify(n),type:"file",format:"text"})})}function p(e){var t=JSON.parse(JSON.stringify(e));return t.cells.forEach(function(e){e.outputs=[]}),t}function u(){var n=t.getState(),s=r.jupyterKernelApiUrl("interrupt",n.connection,n.jupyter);e(s,{method:"POST"}).then(function(){a.Current.log("Send interrupt request")}).catch(function(e){a.Current.warn(e),i.PageMessages.error("Could not interrupt kernel.")})}function d(){var n=t.getState(),s=r.jupyterKernelApiUrl("restart",n.connection,n.jupyter);e(s,{method:"POST"}).then(function(){a.Current.log("Sending soft restart request")}).catch(function(e){a.Current.warn(e),i.PageMessages.error("Could not restart kernel.")})}var m,h,g=function(){m=0,clearInterval(h)},f=function(){return t.getState().connection.scriptRunId};return function(e){return function(a){switch(a.type){case o.NOTEBOOK_START_SESSION:return i.PageMessages.clear(),g(),n(a.url),e(a);case o.NOTEBOOK_SAVE_FILE:return c(a.newContent).then(function(){return t.dispatch(o.notebookIsSaved(new Date))}),e(a);case o.NOTEBOOK_CANCEL_EXECUTION:return u(),e(a);case o.NOTEBOOK_RESTART_KERNEL_FOR_USER:t.getState().kernelStatus===s.KernelStatus.Running&&d();default:return e(a)}}}}}).call(t,n(32))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=n(60),s=n(35);t.notebookKeepAliveMiddleware=function(t){return function(n){function o(e){clearTimeout(r),r=setTimeout(function(){t.dispatch(s.kernelHasStopped(e)),a.PageMessages.error("The kernel was stopped for exceeding the limits on idle time (20 minutes)",{clear:!0})},114e4)}var r=null,l=function(t){var n=null;return function(a,i){n||(e("/k/"+a+"/keepalive?kernelToken="+i),n=setTimeout(function(){n=null},t))}}(5e3);return function(e){var a=t.getState();return a.connection.scriptRunId&&a.kernelStatus===i.KernelStatus.Running&&e.type!=s.NOTEBOOK_SET_KERNEL_INFO&&(l(a.connection.scriptRunId,a.connection.kernelToken),o(a.connection.scriptRunId)),n(e)}}}}).call(t,n(32))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(24),i=n(35),s=n(164);t.notebookMetadataMiddleware=function(t){return function(n){function o(e,n){var a=0===e.length?"/static/images/no-datasource.png":1===e.length?e[0].imageUrl:"/static/images/multiple-datasource.png",s=1===e.length?e[0].sourceUrl:null;t.dispatch(i.updateDataSources(e,a,s)),t.dispatch(i.restartKernel(n))}function r(n,o){var r={ScriptVersionId:o,NewTitle:n,CheckOnly:!1};a.PageMessages.clear(),e("/kernels/byod/kerneltitle",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){if(e.ErrorMessage&&""!==e.ErrorMessage)return a.PageMessages.error(e.ErrorMessage),void t.dispatch(i.setTitleError(!0));t.dispatch(i.setTitleError(!1)),s.updateUrl(e.NewUrl)}).catch(function(e){alert("Sorry, I couldn't save your new title.")})}return function(e){var a=t.getState();switch(e.type){case i.NOTEBOOK_UPDATE_DATASOURCES_AND_RESTART:return o(e.dataSources,e.currentScriptRunId),n(e);case i.NOTEBOOK_STOP_EDITING_TITLE:return r(a.titleState.title,a.connection.scriptRunId),n(e)}return n(e)}}}}).call(t,n(32))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(29),s=n(6),o=n(60),r=n(35),l=function(e){function t(n){var a=e.call(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return a.__extends(t,e),t}(Error);t.notebookRedisSubscriptionMiddleware=function(t){function n(e){s.Current.log("Starting redis poll interval for id "+e+"."),f=v(e),m=!0,a(),_()}function a(){h=0,g=null}function c(){s.Current.log("Stopping redis poll interval."),m=!1,v(null),window.clearTimeout(g)}function p(){return e("/redis/sub",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(f)})}function u(e,n){if(s.Current.warn("Redis polling failure for id "+n+":"),s.Current.warn(e),m&&n===f.scriptRun.id){if(h>5)return void t.dispatch(r.notebookConnectionFailed("Could not connect to the server."));h++,g=window.setTimeout(_,2e3)}}function d(e){switch(e.Key){case"status":f.scriptRun.status=Math.max.apply(Math,e.Result.map(function(e){return e.Position})),b(e.Result.map(function(e){return e.Value}));break;case"jupyter:changes":f.scriptRun.jupyter.changes=Math.max.apply(Math,e.Result.map(function(e){return e.Position})),e.Result.forEach(function(e){return E(e.Value)});break;case"timeout":break;default:s.Current.warn("Invalid redis key: '"+e.Key+"'")}}var m,h,g,f={scriptRun:{id:null,jupyter:{changes:0},status:0}},v=function(e){return{scriptRun:{id:e,jupyter:{changes:0},status:0}}},_=function(){i(m,"Polling is not in progress so pollRedis should not have been called.");var e=f.scriptRun.id;s.Current.log("Polling redis for scriptRun id "+e+"..."),p().then(function(t){if(f.scriptRun.id!==e)throw new l("Redis result for id "+e+" ignored.");return t}).then(function(e){return e.json()}).then(function(e){return d(e)}).then(function(){m&&(a(),_())}).catch(function(t){t instanceof l?s.Current.log(t.message):u(t,e)})},b=function(e){var n=e.map(function(e){return JSON.parse(e)});if(n.some(function(e){return"done"===e.running})){t.getState().kernelStatus===o.KernelStatus.RenderingHtml?location.href+="/../":(t.dispatch(r.setKernelStatus(o.KernelStatus.Stopped)),t.dispatch(r.investigateEarlyStop(f.scriptRun.id)))}n.some(function(e){return"Running nbconvert"in e&&"re-executing notebook top to bottom"===e["Running nbconvert"]})&&(location.href+="/../")},E=function(e){var n=JSON.parse(e);if("kernel_info"===n._type){var a=n.kernelspec.kernel_url;s.Current.log("Received url: "+a),t.dispatch(r.startSession(a))}};return function(e){return function(t){switch(t.type){case r.NOTEBOOK_NEW_SCRIPT_RUN:return n(t.scriptRunId),e(t);case r.NOTEBOOK_KERNEL_HAS_STOPPED:return t.scriptRunId===f.scriptRun.id?c():s.Current.log("Not stopping redis poll (currently listening to "+f.scriptRun.id+"; stopped id was "+t.scriptRunId+")"),e(t);case r.NOTEBOOK_CONNECTION_FAILED:c();default:return e(t)}}}}}).call(t,n(32))},function(e,t,n){"use strict";function a(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||M.compose;return M.createStore(s,i(e),t(M.applyMiddleware(O.notebookLoggingMiddleware,V.notebookWebserverMiddleware,B.notebookJupyterApiMiddleware,j.notebookWebsocketMiddleware,U.notebookRedisSubscriptionMiddleware,A.notebookKeepAliveMiddleware,L.notebookAutoSaveMiddleware,F.notebookMetadataMiddleware,H.notebookScriptTipsMiddleware,R.notebookTelemetryMiddleware)))}function i(e){var t=e.scriptLanguageTemplates.filter(function(t){return t.languageId==e.scriptLanguageId})[0],n=JSON.parse(e.initialContents||"{}"),a=r(n,t),i={scriptId:e.scriptId,scriptRunId:e.scriptRunId,directJupyterUrl:null,kernelToken:null,restProtocol:"",urlBase:"",fileName:"",localWorkingDirectoryPath:""},s={title:e.existingTitle&&""!==e.existingTitle?e.existingTitle:"Notebook"+P.uuid(10),previousTitle:"",isEditingTitle:!1,titleIsValid:!!e.existingTitle,needsAGoodTitle:!e.existingTitle},o={kernelId:null,sessionId:null};return{activeCellIndex:0,notebook:a,kernelLanguageName:t.baseScriptLanguageName,isInCommandMode:!1,kernelLanguageId:e.scriptLanguageId,dataSources:e.dataSources&&1===e.dataSources.length&&null===e.dataSources[0]?null:e.dataSources,connection:i,jupyter:o,titleState:s,imageUrl:e.imageUrl,kernelStatus:x.KernelStatus.Initializing,isPrivate:e.isPrivate,isNewNotebook:e.isNewNotebook,inputFiles:e.inputFiles,isDataset:e.isDataset,forkParentScriptVersionId:e.forkParentScriptVersionId,scriptProjectId:e.scriptProjectId,isDirty:!1,lastSaveTime:null,scriptLanguageTemplates:e.scriptLanguageTemplates,updateInputMetadataUrl:e.updateInputMetadataUrl,isShowingKernelInfoModal:!1,scriptTips:{}}}function s(e,t){switch(t.type){case K.NOTEBOOK_UPDATE_KERNEL_STATUS:return k.__assign({},e,{kernelStatus:t.status});case K.NOTEBOOK_KERNEL_HAS_STOPPED:return k.__assign({},e,{kernelStatus:x.KernelStatus.Stopped});case K.NOTEBOOK_CONNECTION_FAILED:return I.Current.warn(t.description),D.PageMessages.error(t.description),k.__assign({},e,{kernelStatus:x.KernelStatus.Error});case K.NOTEBOOK_CHANGE_CELL_TYPE:return k.__assign({},e,{notebook:z(e.notebook,e.activeCellIndex,t.newCellType)});case K.NOTEBOOK_ACTIVATE_CELL:return t.cellIndex<0||t.cellIndex>e.notebook.cells.length?(I.Current.warn("Invalid cellIndex to activate: "+t.cellIndex),e):k.__assign({},e,{activeCellIndex:t.cellIndex});case K.NOTEBOOK_DELETE_CELL:return k.__assign({},e,{notebook:w(e.notebook,e.activeCellIndex)});case K.NOTEBOOK_ADD_CELL_ABOVE:return k.__assign({},e,{notebook:S(e.notebook,e.activeCellIndex)});case K.NOTEBOOK_ADD_CELL_BELOW:return k.__assign({},e,{notebook:N(e.notebook,e.activeCellIndex)});case K.NOTEBOOK_UPDATE_CONTENTS:var n=e.notebook.cells.map(function(e){return e.metadata._uuid}).indexOf(t.cellUuid);return-1===n?(I.Current.warn("Invalid cell uuid: "+t.cellUuid),e):k.__assign({},e,{notebook:J(e.notebook,n,t.content)});case K.NOTEBOOK_SET_EXECUTION_STATUS:return k.__assign({},e,{notebook:q(e.notebook,t.cellIndex,t.newStatus)});case K.NOTEBOOK_SET_ALL_CELLS_TO_IDLE:return k.__assign({},e,{notebook:b(e.notebook)});case K.NOTEBOOK_SET_EXECUTION_COUNT:return k.__assign({},e,{notebook:Q(e.notebook,t.cellIndex,t.executionCount)});case K.NOTEBOOK_CLEAR_CELL_OUTPUT:var a=JSON.parse(JSON.stringify(e.scriptTips));return delete a[t.cellIndex],k.__assign({},e,{notebook:W(e.notebook,t.cellIndex),scriptTips:a});case K.NOTEBOOK_APPEND_CELL_OUTPUT:return k.__assign({},e,{notebook:G(e.notebook,t.cellIndex,t.output)});case K.NOTEBOOK_NEW_SCRIPT_RUN:return k.__assign({},e,{kernelStatus:x.KernelStatus.Queued,connection:o(e.connection,function(e){e.directJupyterUrl=null,e.kernelToken=null,e.scriptId=t.scriptId,e.scriptRunId=t.scriptRunId})});case K.NOTEBOOK_NEW_CONNECTION:return k.__assign({},e,{connection:JSON.parse(JSON.stringify(t.connection))});case K.NOTEBOOK_NEW_JUPYTER_SESSION:return k.__assign({},e,{jupyter:JSON.parse(JSON.stringify(t.session))});case K.NOTEBOOK_UPDATE_DATASOURCES:return k.__assign({},e,{dataSources:t.dataSources,imageUrl:t.imageUrl,imageClickUrl:t.imageClickUrl});case K.NOTEBOOK_SET_TITLE_ERROR:return k.__assign({},e,{titleState:o(e.titleState,function(e){e.titleIsValid=!t.hasError})});case K.NOTEBOOK_START_EDITING_TITLE:return k.__assign({},e,{titleState:o(e.titleState,function(t){t.isEditingTitle=!0,t.previousTitle=e.titleState.title})});case K.NOTEBOOK_STOP_EDITING_TITLE:return k.__assign({},e,{titleState:o(e.titleState,function(e){e.isEditingTitle=!1,e.previousTitle=""})});case K.NOTEBOOK_CANCEL_EDITING_TITLE:return k.__assign({},e,{titleState:o(e.titleState,function(t){t.title=e.titleState.previousTitle,t.isEditingTitle=!1,t.previousTitle=""})});case K.NOTEBOOK_UPDATE_TITLE:return k.__assign({},e,{titleState:o(e.titleState,function(e){e.title=t.newTitle,e.needsAGoodTitle=!t.newTitle})});case K.NOTEBOOK_IS_DIRTY:return k.__assign({},e,{isDirty:!0});case K.NOTEBOOK_IS_SAVED:return k.__assign({},e,{isDirty:!1,lastSaveTime:t.saveDate});case K.NOTEBOOK_CHANGE_LANGUAGE:return k.__assign({},e,{kernelLanguageId:t.newLanguageId,kernelLanguageName:e.scriptLanguageTemplates.filter(function(e){return e.languageId===t.newLanguageId})[0].baseScriptLanguageName,notebook:p(e.notebook,e.kernelLanguageId,t.newLanguageId,e.scriptLanguageTemplates)});case K.NOTEBOOK_REPLACE_CONTENTS:var i=e.scriptLanguageTemplates.filter(function(t){return t.languageId===e.kernelLanguageId})[0];return k.__assign({},e,{notebook:r(t.newContent,i)});case K.NOTEBOOK_SET_KERNEL_INFO:return k.__assign({},e,{notebook:T(e.notebook,t.languageInfo)});case K.NOTEBOOK_SET_KEYBOARD_SHORTCUT_COMMAND_MODE:return k.__assign({},e,{isInCommandMode:t.isInCommandMode});case K.NOTEBOOK_COULD_NOT_FETCH_FROM_WORKER:return k.__assign({},e,{notebook:_(e.notebook)});case K.NOTEBOOK_ADD_MARKDOWN_AT_START:return k.__assign({},e,{notebook:y(e.notebook)});case K.NOTEBOOK_RESTART_KERNEL:case K.NOTEBOOK_RESTART_KERNEL_FOR_USER:return k.__assign({},e,{notebook:E(b(e.notebook))});case K.NOTEBOOK_TOGGLE_KERNEL_INFO:return k.__assign({},e,{isShowingKernelInfoModal:t.showInfo});case K.NOTEBOOK_ADD_SCRIPT_TIP:var s=JSON.parse(JSON.stringify(e.scriptTips));return s[t.cellIndex]=t.tip,k.__assign({},e,{scriptTips:s});default:return e}}function o(e,t){var n=JSON.parse(JSON.stringify(e));return t(n),n}function r(e,t){var n=l(e);if(n.metadata||(n.metadata={language_info:{name:"python",version:"3"}}),n.nbformat||(n.nbformat=4,n.nbformat_minor=0),n.cells&&n.cells.forEach(function(e){e.metadata._uuid=e.metadata._uuid||P.uuid(),e.outputs=e.outputs||[],e.execution_count=e.execution_count||null}),n.cells&&1===n.cells.length&&"code"===n.cells[0].cell_type&&""===n.cells[0].source)if(f(t.template)){var a=JSON.parse(t.template);n.cells=JSON.parse(JSON.stringify(a.cells))}else n.cells[0].source=t.template;return n.metadata.kernelspec=JSON.parse(t.notebookKernelMetadata),n}function l(e){return JSON.parse(JSON.stringify(e))}function c(e){return{metadata:{collapsed:!1,_uuid:P.uuid(),_execution_state:"idle"},source:"",execution_count:null,cell_type:e,outputs:[]}}function p(e,t,n,a){if(t===n)return e;var i=a.filter(function(e){return e.languageId===t})[0],s=a.filter(function(e){return e.languageId===n})[0];return d(u(e,s),i,s)}function u(e,t){if(JSON.stringify(e.metadata.kernelspec)===t.notebookKernelMetadata)return e;var n=l(e);return n.metadata.kernelspec=JSON.parse(t.notebookKernelMetadata),n}function d(e,t,n){return e.cells?-1===e.cells.findIndex(function(e){return"code"===e.cell_type})?(I.Current.log("Not changing template text; code cells not found"),e):m(e,t)?(I.Current.log("Notebook contents have deviated from old template."),e):(I.Current.log("Switching language templates"),g(e,t,n)):(I.Current.log("Not changing template text; no cells"),e)}function m(e,t){if(f(t.template)){var n=JSON.parse(t.template);return I.Current.log("Cell length is "+(e.cells.length!==n.cells.length?"different":"the same")),I.Current.log("Cell source deviations: "+e.cells.map(function(e,t){return!h(e,n.cells[t])})),e.cells.length!==n.cells.length||e.cells.some(function(e,t){return!h(e,n.cells[t])})}var a=e.cells.findIndex(function(e){return"code"===e.cell_type});return e.cells[a].source!==t.template}function h(e,t){return("string"==typeof e.source?e.source:e.source.join("\n"))===("string"==typeof t.source?t.source:t.source.join("\n"))}function g(e,t,n){var a;if(f(n.template)){var i=JSON.parse(n.template);a={cells:JSON.parse(JSON.stringify(i.cells)),metadata:JSON.parse(JSON.stringify(e.metadata)),nbformat:e.nbformat,nbformat_minor:e.nbformat_minor},a.cells.forEach(function(e){e.metadata._uuid=P.uuid()})}else if(a=l(e),f(t.template))a.cells=[c("code")],a.cells[0].source=n.template;else{var s=e.cells.findIndex(function(e){return"code"===e.cell_type});a.cells[s].source=n.template,a.cells[s].metadata._uuid=P.uuid()}return a}function f(e){try{var t=JSON.parse(e);return t.cells.length>0&&t.cells.every(function(e){return v(e)})&&void 0!==t.metadata}catch(e){return!1}}function v(e){return void 0!==e.source&&("markdown"===e.cell_type||"code"===e.cell_type&&void 0!==e.execution_count&&void 0!==e.outputs)}function _(e){if(e.cells)return e;I.Current.warn("No notebook found on worker. Making a blank cell.");var t=l(e);return t.cells=[c("code")],t}function b(e){if(!e.cells.some(function(e){return"code"===e.cell_type&&"busy"===e.metadata._execution_state}))return e;var t=l(e);return t.cells.forEach(function(e){"code"===e.cell_type&&(e.metadata._execution_state="idle")}),t}function E(e){var t=l(e);return t.cells.forEach(function(e){e.execution_count=null}),t}function y(e){var t=l(e);return t.cells=[c("markdown")].concat(e.cells),t}function C(e){return function(t,n){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];if(n<0||n>t.cells.length-1)return I.Current.warn("Invalid cell index: "+n),t;var s=l(t),o=s.cells[n];return e.apply(void 0,[o].concat(a)),s}}function w(e,t){if(1===e.cells.length)return e;if(t<0||t>e.cells.length-1)return I.Current.warn("Invalid cell index: "+t),e;var n=l(e),a=t>0?n.cells.slice(0,t):[],i=n.cells.slice(t+1);return n.cells=a.concat(i),n}function S(e,t){if(t<0||t>e.cells.length-1)return I.Current.warn("Invalid cell index: "+t),e;var n=l(e),a=n.cells.slice(0,t),i=n.cells.slice(t),s=c("code");return n.cells=a.concat(s).concat(i),n}function N(e,t){if(t<0||t>e.cells.length-1)return I.Current.warn("Invalid cell index: "+t),e;var n=l(e),a=n.cells.slice(0,t+1),i=n.cells.slice(t+1),s=c("code");return n.cells=a.concat(s).concat(i),n}function T(e,t){var n=l(e);return n.metadata.language_info=JSON.parse(JSON.stringify(t)),n}Object.defineProperty(t,"__esModule",{value:!0});var k=n(1),M=n(206),x=n(60),I=n(6),D=n(24),P=n(164),U=n(992),O=n(987),A=n(990),L=n(988),R=n(995),F=n(991),B=n(989),V=n(997),j=n(996),H=n(994),K=n(35);t.getStore=a;var z=C(function(e,t){e.cell_type=t}),q=C(function(e,t){e.metadata._execution_state=t,"busy"===t&&(e.execution_count=null)}),W=C(function(e){e.outputs=[]}),G=C(function(e,t){e.outputs.push(t)}),J=C(function(e,t){e.source=t}),Q=C(function(e,t){e.execution_count=t})},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=n(35),s=n(999),o=n(998);t.notebookScriptTipsMiddleware=function(t){return function(n){function r(e,n){var a=t.getState(),i=l(a.kernelLanguageName.toLowerCase()),s=i(n.ename,n.evalue);c(e,s),p(n.ename,n.evalue,a.connection.scriptRunId,s)}function l(e){switch(e){case"python":return o.getScriptTips;default:return s.getScriptTips}}function c(e,n){a.Current.isAdmin&&(n.textToShow||n.htmlToShow)&&t.dispatch(i.addScriptTip(e,n))}function p(t,n,i,s){if(t||n){var o=n?t+": "+n:t,r={errorEncountered:o,scriptTipsCode:s.scriptTipCode,scriptVersionId:i};e.Scripts.reportNotebookError({},r).catch(function(){a.Current.warn("Error logging failed.")})}}return function(e){return e.type===i.NOTEBOOK_APPEND_CELL_OUTPUT&&"error"===e.output.output_type&&r(e.cellIndex,e.output),n(e)}}}}).call(t,n(34))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(60),i=n(35),s=n(417);t.notebookTelemetryMiddleware=function(e){return function(t){var n=new s.NotebookTelemetry(!0);return n.statusChanged(e.getState().kernelStatus),function(s){var o=e.getState().connection.scriptRunId;switch(s.type){case i.NOTEBOOK_UPDATE_KERNEL_STATUS:n.statusChanged(s.status,o);break;case i.NOTEBOOK_NEW_SCRIPT_RUN:n.statusChanged(a.KernelStatus.Queued,o);break;case i.NOTEBOOK_CONNECTION_FAILED:n.statusChanged(a.KernelStatus.Error,o)}return n.trackAction(s.type),t(s)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(6),s=n(24),o=n(60),r=n(35),l=n(164);t.notebookWebsocketMiddleware=function(e){function t(){n(),c()}function n(){i.Current.log("Resetting WebSocket retry intervals."),M=0,x=4e3,I&&(i.Current.log("Cancelling WebSocket connection retries."),clearTimeout(I),I=0)}function c(){if(M>20)return void e.dispatch(r.notebookConnectionFailed("Could not connect to the Jupyter kernel."));p(),d(u()),m()}function p(){S&&(i.Current.log("Destroying existing WebSocket."),S.onclose=function(){},S.close()),(!N||N.length>0)&&(N=[]),(!k||k.length>0)&&(k=[])}function u(){var t=e.getState();return l.jupyterKernelApiUrl("channels",t.connection,t.jupyter)}function d(e){i.Current.log("Opening websocket at "+e),M&&i.Current.log("(Retry #"+M+")"),S=new WebSocket(e),S.onopen=P,S.onclose=U,S.onmessage=O}function m(){i.Current.log("Will retry WebSocket if needed in "+x/1e3+" seconds"),M++,I=window.setTimeout(D,x),x*=1.5}function h(t){return"kernel_info_reply"===t.msg_type?(i.Current.log("Received kernel_info_reply"),i.Current.log(t.content),void e.dispatch(r.setKernelInfo(t.content.language_info))):"complete_reply"===t.msg_type?void g(t):"status"===t.msg_type&&t.content&&"restarting"===t.content.execution_state?(s.PageMessages.info("The notebook session was restarted."),setTimeout(function(){s.PageMessages.clear()},3e3),void e.dispatch(r.setAllCellsToIdle())):void i.Current.warn("Unknown message type: "+t.msg_type)}function g(e){var t=k[e.parent_header.msg_id];if(!t)return void i.Current.warn("Received a complete_reply without a callback.");t(e.content.matches,e.content.cursor_start,e.content.cursor_end)}function f(t){var n=T[t.parent_header.msg_id],s=e.getState().notebook.cells.map(function(e){return e.metadata._uuid}).indexOf(n);switch(t.msg_type){case"status":e.dispatch(r.setExecutionStatus(s,t.content.execution_state));break;case"execute_reply":"error"===t.content.status&&e.dispatch(r.appendCellOutput(s,a.__assign({output_type:"error"},t.content))),"execution_count"in t.content?e.dispatch(r.setExecutionCount(s,t.content.execution_count)):"aborted"===t.content.status&&e.dispatch(r.setExecutionStatus(s,"idle"));break;case"execute_result":case"stream":case"display_data":e.dispatch(r.appendCellOutput(s,a.__assign({output_type:t.msg_type},t.content)));break;default:i.Current.log("Unrecognized Jupyter message type: '"+t.msg_type+"'")}}function v(e,t,n,a){return{header:{msg_id:a||l.uuid(),username:i.Current.userName,session:n,msg_type:e,version:"5.0"},metadata:{},content:t,buffers:[],parent_header:{},channel:"shell"}}function _(){if(i.Current.log("Checking execution queue..."),N&&0!==N.length)for(var e=0,t=N;e<t.length;e++){var n=t[e];i.Current.log("Sending queued execute_request:"),i.Current.log(n),S.send(JSON.stringify(n))}}function b(t,n){var a=e.getState();if([o.KernelStatus.Error,o.KernelStatus.RenderingHtml,o.KernelStatus.Stopped].indexOf(a.kernelStatus)>-1)return void i.Current.log("Not executing cell (kernelstatus = "+o.KernelStatus[a.kernelStatus]);var s=void 0===t?a.activeCellIndex:t;if(void 0===s||null===s)return void i.Current.warn("Not executing cell; no valid index available.");var r=n;if(!r){var l=a.notebook.cells[s].source;r="string"==typeof l?l:l.join("\n")}y(s,r)}function E(){e.getState().notebook.cells.forEach(function(e,t){"code"===e.cell_type&&b(t)})}function y(t,n){var a=e.getState(),s=a.notebook.cells[t].metadata._uuid,o=l.uuid();T[o]=s;var c=v("execute_request",{code:n,silent:!1},a.jupyter.sessionId,o);S&&1===S.readyState?(i.Current.log("Sending execute_request:"),i.Current.log(c),S.send(JSON.stringify(c))):(N||(N=[]),N.push(c),i.Current.log("Enqueued execute_request (queue length = "+N.length+", WebSocket readyState = "+(S?S.readyState:"null")+")"),i.Current.log(c)),e.dispatch(r.setExecutionStatus(t,"busy")),e.dispatch(r.clearCellOutput(t))}function C(){i.Current.log("Sending kernel_info_request.");var t=e.getState();S.send(JSON.stringify(v("kernel_info_request",{},t.jupyter.sessionId,l.uuid())))}function w(t,n,a){var i=l.uuid(),s=e.getState(),o=v("complete_request",{code:t,cursor_pos:n},s.jupyter.sessionId,i);k[i]=a,S.send(JSON.stringify(o))}var S=null,N=[],T=[],k=[],M=0,x=4e3,I=0,D=function(){if(S&&1===S.readyState)return i.Current.log("Websocket connected, will not attempt restarts."),e.dispatch(r.setKernelStatus(o.KernelStatus.Running)),void s.PageMessages.clear();e.dispatch(r.setKernelStatus(o.KernelStatus.Reconnecting)),c()},P=function(){i.Current.log("WebSocket opened."),n(),e.getState().kernelStatus!==o.KernelStatus.Running&&e.dispatch(r.setKernelStatus(o.KernelStatus.Running)),C(),_()},U=function(n){if(1e3===n.code)return void i.Current.log("WebSocket closed: CLOSE_NORMAL");i.Current.log("WebSocket closed with code "+n.code);var a=e.getState().kernelStatus;a===o.KernelStatus.Running||a===o.KernelStatus.Starting?I?i.Current.log("Expecting that a WebSocket retry has already been queued."):(i.Current.log("Will attempt to reconnect."),t()):i.Current.log("Not taking action on WebSocket closure.")},O=function(e){i.Current.log("Websocket message:");var t=JSON.parse(e.data);i.Current.log(t),T&&t.parent_header.msg_id in T?f(t):h(t)};return function(e){return function(a){switch(a.type){case r.NOTEBOOK_KERNEL_SESSION_STARTED:return s.PageMessages.clear(),t(),e(a);case r.NOTEBOOK_CONNECTION_FAILED:return n(),e(a);case r.NOTEBOOK_KERNEL_HAS_STOPPED:return n(),p(),e(a);case r.NOTEBOOK_UPDATE_KERNEL_INFO:return C(),e(a);case r.NOTEBOOK_EXECUTE_ALL:return E(),e(a);case r.NOTEBOOK_EXECUTE_CELL:return b(a.cellIndex,a.source),e(a);case r.NOTEBOOK_REQUEST_AUTOCOMPLETE:return w(a.cellContents,a.cursorPosition,a.callback),e(a);default:return e(a)}}}}},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),s=n(6),o=n(24),r=n(60),l=n(35),c=n(164);t.notebookWebserverMiddleware=function(t){function n(){o.PageMessages.clear(),g=0;var n=t.getState(),a=n.dataSources&&null!==n.dataSources[0]?n.dataSources:[],i={ScriptId:n.connection.scriptId,SourceScriptVersionId:null,LanguageId:n.kernelLanguageId,ScriptProjectId:n.scriptProjectId,Title:n.titleState.title,ForkParentScriptVersionId:n.forkParentScriptVersionId&&n.forkParentScriptVersionId>0?n.forkParentScriptVersionId:null,IpynbContents:JSON.stringify(n.notebook),DataSources:a,StandaloneKernel:!0};e("/kernels/byod/newkernel",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){if(e.ErrorMessage)return void t.dispatch(l.notebookConnectionFailed("Could not request new notebook."));s.Current.log("Received ScriptId: "+e.ScriptId+" and ScriptRun id: "+e.ScriptRunId),t.dispatch(l.newScriptRun(e.ScriptId,e.ScriptRunId)),c.updateUrl(e.NewUrl)}).catch(function(e){return t.dispatch(l.notebookConnectionFailed("Could not request new notebook."))})}function p(e){if(!e)return s.Current.warn("Not saving ipynb on webserver; scriptversion not active."),new Promise(function(e){e()});var n=t.getState(),i=n.notebook,o=e+"/ipynb.json";return s.Current.log("Saving notebook to web tier at URL "+o),a.Scripts.updateSourceIpynb(o,JSON.stringify(JSON.stringify(i)))}function u(e,n){g=e,t.dispatch(l.saveFile(n))}function d(e){m(e),n()}function m(n){t.dispatch(l.kernelHasStopped(n)),s.Current.log("Requesting to stop scriptversion id "+n+"..."),e("/kernels/cancel?scriptVersionId="+n,{method:"POST",credentials:"same-origin"}).then(function(e){s.Current.log("Scriptversion stopped"),s.Current.log(e)})}function h(e){var n=t.getState();i(n.connection.scriptRunId===e,"Early stop request was called on an old scriptRunId"),v=0,_(e)}var g=0,f=function(){t.dispatch(l.setKernelStatus(r.KernelStatus.RenderingHtml));var n={_type:"close_notebook",_guid:c.uuid(),nbconvert:"full"};return s.Current.log("Requesting HTML render..."),e("/redis/nbreq/"+g,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify([n])}).then(function(e){s.Current.log(e)})},v=0,_=function(e){v++,a.Scripts.basicKernelStatus({id:e}).then(function(t){return b(e,t)}).catch(function(){t.dispatch(l.notebookConnectionFailed("Could not connect to server."))})},b=function(e,n){if(t.getState().connection.scriptRunId!==e)return void s.Current.log("Ignoring status result for id "+e+".");if(s.Current.log("Received statmin status of "+n.status+" for id "+e),"running"===n.status)return void E(e);var a=n.results&&n.results.failureMessage?n.results.failureMessage:"";1===n.results.exitCode?t.dispatch(l.notebookConnectionFailed(a)):n.results.exitCode>0?(o.PageMessages.info(a),t.dispatch(l.kernelHasStopped(e))):(s.Current.log("Statmin dto:"),s.Current.log(n.results))},E=function(e){if(v>5)return s.Current.warn("Failed to get script run info for id "+e),void t.dispatch(l.notebookConnectionFailed("Sorry, an error occurred. You can save your work by downloading the ipynb file."));s.Current.log("Retrying statmin in 2 seconds."),window.setTimeout(function(){return _(e)},2e3)};return function(e){return function(a){switch(a.type){case l.NOTEBOOK_REQUEST_WORKER:return n(),e(a);case l.NOTEBOOK_RENDER_HTML:return u(a.scriptRunId,a.notebook),e(a);case l.NOTEBOOK_RESTART_KERNEL_FOR_USER:return t.getState().kernelStatus!==r.KernelStatus.Running&&d(a.currentScriptRunId),e(a);case l.NOTEBOOK_RESTART_KERNEL:return d(a.currentScriptRunId),e(a);case l.NOTEBOOK_CANCEL_SCRIPTRUN:return m(a.scriptRunId),e(a);case l.NOTEBOOK_IS_SAVED:return g&&p(g).then(f).catch(function(e){s.Current.warn(e),t.dispatch(l.notebookConnectionFailed("Could not request HTML render."))}),e(a);case l.NOTEBOOK_INVESTIGATE_EARLY_STOP:return h(a.scriptRunId),e(a);default:return e(a)}}}}}).call(t,n(32),n(34))},function(e,t,n){"use strict";function a(e,t){if(!e||!t)return{};if(/name '(FALSE|false|TRUE|true)' is not defined/.test(t))return{textToShow:"In Python, True and False have initial capitals and the rest lower case.",scriptTipCode:"py-truefalse"};if(/module 'pandas' has no attribute '[Dd]ata[Ff]rame'/.test(t))return{textToShow:"Did you mean Do you mean pandas.DataFrame?",scriptTipCode:"py-pddf"};if(/name 'xrange' is not defined/.test(t))return{textToShow:"In Python 3, 'xrange' is just 'range'.",scriptTipCode:"py-range"};if(/name 'plot' is not defined/.test(t))return{textToShow:"You might be missing a 'from matplotlib.pyplot import plot'.",scriptTipCode:"py-plot"};if(/invalid literal for int() with base 10: 'nan'/.test(t)||/Input contains NaN, infinity or a value too large/.test(t))return{textToShow:"You might need a way of handling missing values, such as pandas.DataFrame.fillna or sklearn.preprocessing.Imputer.",scriptTipCode:"py-nan"};var n=/^No module named '(x[gbos]+t)'\s*$/;if(n.test(t)){return{textToShow:"We don't have the \""+n.exec(t)[1]+'" module. Did you mean "xgboost"?',scriptTipCode:"py-xgb"}}return/^No module named 'BeautifulSoup'\s*$/.test(t)?{textToShow:"Did you mean 'from bs4 import BeautifulSoup'?",scriptTipCode:"py-bs4"}:{}}Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptTips=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptTips=function(){return{textToShow:"",htmlToShow:"",scriptTipCode:""}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1687);n(1113),n(1114),n(1111),n(1115),n(1112),n(1116),n(1110);var s=n(5),o=n(211),r=n(418),l=n(7),c=n(6),p=n(275);t.RMARKDOWN_OUTPUT_FILE_NAME="__results__.html";var u=function(n){function u(u){var d=n.call(this,u)||this;return d.noOutputLines=0,d.allTabs=[{title:"Code",text:"Code",actionCallback:function(){return d.props.onTabChange("code")}},{title:"Input",text:"Input",actionCallback:function(){return d.props.onTabChange("input")}},{title:"Output",text:"Output",actionCallback:function(){return d.props.onTabChange("output")}},{title:"Log",text:"Log",actionCallback:function(){return d.props.onTabChange("log")}},{title:"HTML",text:"HTML",actionCallback:function(){return d.props.onTabChange("html")}},{title:"Info",text:"Info",actionCallback:function(){return d.props.onTabChange("info")}}],d.fixHorizontalScrollbar=function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},d.tailLog=function(){d.props.outputLog&&d.props.outputLog.length!==d.noOutputLines&&d.logContainer&&(d.logContainer.scrollTop=d.logContainer.scrollHeight,d.noOutputLines=d.props.outputLog.length)},d.getLanguageMode=function(){return"rmarkdown"===d.props.script.scriptLanguageName?"markdown":d.props.script.scriptLanguageName},d.getLanguageOptions=function(){return d.props.scriptProject.availableLanguagesWithTemplates.filter(function(e){return-1===e.languageName.indexOf("Notebook")}).map(function(e){return{label:e.languageName,value:e.languageName.toLowerCase(),aceMode:e.aceLanguageName}})},d.getTabs=function(e){var t=d.allTabs;return e||(t=t.filter(function(e){return"Code"!==e.title})),d.props.outputFiles&&d.getHtmlOutputFile()||(t=t.filter(function(e){return"HTML"!==e.title})),t},d.getHtmlOutputFile=function(){return d.props.outputFiles.filter(function(e){return e.fileName===t.RMARKDOWN_OUTPUT_FILE_NAME})[0]},d.getActiveTab=function(e){return d.props.tab?d.props.tab:"desktop"===e?"input":"code"},d.getTabSelectOptions=function(){return d.getTabs(!0).map(function(e){return{label:e.title,value:e.title.toLowerCase()}})},d.getVisualizationFiles=function(){return d.props.outputFiles?d.props.outputFiles.filter(function(e){return[".png",".jpg",".gif",".svg"].indexOf(e.fileType)>-1}):null},d.getNonVisualizationFiles=function(){return d.props.outputFiles?d.props.outputFiles.filter(function(e){return-1==[".png",".jpg",".gif",".svg"].indexOf(e.fileType)}):null},d.passUpExpandedDataSourcesState=function(e){d.setState({initialExpandedDataSourcesState:{activeFile:e.activeFile,activeDataSource:e.activeDataSource,expandedDataSources:e.expandedDataSources,isShowingDataSourcePreview:e.isShowingDataSourcePreview}})},d.shouldShowOutputPreviewList=function(){return d.props.outputFiles&&d.getNonVisualizationFiles().length>0||!d.shouldShowVisualizationsBox()},d.shouldShowVisualizationsBox=function(){return d.props.outputFiles&&d.getVisualizationFiles().length>0},d.renderVisualizationsBox=function(){return e.createElement("div",null,(d.getVisualizationFiles()||[]).length>0?d.getVisualizationFiles().map(function(t){return e.createElement("img",{className:"script-editor__visualization",src:t.fileUrl})}):d.renderNoOutputMessage())},d.renderNoOutputMessage=function(){return e.createElement("div",{className:"script-editor__no-output"},e.createElement(l.ContentBox,null,"No output"))},d.renderTabbedContent=function(t){switch(d.getActiveTab(t)){case"code":return d.renderEditor(t);case"log":return e.createElement("div",{className:"script-editor__log",ref:function(e){return d.logContainer=e}},e.createElement(r.ScriptLogSection,{logLineData:d.props.outputLog,withContentBox:!1}));case"input":if(c.Current.hasMultipleDataSources&&d.props.dataSources&&0===d.props.dataSources.length)return e.createElement("div",{className:"script-editor__add-data-source-banner"},e.createElement(p.AddDataSourceBanner,{ref:function(e){return d.addDataSourceBanner=e},onDataSourceAdded:d.props.onDataSourceAdded}));if(d.props.inputFiles&&d.props.inputFiles.length>0||d.props.dataSources&&d.props.dataSources.length>0)return e.createElement(s.FilePreviewList,{files:d.props.inputFiles,dataSources:d.props.dataSources||null,initialExpandedDataSourcesState:d.state.initialExpandedDataSourcesState,userCanEditMetadata:!c.Current.isAnonymous&&d.props.onMetadataChange,onMetadataChange:d.props.onMetadataChange,onDataSourceAdded:d.props.onDataSourceAdded,onDataSourceRemoved:d.props.onDataSourceRemoved,passUpExpandedDataSourcesState:d.passUpExpandedDataSourcesState});case"output":return e.createElement("div",{className:"script-editor__output"},d.shouldShowVisualizationsBox()&&d.renderVisualizationsBox(),d.shouldShowOutputPreviewList()&&(d.getNonVisualizationFiles()||[]).length>0?e.createElement(s.FilePreviewList,{initialExpandedDataSourcesState:d.state.initialExpandedDataSourcesState,files:d.getNonVisualizationFiles(),scriptVersionId:d.props.scriptVersionId,showSubmitToCompButtons:"code"!==d.props.scriptProject.competitionType,submitToCompUrl:d.props.urls.submitToCompUrl,competitionName:d.props.scriptProject.displayName,passUpExpandedDataSourcesState:d.passUpExpandedDataSourcesState}):d.renderNoOutputMessage());case"html":var n=d.getHtmlOutputFile().filePreviewUrl;return n&&e.createElement("iframe",{className:"script-editor__html_iframe",src:n});case"info":return e.createElement(r.ScriptRunInfoSection,a.__assign({},d.props.runInfo,{withContentBox:!1}));default:return null}},d.renderEditor=function(t){return window.setTimeout(function(){return d.fixHorizontalScrollbar()}),e.createElement(i.default,{name:"script-editor",mode:d.getLanguageMode(),value:d.props.script.newText,onChange:d.props.onScriptChange,theme:"monokai",enableBasicAutocompletion:!0,editorProps:{$blockScrolling:1/0},className:"script-editor__ace-editor",showPrintMargin:!1,setOptions:{maxLines:1/0,fontSize:"14px"},height:"auto",width:"auto",tabSize:4})},d.renderTitle=function(){return e.createElement("div",{className:"script-editor__title-area"},e.createElement("input",{className:"script-editor__title-input script-editor__title-input--"+(d.props.isEditingTitle?"focused":"unfocused"),placeholder:"Title",value:d.props.script.newTitle,onChange:d.props.onTitleChange,onFocus:d.props.onTitleFocus,onBlur:d.props.onTitleBlur,autoFocus:!d.props.script.newTitle}))},d.renderTabs=function(t,n){return e.createElement("div",{className:"script-editor__tabs"},e.createElement(s.PageHeaderNav,{classNameModifier:"script-editor",menuLinks:d.getTabs(n),activeTab:d.getActiveTab(t)}))},d.renderRunButton=function(t){return e.createElement("div",{className:"script-editor__call-to-action-area"},"running"!==d.props.status?e.createElement("div",{onClick:d.props.onRunStart,title:"Run Script",className:"pageheader__calltoaction pageheader__calltoaction"},"Run"):e.createElement("div",{onClick:d.props.onRunCancel,title:"Cancel Run",className:"pageheader__calltoaction pageheader__calltoaction--muted pageheader__calltoaction"},"Cancel"))},d.renderConvertButton=function(e,t){return null},d.renderLanguageSelectBox=function(t){return e.createElement("div",{className:"script-editor__language-area"},e.createElement(s.SelectBox,{className:"script-editor__language-select-box "+("phone"===t&&"KaggleBoxlessSelect"),options:d.getLanguageOptions(),onChange:d.props.onLanguageChange,value:d.props.script.scriptLanguageName,searchable:!1}))},d.renderScriptProjectThumbnail=function(){var t=d.props.dataSources,n=null,a=null,i=null;switch(t.length){case 0:i="/static/images/no-datasource.png";break;case 1:i=t[0].imageUrl,n=t[0].sourceUrl,a=t[0].title;break;default:i="/static/images/multiple-datasource.png"}return e.createElement("div",{className:"script-editor__project-thumbnail"},e.createElement("a",{href:n,title:a,target:"_blank"},e.createElement("img",{src:i})))},d.renderPrivacyToggle=function(){return e.createElement(o.PrivacyToggle,{kernelType:"Script",displayMode:"SelectBox",isPrivate:d.props.script.isPrivate,scriptId:d.props.script.scriptId,onChangeToPublic:d.props.onChangeToPublic})},d.renderSubmitButton=function(){return"code"===d.props.scriptProject.competitionType&&"python"===d.props.script.scriptLanguageName&&e.createElement("div",{onClick:d.props.onSubmitCode,title:"Submit",className:"pageheader__calltoaction pageheader__calltoaction--secondary"},"Submit")},d.renderDesktopEditor=function(){return e.createElement("div",{className:"script-editor"},e.createElement("div",{className:"script-editor__left-pane"},e.createElement("div",{className:"script-editor__left-pane-header script-editor__full-pane-header"},d.renderScriptProjectThumbnail(),d.renderTitle(),e.createElement("div",{className:"script-editor__upload-button"},e.createElement("label",{htmlFor:"script-file-upload"},e.createElement("i",{className:"fa fa-cloud-upload",title:"Upload script"})),e.createElement("input",{type:"file",id:"script-file-upload",style:{display:"none"},onChange:d.props.onUploadScriptClick})),e.createElement("div",{className:"script-editor__download-button"},e.createElement("i",{className:"fa fa-cloud-download",title:"Download script",onClick:d.props.onDownloadScriptClick})),d.renderLanguageSelectBox("desktop"),d.renderPrivacyToggle(),d.renderConvertButton(!1,"script-editor__convert-to-notebook"),d.renderRunButton("desktop"),d.renderSubmitButton()),e.createElement("div",{className:"script-editor__left-pane-container"},e.createElement("div",{className:"script-editor__page-messages"},e.createElement(s.PageHeaderBottomRow,null)),d.renderEditor("desktop"))),e.createElement("div",{className:"script-editor__right-pane script-editor__right-pane--"+d.props.tab},e.createElement("div",{className:"script-editor__right-pane-header"},d.renderTabs("desktop",!1),e.createElement("div",{className:"script-editor__version-number"},"Version ",d.props.versionNumber),d.props.script.isPrivate?null:e.createElement("div",{className:"script-editor__license-info"},"This script ",d.props.script.scriptId>0?"has been":"will be"," released under the ",e.createElement("a",{target:"_blank",href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0")," open source license.")),e.createElement("div",{className:"script-editor__right-pane-content script-editor__right-pane-content--"+d.props.tab},d.renderTabbedContent("desktop"))))},d.renderTabletEditor=function(){return e.createElement("div",{className:"script-editor"},e.createElement("div",{className:"script-editor__full-pane"},e.createElement("div",{className:"script-editor__full-pane-header script-editor__full-pane-header"},d.renderScriptProjectThumbnail(),d.renderTitle(),d.renderTabs("tablet",!0),d.renderLanguageSelectBox("tablet"),d.renderPrivacyToggle(),d.renderConvertButton(!0,"script-editor__convert-to-notebook"),d.renderRunButton("tablet"),d.renderSubmitButton()),e.createElement("div",{className:"script-editor__full-pane-container script-editor__full-pane-container--"+d.props.tab},e.createElement("div",{className:"script-editor__page-messages"},e.createElement(s.PageHeaderBottomRow,null)),d.renderTabbedContent("tablet"))))},d.renderPhoneEditor=function(){return e.createElement("div",{className:"script-editor"},e.createElement("div",{className:"script-editor__full-pane"},e.createElement("div",{className:"script-editor__full-pane-header script-editor__full-pane-header"},d.renderTitle(),e.createElement(s.SelectBox,{options:d.getTabSelectOptions(),onChange:function(e){return d.props.onTabChange(e)},value:d.getActiveTab("phone"),className:"script-editor__tab-select-box KaggleBoxlessSelect",searchable:!1}),d.renderLanguageSelectBox("phone"),d.renderConvertButton(!0,"script-editor--options"),d.renderRunButton("phone"),d.renderSubmitButton()),e.createElement("div",{className:"script-editor__full-pane-container"},e.createElement("div",{className:"script-editor__page-messages"},e.createElement(s.PageHeaderBottomRow,null)),d.renderTabbedContent("phone"))))},d.state={initialExpandedDataSourcesState:!1},d}return a.__extends(u,n),u.prototype.componentDidMount=function(){this.fixHorizontalScrollbar(),this.checkAddDataSourceModal()},u.prototype.componentDidUpdate=function(){this.tailLog()},u.prototype.checkAddDataSourceModal=function(){return a.__awaiter(this,void 0,void 0,function(){var e;return a.__generator(this,function(t){switch(t.label){case 0:return e=this.props.dataSources&&this.props.dataSources.length>0&&this.props.dataSources[0],e||0!==this.props.scriptVersionId?[3,2]:[4,this.props.onTabChange("input")];case 1:t.sent(),this.addDataSourceBanner.showModal(),t.label=2;case 2:return[2]}})})},u.prototype.render=function(){return e.createElement("div",null,e.createElement(s.MediaQuery,{minWidth:1381},this.renderDesktopEditor()),e.createElement(s.MediaQuery,{minWidth:831,maxWidth:1380},this.renderTabletEditor()),e.createElement(s.MediaQuery,{minWidth:0,maxWidth:830},this.renderPhoneEditor()))},u}(e.Component);t.ScriptEditor=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(45),o=n(1e3),r=n(5),l=function(t){function n(e){var n=t.call(this,e)||this;return n.queuedTimer=new r.Timer,n.runningTimer=new r.Timer,n.initState=function(){var e=n.props.scriptProject.allowPrivateKernels&&(n.props.script.id||n.props.script.scriptId)<=0;n.state={script:{projectId:n.props.scriptProject.projectId,forkParentScriptVersionId:n.props.script.forkParentScriptVersionId,newText:n.props.scriptVersion.text,newTitle:n.props.scriptVersion.title,scriptId:n.props.script.id,scriptLanguageName:n.props.scriptVersion.languageName.toLowerCase(),isLanguageTemplate:n.props.script.isLanguageTemplate,isPrivate:n.props.script.isPrivate||e,dataSources:n.props.dataSources||[]},scriptUrl:n.props.urls.script,isUnsavedPrivateKernel:e,tab:null,scriptVersionId:n.props.scriptVersion.id,status:null,outputLog:[],outputFiles:null,runInfo:{},isEditingTitle:!1,versionNumber:n.props.scriptVersion.thisScriptVersionNumber,orphanedDataSources:[],onLanguageChange:n.onLanguageChange.bind(n),onDataSourceAdded:n.onDataSourceAdded.bind(n),onDataSourceRemoved:n.onDataSourceRemoved.bind(n),onRunStart:s.debounce(n.onRunStart.bind(n),500),onRunEnd:n.onRunEnd.bind(n),onRunCancel:n.onRunCancel.bind(n),onScriptChange:n.onScriptChange.bind(n),onTabChange:n.onTabChange.bind(n),onTitleFocus:n.onTitleFocus.bind(n),onTitleBlur:n.onTitleBlur.bind(n),onTitleChange:n.onTitleChange.bind(n),onToggleOutputPreview:n.onToggleOutputPreview.bind(n),onUploadScriptClick:n.onUploadScriptClick.bind(n),onDownloadScriptClick:n.onDownloadScriptClick.bind(n),onSubmitCode:n.onSubmitCode.bind(n),onChangeToPublic:n.onChangeToPublic.bind(n),onMetadataChange:n.props.urls.submitToCompUrl||n.props.urls.scriptProject&&-1!==n.props.urls.scriptProject.indexOf("/c/")?null:n.updateInputFileMetadata}},n.initTimerCallbacks=function(){n.queuedTimer.setDisplayCallback(function(e){r.PageMessages.info("Queued - Queue Time: "+e,{clear:!0,faIcon:"fa-cog fa-spin"})}),n.runningTimer.setDisplayCallback(function(e){r.PageMessages.info("Running - Run Time: "+e,{clear:!0,faIcon:"fa-refresh fa-spin"})})},n.setScriptState=function(e){var t=i.__assign({},n.state.script,e);n.setState({script:t})},n.onError=function(){n.runningTimer.setToZero(),n.queuedTimer.setToZero(),r.PageMessages.error("An error has occurred. Please try rerunning the script.",{clear:!0})},n.updateInputFileMetadata=function(e,t,i){if(!n.props.urls.submitToCompUrl&&-1===n.props.urls.scriptProject.indexOf("/c/")){var s={fileName:e,columns:[{fileName:e,columnIndex:t,description:i.description,dataType:i.harmonizedDataType}]},o=n.props.urls.scriptProject+"/datadictionary.json";a.ajax({context:n,url:o,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(s),success:function(e){e&&r.PageMessages.error("Your description could not be saved: "+e,{clear:!0})},error:function(){r.PageMessages.error("Sorry, there was a problem saving your update.",{clear:!0})}})}},n.initState(),n.initTimerCallbacks(),n}return i.__extends(n,t),n.prototype.fetchStatus=function(){var e=this;return a.get(this.props.urls.versionStatus+"?id="+this.state.scriptVersionId+"&existingStatus="+this.state.status).done(function(t){var n=t.status;switch(n){case"complete":case"error":e.onRunEnd(t);break;case"running":e.queuedTimer.stopTimer(),e.runningTimer.isRunning()||e.runningTimer.startTimer()}var a={status:n};t.thisScriptVersionNumber&&(a.versionNumber=t.thisScriptVersionNumber),e.setState(a)}).fail(this.onError)},n.prototype.fetchOutput=function(){var e=this,t={scriptRun:{id:this.state.scriptVersionId,status:this.subs.status,streams:{stdout:this.subs.stdout,stderr:this.subs.stderr}}};return a.ajax({url:"/redis/sub",type:"POST",data:JSON.stringify(t),processData:!1,contentType:"application/json",dataType:"json"}).done(function(t){function n(e){var n=this;this.subs[e]=a;var i=this.state.outputLog.concat(t.Result.map(function(t,a){return{stream_name:e,data:t.Value,time:t.Position.toFixed(1),lineNo:n.state.outputLog.length+a+1}}));this.setState({outputLog:i})}var a=s.chain(t.Result).pluck("Position").max().value();switch(t.Key){case"streams:stdout":n.bind(e)("stdout");break;case"streams:stderr":n.bind(e)("stderr");break;case"status":e.subs.status=a}}).fail(this.onError)},n.prototype.startPolling=function(){this.poll(this.fetchStatus.bind(this)),this.poll(this.fetchOutput.bind(this))},n.prototype.poll=function(e){return i.__awaiter(this,void 0,void 0,function(){var t=this;return i.__generator(this,function(n){switch(n.label){case 0:return this.shouldPoll?[4,e()]:[2];case 1:return n.sent(),window.setTimeout(function(){return t.poll(e)},500),[2]}})})},n.prototype.mapOutputFiles=function(e){var t=e.slice();return t.forEach(function(e){e.fileName===o.RMARKDOWN_OUTPUT_FILE_NAME&&(e.filePreviewUrl=e.fileUrl)}),t},n.prototype.componentDidMount=function(){document.addEventListener("keydown",this.onKeyDown.bind(this),!1)},n.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.onKeyDown.bind(this),!1)},n.prototype.downloadFile=function(e,t){var n=window.document.createElement("a");n.href=window.URL.createObjectURL(new Blob([e],{type:"text/plain"})),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},n.prototype.onDataSourceAdded=function(e){var t=this;return this.state.script.dataSources.push(e),this.props.scriptVersion.id?r.addDataSource(e,this.props.scriptVersion.id).then(function(e){return e&&t.setState({dataSources:e})}):this.fetchDataSources()},n.prototype.onChangeToPublic=function(){this.setScriptState({isPrivate:!1})},n.prototype.onDataSourceRemoved=function(e){var t=this;return this.state.script.dataSources=s.filter(this.state.script.dataSources,function(t){return t.sourceId!==e.sourceId}),this.props.scriptVersion.id?r.removeDataSource(e,this.props.scriptVersion.id).then(function(e){return t.setState({dataSources:e})}):this.fetchDataSources()},n.prototype.fetchDataSources=function(){var e=this;return r.getDataSources(this.state.script.dataSources).then(function(t){return e.setState({dataSources:t,script:e.state.script})})},n.prototype.onKeyDown=function(e){e.shiftKey&&13==e.keyCode&&(this.onRunStart(),e.preventDefault())},n.prototype.onUploadScriptClick=function(e){var t=this,n=e.target.files[0],a=new FileReader;a.onload=function(e){t.setScriptState({newText:a.result})},a.readAsText(n)},n.prototype.onDownloadScriptClick=function(){var e=this,t=this.props.scriptProject.availableLanguagesWithTemplates.filter(function(t){return t.languageName.toLowerCase()===e.state.script.scriptLanguageName})[0].defaultFileName;this.downloadFile(this.state.script.newText,t)},n.prototype.onTitleFocus=function(){this.setState({isEditingTitle:!0})},n.prototype.onTitleBlur=function(e){this.state.script.newTitle?(r.PageMessages.clear(),this.setState({isEditingTitle:!1})):r.PageMessages.error("Script title cannot be empty",{clear:!0})},n.prototype.onTitleChange=function(e){this.setScriptState({newTitle:e.target.value})},n.prototype.onLanguageChange=function(e){var t=this,n=this.props.scriptProject.availableLanguagesWithTemplates,a=n.some(function(e){return e.template===t.state.script.newText}),i=a?n.filter(function(t){return t.languageName.toLowerCase()===e})[0].template:this.state.script.newText;this.setScriptState({scriptLanguageName:e,newText:i})},n.prototype.onScriptChange=function(e){this.setScriptState({newText:e})},n.prototype.onTabChange=function(e){var t=this;return new Promise(function(n,a){t.setState({tab:e},n)})},n.prototype.onToggleOutputPreview=function(e){e.expanded=!e.expanded,this.setState({outputFiles:this.state.outputFiles})},n.prototype.onRunStart=function(){var e=this;return this.runningTimer.setToZero(),this.queuedTimer.setToZero(),this.queuedTimer.startTimer(),a.ajax({type:"POST",url:this.props.urls.saveVersion,contentType:"application/json",dataType:"json",data:JSON.stringify(this.state.script)}).then(function(t){var n=t.versionId,a=t.status,i=t.scriptId;"error"===a?(e.queuedTimer.stopTimer(),r.PageMessages.error(t.message,{clear:!0})):(t.newUrl&&history.replaceState({},null,t.newUrl+"/edit"),e.subs={stdout:-1,stderr:-1,status:0},e.shouldPoll=!0,e.setScriptState({scriptId:i}),e.setState({outputLog:[],tab:"log",runInfo:{},outputFiles:[],isUnsavedPrivateKernel:!1,scriptUrl:t.newUrl||e.state.scriptUrl,scriptVersionId:n,status:a},function(){return e.startPolling()}),window.Intercom("trackEvent","run_script",{script_id:i}),e.props.isDataset?window.Intercom("trackEvent","run_dataset_script",{script_id:i}):window.Intercom("trackEvent","run_comp_script",{script_id:i}))})},n.prototype.onRunError=function(){r.PageMessages.error({htmlMessage:'<span class="script-editor__page-message">Run Failed - Run Time: '+this.runningTimer.getElapsedTimeString()+'<a href="'+this.state.scriptUrl+'">View Completed Script (Exit Editor) <i class="fa fa-angle-double-right" /></a></span>'},{clear:!0})},n.prototype.onRunComplete=function(e){"rmarkdown"===this.state.script.scriptLanguageName?this.setState({tab:"html"}):e.length>0&&this.setState({tab:"output"}),r.PageMessages.success({htmlMessage:'<span class="script-editor__page-message">Run Successful - Run Time: '+this.runningTimer.getElapsedTimeString()+' <a href="'+this.state.scriptUrl+'">View Completed Script (Exit Editor) <i class="fa fa-angle-double-right" /></a></span>'},{clear:!0})},n.prototype.onRunEnd=function(e){var t=this;this.queuedTimer.stopTimer(),this.runningTimer.stopTimer(),this.shouldPoll=!1;var n=e.consoleOutput?JSON.parse(e.consoleOutput):[],a=this.mapOutputFiles(e.outputFiles);this.setState({runInfo:e.runInfo,outputLog:n,outputFiles:a},function(){switch(e.status){case"complete":t.onRunComplete(a);break;case"error":t.onRunError()}})},n.prototype.onRunCancel=function(){var e=this;this.queuedTimer.stopTimer(),this.runningTimer.stopTimer(),r.PageMessages.clear(),a.ajax({url:this.props.urls.cancel,type:"POST",data:{scriptVersionId:this.state.scriptVersionId}}).then(function(){e.shouldPoll=!1,e.setState({status:"cancelled"})})},n.prototype.onSubmitCode=function(){var e=this,t=a.extend({isCodeSubmission:!0},this.state.script);a.post(this.props.urls.saveVersion,t,null,"json").then(function(e){e.message?r.PageMessages.error(e.message,{clear:!0}):window.location.href=e.submitRedirectUrl}).fail(function(t){var n=a.parseJSON(t.responseText);n&&n.details?r.PageMessages.error(n.details,{clear:!0}):e.onError()})},n.prototype.render=function(){var t=i.__assign({},this.props,this.state);return e.createElement(o.ScriptEditor,t)},n}(e.Component);t.ScriptEditorContainer=l}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(94),s=n(101),o=n(19),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderListItem=function(t,n){return e.createElement("a",{key:n,className:"script-list-item",href:t.url},e.createElement("div",{className:"script-list-item__info"},e.createElement("span",{className:"script-list-item__title"},t.name),e.createElement("div",{className:"script-list-item__posted"},e.createElement("span",null,"run ",e.createElement(o.TimeAgo,{time:t.lastRunDate})))),e.createElement("div",{className:"script-list-item__votes"},e.createElement("span",{className:"script-list-item__votes-number"},t.totalVotes),e.createElement("span",{className:"script-list-item__votes-sub-text"},i("vote",t.totalVotes))))},n.prototype.render=function(){return e.createElement(s.TeaserList,{minItemHeight:this.props.minItemHeight,listItems:this.props.items,listItemRenderer:this.renderListItem,emptyListMessage:"There are no kernels yet.",emptyListCreateNewAction:this.props.emptyListAction,emptyListCreateNewText:"Create one"})},n}(e.Component);t.ScriptListTeaser=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(62),s=n(168),o=n(50),r=n(115),l=n(211),c=n(8),p=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getParentClickHandler=function(t){var n=function(){return e.props.onActiveTabChange(t.substring(6)),!1};return t.startsWith("tab://")&&n},e}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,p=n.forkDiffLinesChanged,u=n.forkDiffLinesDeleted,d=n.forkDiffLinesInserted,m=n.forkDiffUrl,h=n.forkParentAuthorDisplayName,g=n.forkParentAuthorUrl,f=n.forkParentTitle,v=n.forkParentUrl,_={forkDiffLinesChanged:p,forkDiffLinesDeleted:u,forkDiffLinesInserted:d,forkDiffUrl:m,forkParentAuthorDisplayName:h,forkParentAuthorUrl:g,forkParentTitle:f,forkParentUrl:v},b=e.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopLargeMin},e.createElement("div",{className:"pageheader__thumbnail-script-overlay"},e.createElement("div",{className:"pageheader__overlay-text"},this.props.parentName))),E=e.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopLargeMin},e.createElement("div",{className:"pageheader__author-script-overlay"},e.createElement("div",{className:"pageheader__overlay-text"},this.props.userName))),y=null,C=!1;return this.props.forkParentUrl&&""!==this.props.forkParentUrl&&(y=e.createElement(o.PageHeaderForkInfo,a.__assign({},_)),C=!0),e.createElement("div",{className:"kernel-header"},e.createElement(o.PageHeader,{backgroundClass:"kernel-header__container"},e.createElement(o.PageHeaderTopRowSafe,null,e.createElement("div",{className:"kernel-header__top"},e.createElement("a",{className:"kernel-header__username "+(C&&"kernel-header__username--forked"),href:this.props.userUrl},this.props.userName),e.createElement("a",{className:"kernel-header__title",href:this.props.titleUrl},this.props.title),e.createElement("div",{className:"kernel-header__fork-info"},y),e.createElement("div",{className:"kernel-header__thumbnails"},e.createElement(o.PageHeaderThumbnail,{classNameElement:"author",classNameModifier:"script",thumbnailOverlay:E,targetUrl:this.props.userUrl,imageUrl:this.props.userAvatarImageUrl}),e.createElement(o.PageHeaderThumbnail,{classNameElement:"thumbnail",classNameModifier:"script",thumbnailOverlay:b,targetUrl:this.props.parentUrl,imageUrl:this.props.thumbnailImageUrl})),e.createElement("div",{className:"kernel-header__upvote"},e.createElement(r.VoteButton,a.__assign({},this.props.voteButton))),e.createElement("div",{className:c("kernel-header__info",{"kernel-header__info--forked":C})},e.createElement(o.PageHeaderUserNameAndRunTime,{runTimeVerb:"run",userName:this.props.userName,userUrl:this.props.userUrl,dateUpdated:this.props.dateUpdated,showDateUpdated:!0,showUserName:!1}),e.createElement("span",null," · ",this.props.scriptLanguage,this.props.isPrivate?null:e.createElement("span",null," · ",this.props.totalViews," views")),this.props.datasetHidden||!this.props.parentUrl?e.createElement("span",null,e.createElement("br",null)," using data from ",this.props.parentName):e.createElement("span",null,e.createElement("br",null)," using data from ",e.createElement("a",{href:this.props.parentUrl,onClick:this.getParentClickHandler(this.props.parentUrl)},this.props.parentName))," · ",e.createElement("span",null,e.createElement(l.PrivacyToggle,{kernelType:"Script",displayMode:"Link",scriptId:this.props.scriptId,isPrivate:this.props.isPrivate,disabled:!this.props.userCanEditScript}))))),e.createElement(o.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},e.createElement(s.OverflowX,null,e.createElement(o.PageHeaderNav,{classNameModifier:"script",menuLinks:this.props.menuLinks,rightMenuLinks:this.props.rightMenuLinks,activeTab:this.props.activeTab,changeActiveTab:function(e){return t.props.onActiveTabChange(e)}}),this.props.callToAction?e.createElement(i.MediaQuery,{minWidth:i.Breakpoints.tabletMin},e.createElement("a",{href:this.props.callToAction.href,title:this.props.callToAction.title,className:"pageheader__calltoaction",onClick:function(e){return t.props.callToAction.actionCallback?t.props.callToAction.actionCallback(e):""}},this.props.callToAction.text)):""))))},n}(e.Component);t.KernelHeader=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(7),o=n(5),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this,n=null;return this.props.allowToggle&&(n=e.createElement("div",{className:"script-code-pane__show-more-toggle-container"},e.createElement("div",{className:"script-code-pane__show-more-toggle"},e.createElement("a",{href:"",onClick:function(e){return t.props.handleToggleMinimizedClick(e)}},"show",this.props.isMinimized?" more":" less")))),e.createElement("div",{className:"script-code-pane"},e.createElement("div",{className:"script-code-pane__contents"+(this.props.isMinimized?" script-code-pane__contents--minimized":"")},e.createElement("pre",{className:"line-numbers"},e.createElement("code",{className:this.props.prismLanguageClassName},this.props.codeContents))),n)},n}(e.Component);t.ScriptCodePane=r;var l=function(t){function n(e){var n=t.call(this,e)||this;n.showMoreOrLess=function(e){e.preventDefault(),n.state.isMinimized&&n.props.onPaneExpanded(),n.setState({isMinimized:!n.state.isMinimized})};var a=n.parseUrlHash(),i=n.props.codeContents.split("\n").length;return n.shouldShowToggle=n.props.allowToggle&&i>10,n.state={downloadUrl:"",highlightStart:a[0],highlightEnd:a[1],isMinimized:n.shouldShowToggle&&null===a[0]&&n.props.startMinimized},n}return i.__extends(n,t),n.prototype.shouldComponentUpdate=function(e,t){return t.downloadUrl!==this.state.downloadUrl||t.isMinimized!==this.state.isMinimized},n.prototype.componentDidMount=function(){var e=this;window.setTimeout(this.renderPrism()),a.ajax({context:this,url:"/kernels/sourceurl/"+this.props.scriptVersionId,success:function(t){e.setState({downloadUrl:t})}})},n.prototype.scrollToLineNumber=function(e){var t=Math.max(0,e-4),n=a('*[data-linenumber="'+t+'"]');n.length&&a("html, body").animate({scrollTop:n.offset().top},250)},n.prototype.renderPrism=function(){var e=this;Prism.highlightAll(!0,function(){a(".line-number-inner-span").click(function(t){if(t.target){var n=t.target.getAttribute("data-linenumber");e.handleLineNumberClick(n,t.shiftKey)}t.preventDefault()}),e.updateLineHighlights();var t=e.parseUrlHash()[0];t&&e.scrollToLineNumber(+t)})},n.prototype.handleLineNumberClick=function(e,t){if(t&&this.state.highlightStart){var n=+e,a=+this.state.highlightStart,i=this.state.highlightEnd||this.state.highlightStart;n<a?this.setState({highlightStart:e,highlightEnd:i}):this.setState({highlightEnd:e})}else this.setState({highlightStart:e,highlightEnd:null});Prism.clearLineHighlights(),this.updateLineHighlights(),this.updateUrlHash()},n.prototype.parseUrlHash=function(){var e=location.hash.slice(1);if(!e)return[null,null];var t=e.match(/^L([0-9]+)$|^L([0-9]+)\-L([0-9]+)$/);return t?t[1]?[t[1],null]:[t[2],t[3]]:[null,null]},n.prototype.updateUrlHash=function(){if(this.state.highlightStart){var e="L"+this.state.highlightStart;this.state.highlightEnd&&(e+="-L"+this.state.highlightEnd),location.hash=e}},n.prototype.updateLineHighlights=function(){this.state.highlightStart?Prism.highlightLines(a("pre")[0],this.state.highlightStart,this.state.highlightEnd):Prism.clearLineHighlights()},n.prototype.prismName=function(){if(this.props.isNotebook)return"language-json";switch(this.props.languageName){case"Python":return"language-python";case"Julia":return"language-julia";case"R":case"RMarkdown":return"language-r";case"SQLite":return"language-sql"}return""},n.prototype.renderSubmissionInfo=function(){var t=this.props.submission,n=t.date,a=t.teamName,i=t.privateScore,r=t.publicScore;return e.createElement("div",{className:"script-code-pane__submission"},e.createElement("div",{className:"script-code-pane__submission-info-wrapper"},e.createElement(s.ContentBox,null,e.createElement("div",{className:"script-code-pane__submission-info-content"},e.createElement("div",null,e.createElement("div",{className:"script-code-pane__submission-header"},"Submission"),e.createElement("div",null,this.props.runInfo.succeeded?e.createElement("div",{className:"script-code-pane__submission-status--success"},e.createElement("i",{className:"fa fa-check"})," Ran successfully"):e.createElement("div",{className:"script-code-pane__submission-status--failure"},e.createElement("i",{className:"fa fa-times"})," Script run unsuccessful")),e.createElement("div",null,"Submitted by ",a," ",e.createElement(o.TimeAgo,{time:n})))))),e.createElement("div",{className:"script-code-pane__submission-score-wrapper"},e.createElement(s.ContentBox,null,e.createElement("div",{className:"script-code-pane__submission-score-content"},i&&e.createElement("div",{className:"script-code-pane__submission-score-private"},e.createElement("div",{className:"script-code-pane__submission-score-label"},"Private Score"),e.createElement("div",{className:"script-code-pane__submission-score-value"},i)),e.createElement("div",{className:"script-code-pane__submission-score-public"},e.createElement("div",{className:"script-code-pane__submission-score-label"},"Public Score"),e.createElement("div",{className:"script-code-pane__submission-score-value"},r||"No score"))))))},n.prototype.render=function(){var t=this,n=e.createElement("div",{className:"script-code-pane__right-section"},this.props.isPrivate?null:e.createElement(o.MediaQuery,{minWidth:o.Breakpoints.desktopMin},e.createElement("div",{className:"script-code-pane__subtitle"},"This script has been released under the ",e.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0")," open source license.")),this.props.isPrivate?null:e.createElement(o.MediaQuery,{minWidth:0,maxWidth:o.Breakpoints.tabletMax},e.createElement("div",{className:"script-code-pane__subtitle"},"Licensed under ",e.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0"))),e.createElement(o.MediaQuery,{minWidth:o.Breakpoints.tabletMin},e.createElement("a",{href:this.state.downloadUrl,className:"script-code-pane__download"},"Download Code")));return e.createElement("div",{ref:function(e){return t.props.setEnclosingElement(e)}},this.props.submission&&this.renderSubmissionInfo(),e.createElement(s.ContentBox,{title:"Code",titleBarRightSide:n},e.createElement(r,{codeContents:this.props.codeContents,prismLanguageClassName:this.prismName(),downloadUrl:this.state.downloadUrl,isMinimized:this.state.isMinimized,isPrivate:this.props.isPrivate,allowToggle:this.shouldShowToggle,handleToggleMinimizedClick:this.props.allowToggle?this.showMoreOrLess:null})))},n}(e.Component);t.ScriptCodePaneContainer=l}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(113),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,n=e.createElement("div",{className:"script-code-pane__right-section"},e.createElement("a",{href:this.props.downloadAllFilesUrl,className:"script-code-pane__download"},"Download All"));return e.createElement("div",{ref:function(e){return t.props.setEnclosingElement(e)}},e.createElement(i.ContentBox,{title:"Output",titleBarRightSide:n},e.createElement(s.FilePreviewList,{files:this.props.fileListItems,showSubmitToCompButtons:this.props.showSubmitToCompButtons,scriptVersionId:this.props.scriptVersionId,competitionName:this.props.competitionName,submitToCompUrl:this.props.submitToCompUrl})))},n}(e.Component);t.ScriptFilesPaneContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t={};this.props.height>0&&(t.height=this.props.height+48+"px");var n={};this.props.displayIframe||(n.display="none");var a={display:this.props.displayLoadingPanel?"inherit":"none"};return e.createElement("div",{className:"script-notebook-pane",style:n},e.createElement(i.ContentBox,{title:this.props.contentBoxTitle},e.createElement("div",{className:"script-notebook-pane__container"},e.createElement("iframe",{src:this.props.iframeUrl,style:t}),e.createElement("div",{className:"script-notebook-pane__loading",style:a},e.createElement("div",{className:"script-notebook-pane__loading-content"},e.createElement("span",{className:"fa fa-circle-o-notch fa-spin"}))))))},n}(e.Component);t.ScriptNotebookPane=s;var o=function(t){function n(e){var n=t.call(this,e)||this;return n.handleResizeMessage=function(e){if(!isNaN(e.data)){var t=parseInt(e.data);n.setState({height:t,iframeReady:!0,hasBeenRendered:!0})}},n.state={height:552,iframeReady:!1,hasBeenRendered:n.props.displayIframe},n}return a.__extends(n,t),n.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.handleResizeMessage)},n.prototype.componentDidMount=function(){window.addEventListener("message",this.handleResizeMessage,!1)},n.prototype.render=function(){if(!this.props.displayIframe&&!this.state.hasBeenRendered)return null;var t=this.props.displayIframe,n=this.props.displayIframe&&(!this.state.iframeReady||0===this.state.height);return e.createElement(s,{iframeUrl:this.props.iframeUrl,height:this.state.height,displayIframe:t,displayLoadingPanel:n,contentBoxTitle:this.props.isNotebook?"Notebook":"Report"})},n}(e.Component);t.ScriptNotebookPaneContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(7),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t,n=this;return t=this.props.operationBeingProcessed?e.createElement("div",{className:"script-options-pane__processing"},"Processing..."):e.createElement("div",{className:"script-options-pane__hide-script-section"},e.createElement("input",{type:"checkbox",onClick:function(){return n.props.toggleHideScript()},defaultChecked:this.props.scriptIsHidden}),"Hide Script"),e.createElement(s.ContentBox,{title:"Options"},e.createElement("div",{className:"script-options-pane__section"},t))},n}(e.Component);t.ScriptRegularOptionsPane=o;var r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(s.ContentBox,{title:"Admin"},e.createElement("div",{className:"script-options-pane__section"},e.createElement("input",{type:"checkbox",onClick:function(){return t.props.toggleScriptIsLanguageTemplate()},defaultChecked:this.props.scriptIsLanguageTemplate}),"Language Template ",e.createElement("br",null),e.createElement("br",null),e.createElement("div",{onClick:function(){return t.props.rerunScript()},className:"script-options-pane__link"},"Rerun Script")))},n}(e.Component);t.ScriptAdminOptionsPane=r;var l=function(t){function n(e){var n=t.call(this,e)||this;return n.handleToggleScriptIsHidden=function(){n.setState({operationBeingProcessed:!0});var e=!n.state.scriptIsHidden;a.ajax({context:n,url:n.props.toggleScriptIsHiddenUrl+"?isHidden="+e,type:"POST",success:function(){n.setState({scriptIsHidden:e,operationBeingProcessed:!1}),n.props.onScriptHiddenStateChange(e)},error:function(e,t,n){alert("Sorry, an error occurred. Please reload the page.")}})},n.handleToggleScriptIsLanguageTemplate=function(){var e=!n.state.scriptIsLanguageTemplate;a.ajax({context:n,type:"POST",url:n.props.toggleScriptLanguageTemplateUrl,data:{isTemplate:e},success:function(){n.setState({scriptIsLanguageTemplate:e}),n.props.onScriptLanguageTemplateChange(e)}})},n.state={scriptIsHidden:n.props.scriptIsInitiallyHidden,operationBeingProcessed:!1,scriptIsLanguageTemplate:n.props.scriptIsInitiallyLanguageTemplate},n}return i.__extends(n,t),n.prototype.handleRerunScript=function(){a.ajax({url:this.props.rerunScriptUrl,type:"POST",success:function(e){console.log("Script re-queued.")}})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"script-options-pane"},e.createElement(o,{toggleHideScript:function(){return t.handleToggleScriptIsHidden()},scriptIsHidden:this.state.scriptIsHidden,operationBeingProcessed:this.state.operationBeingProcessed}),this.props.showAdmin?e.createElement(r,{rerunScript:function(){return t.handleRerunScript()},scriptIsLanguageTemplate:this.props.scriptIsInitiallyLanguageTemplate,toggleScriptIsLanguageTemplate:function(){return t.handleToggleScriptIsLanguageTemplate()}}):null)},n}(e.Component);t.ScriptOptionsPaneContainer=l}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(1073),o=n(7),r=n(19),l=n(128),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t,n=this,a=this.props.item,i=this.props.previousItem,s=Math.round(10*a.runInfo.runTimeSeconds)/10+"s",o=l(a.outputFilesTotalSizeBytes),c=0===a.versionNumber?e.createElement("span",{className:"script-versions-pane__fork-parent"},"Forked from"):e.createElement("span",{className:"script-versions-pane__version-number"},"Version ",a.versionNumber),p=new Date(a.lastRunTime),u=!isNaN(p.getTime()),d=u?e.createElement(r.TimeAgo,{time:p}):a.lastRunTime,m=e.createElement("span",null,e.createElement("span",{className:"script-versions-pane__diff-inserted"},"+",a.linesInsertedFromPrevious),"/",e.createElement("span",{className:"script-versions-pane__diff-deleted"},"–",a.linesDeletedFromPrevious),"/",e.createElement("span",{className:"script-versions-pane__diff-changed"},"~",a.linesChangedFromPrevious));return t=i?e.createElement("a",{onClick:function(e){e.preventDefault(),n.props.updateLeftDiffId(i.id),n.props.updateRightDiffId(a.id),n.props.onShowDiff(i.id,a.id)},href:"#base="+i.id+"&new="+a.id},m):e.createElement("span",null),e.createElement("div",{key:a.id,className:"script-versions-pane__item"+(a.runInfo.succeeded?" script-versions-pane__item--successful":" script-versions-pane__item--error")},e.createElement("a",{href:a.url,className:"script-versions-pane__version-count"},c),e.createElement("a",{href:a.url,className:"script-versions-pane__version-icon"},e.createElement("span",null,e.createElement("span",{className:a.runInfo.succeeded?"fa fa-check":"fa fa-times"}))),e.createElement("a",{href:a.url,className:"script-versions-pane__version-title"},e.createElement("span",null,a.title)),e.createElement("a",{href:a.url,className:"script-versions-pane__version-last-run-time"},e.createElement("span",null,d)),e.createElement("a",{href:a.url,className:"script-versions-pane__version-run-time"},e.createElement("span",null,s)),e.createElement("a",{href:a.url,className:"script-versions-pane__version-output-size"},e.createElement("span",null,o)),e.createElement("a",{href:a.url,className:"script-versions-pane__version-language-name"},e.createElement("span",null,a.languageName)),e.createElement("a",{href:a.url,className:"script-versions-pane__is-notebook"},e.createElement("span",null,a.isNotebook?"Notebook":"Script")),e.createElement("span",{className:"script-versions-pane__version-diff"},t),e.createElement("div",{className:"script-versions-pane__diff-buttons"},e.createElement("input",{type:"radio",checked:this.props.leftDiffButtonInitiallySelected,onChange:function(){return n.props.updateLeftDiffId(a.id)}}),e.createElement("input",{type:"radio",checked:this.props.rightDiffButtonInitiallySelected,onChange:function(){return n.props.updateRightDiffId(a.id)}})))},n}(e.Component);t.ScriptVersionsPaneRow=c;var p=function(t){function n(e){var n=t.call(this,e)||this;return n.state={leftDiffScriptVersionId:n.props.leftDiffScriptVersionId,rightDiffScriptVersionId:n.props.rightDiffScriptVersionId,isInline:!1},n}return i.__extends(n,t),n.prototype.updateLeftDiffId=function(e){this.setState({leftDiffScriptVersionId:e})},n.prototype.updateRightDiffId=function(e){this.setState({rightDiffScriptVersionId:e})},n.prototype.render=function(){var t,n,i=this;if(this.props.diffVisible){var r={" ":!0,"\t":!0,"\n":!0,"\f":!0,"\r":!0},l={defaultJunkFunction:function(e){return r.hasOwnProperty(e)},stripLinebreaks:function(e){return e.replace(/^[\n\r]*|[\n\r]*$/g,"")},stringAsLines:function(e){for(var t=e.indexOf("\n"),n=e.indexOf("\r"),a=t>-1&&n>-1||n<0?"\n":"\r",i=e.split(a),s=0;s<i.length;s++)i[s]=l.stripLinebreaks(i[s]);return i},__reduce:function(e,t,n){if(null!=n)var a=n,i=0;else{if(!t)return null;var a=t[0],i=1}for(;i<t.length;i++)a=e(a,t[i]);return a},__ntuplecomp:function(e,t){for(var n=Math.max(e.length,t.length),a=0;a<n;a++){if(e[a]<t[a])return-1;if(e[a]>t[a])return 1}return e.length==t.length?0:e.length<t.length?-1:1},__calculate_ratio:function(e,t){return t?2*e/t:1},__isindict:function(e){return function(t){return e.hasOwnProperty(t)}},__dictget:function(e,t,n){return e.hasOwnProperty(t)?e[t]:n},SequenceMatcher:function(e,t,n){this.set_seqs=function(e,t){this.set_seq1(e),this.set_seq2(t)},this.set_seq1=function(e){e!=this.a&&(this.a=e,this.matching_blocks=this.opcodes=null)},this.set_seq2=function(e){e!=this.b&&(this.b=e,this.matching_blocks=this.opcodes=this.fullbcount=null,this.__chain_b())},this.__chain_b=function(){for(var e=this.b,t=e.length,n=this.b2j={},a={},i=0;i<e.length;i++){var s=e[i];if(n.hasOwnProperty(s)){var o=n[s];t>=200&&100*o.length>t?(a[s]=1,delete n[s]):o.push(i)}else n[s]=[i]}for(var s in a)a.hasOwnProperty(s)&&delete n[s];var r=this.isjunk,c={};if(r){for(var s in a)a.hasOwnProperty(s)&&r(s)&&(c[s]=1,delete a[s]);for(var s in n)n.hasOwnProperty(s)&&r(s)&&(c[s]=1,delete n[s])}this.isbjunk=l.__isindict(c),this.isbpopular=l.__isindict(a)},this.find_longest_match=function(e,t,n,a){for(var i=this.a,s=this.b,o=this.b2j,r=this.isbjunk,c=e,p=n,u=0,d=null,m={},h=[],g=e;g<t;g++){var f={},v=l.__dictget(o,i[g],h);for(var _ in v)if(v.hasOwnProperty(_)){if((d=v[_])<n)continue;if(d>=a)break;var b=l.__dictget(m,d-1,0)+1;f[d]=b,b>u&&(c=g-b+1,p=d-b+1,u=b)}m=f}for(;c>e&&p>n&&!r(s[p-1])&&i[c-1]==s[p-1];)c--,p--,u++;for(;c+u<t&&p+u<a&&!r(s[p+u])&&i[c+u]==s[p+u];)u++;for(;c>e&&p>n&&r(s[p-1])&&i[c-1]==s[p-1];)c--,p--,u++;for(;c+u<t&&p+u<a&&r(s[p+u])&&i[c+u]==s[p+u];)u++;return[c,p,u]},this.get_matching_blocks=function(){if(null!=this.matching_blocks)return this.matching_blocks;for(var e,t,n,a,i,s,o,r,c,p=this.a.length,u=this.b.length,d=[[0,p,0,u]],m=[];d.length;)i=d.pop(),e=i[0],t=i[1],n=i[2],a=i[3],c=this.find_longest_match(e,t,n,a),s=c[0],o=c[1],(r=c[2])&&(m.push(c),e<s&&n<o&&d.push([e,s,n,o]),s+r<t&&o+r<a&&d.push([s+r,t,o+r,a]));m.sort(l.__ntuplecomp);var h=0,g=0,f=0,v=0,_=[];for(var b in m)if(m.hasOwnProperty(b)){v=m[b];var E=v[0],y=v[1],C=v[2];h+f==E&&g+f==y?f+=C:(f&&_.push([h,g,f]),h=E,g=y,f=C)}return f&&_.push([h,g,f]),_.push([p,u,0]),this.matching_blocks=_,this.matching_blocks},this.get_opcodes=function(){if(null!=this.opcodes)return this.opcodes;var e=0,t=0,n=[];this.opcodes=n;var a,i,s,o,r,l=this.get_matching_blocks();for(var c in l)l.hasOwnProperty(c)&&(a=l[c],i=a[0],s=a[1],o=a[2],r="",e<i&&t<s?r="replace":e<i?r="delete":t<s&&(r="insert"),r&&n.push([r,e,i,t,s]),e=i+o,t=s+o,o&&n.push(["equal",i,e,s,t]));return n},this.get_grouped_opcodes=function(e){e||(e=3);var t=this.get_opcodes();t||(t=[["equal",0,1,0,1]]);var n,a,i,s,o,r;"equal"==t[0][0]&&(n=t[0],a=n[0],i=n[1],s=n[2],o=n[3],r=n[4],t[0]=[a,Math.max(i,s-e),s,Math.max(o,r-e),r]),"equal"==t[t.length-1][0]&&(n=t[t.length-1],a=n[0],i=n[1],s=n[2],o=n[3],r=n[4],t[t.length-1]=[a,i,Math.min(s,i+e),o,Math.min(r,o+e)]);var l=e+e,c=[];for(var p in t)t.hasOwnProperty(p)&&(n=t[p],a=n[0],i=n[1],s=n[2],o=n[3],r=n[4],"equal"==a&&s-i>l&&(c.push([a,i,Math.min(s,i+e),o,Math.min(r,o+e)]),i=Math.max(i,s-e),o=Math.max(o,r-e)),c.push([a,i,s,o,r]));return c&&"equal"==c[c.length-1][0]&&c.pop(),c},this.ratio=function(){var e=l.__reduce(function(e,t){return e+t[t.length-1]},this.get_matching_blocks(),0);return l.__calculate_ratio(e,this.a.length+this.b.length)},this.quick_ratio=function(){var e,t;if(null==this.fullbcount){this.fullbcount=e={};for(var n=0;n<this.b.length;n++)t=this.b[n],e[t]=l.__dictget(e,t,0)+1}e=this.fullbcount;for(var a={},i=l.__isindict(a),s=0,o=0,n=0;n<this.a.length;n++)t=this.a[n],s=i(t)?a[t]:l.__dictget(e,t,0),a[t]=s-1,s>0&&o++;return l.__calculate_ratio(o,this.a.length+this.b.length)},this.real_quick_ratio=function(){var e=this.a.length,t=this.b.length;return l.__calculate_ratio(Math.min(e,t),e+t)},this.isjunk=n||l.defaultJunkFunction,this.a=this.b=null,this.set_seqs(e,t)}},p={buildView:function(e){function t(e,t){var n=document.createElement(e);return n.className=t,n}function n(e,t){var n=document.createElement(e);return n.appendChild(document.createTextNode(t)),n}function a(e,t,n){var a=document.createElement(e);return a.className=t,a.appendChild(document.createTextNode(n)),a}function i(e,n,i,s,o){var r="insert"==o?"+ ":"delete"==o?"- ":"  ";return n<i?(e.appendChild(a("th",o+" split",(n+1).toString())),e.appendChild(a("td",o+" split",r+s[n].replace(/\t/g,"    "))),n+1):(e.appendChild(document.createElement("th")),e.appendChild(t("td","empty")),n)}function s(e,t,n,i,s){var o="insert"==s?"+ ":"delete"==s?"- ":"  ";e.appendChild(a("th",s,null==t?"":(t+1).toString())),e.appendChild(a("th",s,null==n?"":(n+1).toString())),e.appendChild(a("td",s+" inline",o+i[null!=t?t:n].replace(/\t/g,"    ")))}var o=e.baseTextLines,r=e.newTextLines,l=e.opcodes,c=(e.baseTextName&&e.baseTextName,e.newTextName&&e.newTextName,e.contextSize),p=0==e.viewType||1==e.viewType?e.viewType:0;if(null==o)throw"Cannot build diff view; baseTextLines is not defined.";if(null==r)throw"Cannot build diff view; newTextLines is not defined.";if(!l)throw"Canno build diff view; opcodes is not defined.";for(var u,d,m=[],h=[],g=0;g<l.length;g++){for(var f=l[g],v=f[0],_=f[1],b=f[2],E=f[3],y=f[4],C=Math.max(b-_,y-E),w=[],S=[],N=0;N<C;N++){if(c&&l.length>1&&(g>0&&N==c||0==g&&0==N)&&"equal"==v){var T=C-(0==g?1:2)*c;if(T>1){if(w.push(u=document.createElement("tr")),_+=T,E+=T,N+=T-1,u.appendChild(n("th","...")),p||u.appendChild(a("td","skip","")),u.appendChild(n("th","...")),u.appendChild(a("td","skip","")),g+1==l.length)break;continue}}w.push(u=document.createElement("tr")),p?"insert"==v?s(u,null,E++,r,v):"replace"==v?(S.push(d=document.createElement("tr")),_<b&&s(u,_++,null,o,"delete"),E<y&&s(d,null,E++,r,"insert")):"delete"==v?s(u,_++,null,o,v):s(u,_++,E++,o,v):(_=i(u,_,b,o,"replace"==v?"delete":v),E=i(u,E,y,r,"replace"==v?"insert":v))}for(var N=0;N<w.length;N++)h.push(w[N]);for(var N=0;N<S.length;N++)h.push(S[N])}h.push(u=a("th","author","diff view generated by ")),u.setAttribute("colspan",p?"3":"4"),u.appendChild(d=n("a","jsdifflib")),d.setAttribute("href","http://github.com/cemerick/jsdifflib"),m.push(u=document.createElement("tbody"));for(var k in h)u.appendChild(h[k]);u=t("table","diff"+(p?" inlinediff":""));for(var M in m)u.appendChild(m[M]);return u}};n=e.createElement("div",{className:"script-code-pane__right-section"},e.createElement(s.ToggleButton,{values:["inline","split"],labels:["Inline","Split"],onChange:function(e){i.setState({isInline:"inline"==e})},selectedValue:this.state.isInline?"inline":"split"})),t=e.createElement(a.ReactScripts.ScriptVersionDiff,{route:{leftScriptVersionId:this.state.leftDiffScriptVersionId,rightScriptVersionId:this.state.rightDiffScriptVersionId},children:function(t,n){var a=l.stringAsLines(t.leftContent),s=l.stringAsLines(t.rightContent),o=t.leftAuthor+" - "+t.leftDateCreated,r=t.rightAuthor+" - "+t.rightDateCreated,c=new l.SequenceMatcher(a,s),u=c.get_opcodes(),d=p.buildView({baseTextLines:a,newTextLines:s,opcodes:u,baseTextName:o,newTextName:r,contextSize:null,viewType:i.state.isInline?1:0});return e.createElement("div",null,e.createElement("div",{dangerouslySetInnerHTML:{__html:d.outerHTML}}))}})}else n=e.createElement("div",{className:"script-code-pane__right-section"},e.createElement("a",{onClick:function(e){e.preventDefault(),i.props.onShowDiff(i.state.leftDiffScriptVersionId,i.state.rightDiffScriptVersionId)},href:"#base="+this.state.leftDiffScriptVersionId+"&new="+this.state.rightDiffScriptVersionId,className:"script-versions-pane__diff-button"},"View Diff")),t=this.props.versionHistory.map(function(t,n,a){return e.createElement(c,{key:t.id,item:t,previousItem:n<a.length-1?a[n+1]:null,updateLeftDiffId:function(e){return i.updateLeftDiffId(e)},updateRightDiffId:function(e){return i.updateRightDiffId(e)},leftDiffButtonInitiallySelected:t.id==i.state.leftDiffScriptVersionId,rightDiffButtonInitiallySelected:t.id==i.state.rightDiffScriptVersionId,onShowDiff:i.props.onShowDiff})});return e.createElement("div",{className:"script-versions-pane"},e.createElement(o.ContentBox,{title:"Versions",titleBarRightSide:n},t))},n}(e.Component);t.ScriptVersionsPane=p}).call(t,n(0),n(34))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(418),o=n(1004),r=n(1006),l=n(1005),c=n(1008),p=n(1007),u=n(165),d=n(7),m=n(1003),h=n(5),g=n(274),f=n(78);n(601);var v=n(45),_=n(3),b=function(t){function n(e){var n=t.call(this,e)||this;return n.markdownConverter=f.getSanitizingConverter(),n.pollScriptStatusAndRefreshWhenReady=function(){n.scriptStatus&&"cancelacknowledged"!==n.scriptStatus&&_.ajax({context:n,url:n.props.statusCallbackUrl+"&existingStatus="+n.scriptStatus,success:function(e){n.scriptStatus=e.status,"complete"===e.status||"error"===e.status?location.reload(!0):n.pollScriptStatusAndRefreshWhenReady()}})},n.handleScroll=v.throttle(n.handleScrollInner,100).bind(n),n.handleUnhideScript=function(e){e.preventDefault(),n.state.isHidden&&_.ajax({context:n,url:n.props.toggleScriptIsHiddenUrl+"?isHidden=false",type:"POST",success:function(){n.setState({isHidden:!1})},error:function(e,t,n){alert("Sorry, an error occurred. Please reload the page.")}})},n.onCloseCompetitionRulesModal=function(){n.setState({showCompetitionRulesModal:!1})},n.onAcceptCompetitionsRules=function(){return a("/kernels/rules-acceptance.json?scriptVersionId="+n.props.scriptVersionId,{method:"POST",credentials:"include"}).then(function(){return n.navigateToCallToActionUrl()}),new Promise(function(e,t){return null})},n.state={activeTab:"",activePane:"",scriptVersionId:n.props.initialScriptVersionId,isHidden:n.props.scriptIsHidden,isLanguageTemplate:n.props.scriptIsLanguageTemplate,isSubmittingReply:!1,codeShouldBeExpanded:!1,replyDraft:"",topicId:e.topic.id,competitionsRequiringAcceptance:[],showCompetitionRulesModal:!1},n.tabNamesFromUrls={},n.urlNamesFromTabs={},n.props.menuLinks.concat(n.props.rightMenuLinks).forEach(function(e){n.tabNamesFromUrls[e.href||e.tab]=e.text,n.urlNamesFromTabs[e.text]=e.href||e.tab}),n.enclosingElements=[],n.scriptStatus="new",window.location.pathname.slice(0,n.props.baseUrl.length)!==n.props.baseUrl&&history.replaceState&&history.replaceState({},"",n.props.baseUrl+(n.props.initialTab?"/"+n.props.initialTab:"")),n}return i.__extends(n,t),n.prototype.updateEnclosingElement=function(e,t){this.enclosingElements[t]=e},n.prototype.shouldComponentUpdate=function(e,t){return this.state.activeTab!==t.activeTab||this.state.activePane!==t.activePane||this.state.isHidden!==t.isHidden||this.state.isLanguageTemplate!==t.isLanguageTemplate||this.state.replyDraft!==t.replyDraft||this.state.topicId!==t.topicId||this.state.showCompetitionRulesModal!==t.showCompetitionRulesModal},n.prototype.hasReportPane=function(){return 1===this.props.menuLinks.filter(function(e){return"Report"===e.text}).length},n.prototype.hasNotebookPane=function(){return 1===this.props.menuLinks.filter(function(e){return"Notebook"===e.text}).length},n.prototype.hasImages=function(){return this.getVisualizationFiles()&&this.getVisualizationFiles().length>0},n.prototype.hasNonImages=function(){return this.getNonVisualizationFiles()&&this.getNonVisualizationFiles().length>0},n.prototype.getVisualizationFiles=function(){return this.props.outputFiles?this.props.outputFiles.filter(function(e){return[".png",".jpg",".gif",".svg"].indexOf(e.fileType)>-1}):null},n.prototype.getNonVisualizationFiles=function(){return this.props.outputFiles?this.props.outputFiles.filter(function(e){return-1==[".png",".jpg",".gif",".svg"].indexOf(e.fileType)}):null},n.prototype.activateDefaultTab=function(){var e;e=this.hasReportPane()?"Report":this.hasNotebookPane()?"Notebook":this.hasImages()||"SQLite"===this.props.languageName&&!this.props.scriptVersionHasError?"Output":"Code",this.setState({activeTab:e,activePane:e})},n.prototype.componentWillMount=function(){var e=this;if(this.props.initialTab in this.tabNamesFromUrls){var t=this.tabNamesFromUrls[this.props.initialTab],n=location.hash;this.updateUrlForTab(this.props.initialTab),n&&(location.hash=n),this.setState({activeTab:t,activePane:t,codeShouldBeExpanded:"Code"===t},function(){"Output"===t&&e.shouldUseCodeOutputCommentsView()&&e.scrollToActiveTab()})}else this.activateDefaultTab();this.props.currentScriptVersionIsBusy&&this.pollScriptStatusAndRefreshWhenReady()},n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.handleScroll),window.Intercom("trackEvent","view_script"),-1!==window.location.hash.indexOf("#latest-")&&history.replaceState({},document.title,window.location.pathname+window.location.search)},n.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll)},n.prototype.handleScrollInner=function(e){var t=this;if(-1!==["Code","Output","Comments","Notebook","Report"].indexOf(this.state.activeTab)){var n=_(document).scrollTop()+.15*_(window).height(),a=function(e){t.state.activeTab!==e&&(t.updateUrlForTab(e.toLowerCase()),t.setState({activeTab:e}))};n>this.getTabScrollTop("Comments")?a("Comments"):n>this.getTabScrollTop("Output")?a("Output"):n>this.getTabScrollTop("Code")?a("Code"):n>this.getTabScrollTop("Notebook")?a("Notebook"):n>this.getTabScrollTop("Code")&&a("Report")}},n.prototype.updateUrlForTab=function(e){history.replaceState&&history.replaceState({},"",this.props.baseUrl+"/"+e)},n.prototype.onActiveTabChange=function(e){var t=this;if(e!==this.state.activeTab||e!==this.state.activePane){var n=this.urlNamesFromTabs[e];this.updateUrlForTab(n);var a=this.scrollToActiveTab;"Comments"===e&&(a=function(){t.scrollToActiveTab(0)}),this.setState({activeTab:e,activePane:e,codeShouldBeExpanded:"Code"===e},a)}},n.prototype.getTabScrollTop=function(e){if(!(e in this.enclosingElements)||null==this.enclosingElements[e])return 1/0;var t=this.enclosingElements[e],n=document.body,a=document.documentElement,i=window.pageYOffset||a.scrollTop||n.scrollTop,s=a.clientTop||n.clientTop||0;return Math.round(t.getBoundingClientRect().top+i-s)},n.prototype.scrollToActiveTab=function(e){void 0===e&&(e=300);var t=0,n=_(".pageheader__top--safe"),a=n.offset().top+n.height(),i=32*((this.state.isHidden?1:0)+this.props.pageMessages.length);if(this.shouldUseCodeOutputCommentsView()&&-1!==["Code","Output"].indexOf(this.state.activeTab)){t=this.getTabScrollTop(this.state.activeTab)-42-20-i}else{_(document).scrollTop()>a&&(t=a+1)}t>0&&(e>0?_("html, body").animate({scrollTop:t},e):_("html, body").scrollTop(t))},n.prototype.renderCodeTab=function(){var t=this,n=!this.state.codeShouldBeExpanded;return this.shouldUseCodeOutputCommentsView()&&!this.hasOutputTab()&&(n=!1),e.createElement("div",null,e.createElement(o.ScriptCodePaneContainer,{codeContents:this.props.code,languageName:this.props.languageName,isNotebook:this.props.isNotebook,isPrivate:this.props.isPrivate,setEnclosingElement:function(e){return t.updateEnclosingElement(e,"Code")},allowToggle:this.shouldUseCodeOutputCommentsView(),scriptVersionId:this.state.scriptVersionId,startMinimized:n,onPaneExpanded:function(){t.setState({activeTab:"Code"})},submission:this.props.submission,runInfo:this.props.runInfo}),this.shouldUseCodeOutputCommentsView()?null:this.renderCommentsTab())},n.prototype.checkCompetitionRulesAcceptance=function(e){return i.__awaiter(this,void 0,void 0,function(){var t,n,s,o,r,l;return i.__generator(this,function(i){switch(i.label){case 0:return e.preventDefault(),[4,a("/kernels/rules-acceptance.json?scriptVersionId="+this.props.scriptVersionId,{credentials:"include"})];case 1:return t=i.sent(),t.redirected&&(n=window.location,s=n.pathname,o=n.search,window.location.href=t.url.split("=")[0]+"="+encodeURIComponent(s+o)),[4,t.json()];case 2:return r=i.sent().competitionsRequiringAcceptance,l=r&&r.length>0,this.setState({competitionsRequiringAcceptance:r,showCompetitionRulesModal:l}),!l&&this.navigateToCallToActionUrl(),[2]}})})},n.prototype.navigateToCallToActionUrl=function(){window.location.href=this.props.callToAction.href},n.prototype.hasOutputTab=function(){return this.props.outputFiles.length>0},n.prototype.renderOutputTab=function(){var t=this;return this.hasOutputTab()?e.createElement("div",null,this.hasImages()?e.createElement(d.ContentBox,{title:"Visualizations",contentClassName:"script-viewer__visualizations"},this.getVisualizationFiles().map(function(t){return e.createElement("img",{src:t.fileUrl})})):null,!this.hasImages()||this.hasNonImages()?e.createElement(l.ScriptFilesPaneContainer,{fileListItems:this.getNonVisualizationFiles(),downloadAllFilesUrl:this.props.downloadAllFilesUrl,showSubmitToCompButtons:this.props.showSubmitToCompButtons,submitToCompUrl:this.props.submitToCompUrl,scriptVersionId:this.props.scriptVersionId,competitionName:this.props.competitionName,setEnclosingElement:function(e){return t.updateEnclosingElement(e,"Output")}}):null,this.shouldUseCodeOutputCommentsView()?null:this.renderCommentsTab()):null},n.prototype.changeReplyDraft=function(e){this.setState({replyDraft:e})},n.prototype.submitReply=function(e){var t=this;h.PageMessages.clear(),this.setState({isSubmittingReply:!0},function(){return _.ajax({contentType:"application/json",data:JSON.stringify({content:t.markdownConverter.makeHtml(t.state.replyDraft),rawMarkdown:t.state.replyDraft,scriptId:t.props.scriptId}),type:"POST",url:"/kernels/comments/ajax"}).done(function(n){t.setState({isSubmittingReply:!1,replyDraft:"",topicId:n.topicId},function(){h.PageMessages.clear(),window.Intercom("trackEvent","forum_post"),e(n.id)})}).fail(function(){t.setState({isSubmittingReply:!1}),h.PageMessages.clear(),h.PageMessages.error({htmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})})},n.prototype.renderCommentsTab=function(){var t=this;return e.createElement(h.CommentListContainer,{allowAttachments:this.props.topic.allowAttachments,allowReplies:!this.props.topic.isLocked,canDownvote:this.props.topic.canDownvote,isSubmittingReply:this.state.isSubmittingReply,replyAttachments:[],replyDraft:this.state.replyDraft,replyDraftChanged:function(e){return t.changeReplyDraft(e)},replySubmitted:function(e){return t.submitReply(e)},topicId:this.state.topicId})},n.prototype.renderCodeOutputCommentsView=function(){return e.createElement("div",null,this.renderCodeTab(),this.renderOutputTab(),this.renderCommentsTab())},n.prototype.shouldUseCodeOutputCommentsView=function(){return!this.props.isNotebook},n.prototype.renderActivePane=function(){var t=this;switch(this.state.activePane){case"Log":return e.createElement(s.ScriptLogPaneContainer,{logContents:this.props.log,runInfo:this.props.runInfo});case"Code":return this.shouldUseCodeOutputCommentsView()?this.renderCodeOutputCommentsView():this.renderCodeTab();case"Report":case"Notebook":return null;case"Input":return e.createElement(d.ContentBox,{title:"Input Files"},e.createElement(h.FilePreviewList,{files:[],dataSources:this.props.dataSources,disableEditing:!0}));case"Output":return this.shouldUseCodeOutputCommentsView()?this.renderCodeOutputCommentsView():this.renderOutputTab();case"Forks":return this.props.hasForks?e.createElement(u.ScriptList,{listTitle:"Forked Kernels",languagesMetadataUrl:null,loginAndReturnUrl:null,newScriptUrl:null,outputTypesMetadataUrl:null,newNotebookUrl:null,showFilters:!1,showScriptProjectName:!1,sourceBaseUrl:this.props.forksBaseUrl.slice(0,this.props.forksBaseUrl.length-1)}):null;case"Versions":case"VersionsWithDiff":var n=location.hash.replace("#","").split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{}),a=n.base,i=n.new,o="VersionsWithDiff"===this.state.activePane||!!a&&!!i;return a||(a=this.props.versionHistory.length?1==this.props.versionHistory.length?this.props.versionHistory[0].id:this.props.versionHistory[1].id:null),i||(i=this.props.versionHistory.length?this.props.versionHistory[0].id:null),e.createElement(c.ScriptVersionsPane,{versionHistory:this.props.versionHistory,onShowDiff:function(e,n){location.hash="#base="+e+"&new="+n,t.setState({activeTab:"",activePane:"VersionsWithDiff"})},leftDiffScriptVersionId:a,rightDiffScriptVersionId:i,diffVisible:o});case"Comments":return this.renderCommentsTab();case"Options":return e.createElement(p.ScriptOptionsPaneContainer,{scriptIsInitiallyHidden:this.state.isHidden,toggleScriptIsHiddenUrl:this.props.toggleScriptIsHiddenUrl,showAdmin:this.props.isAdmin,toggleScriptLanguageTemplateUrl:this.props.toggleScriptLanguageTemplateUrl,scriptIsInitiallyLanguageTemplate:this.state.isLanguageTemplate,rerunScriptUrl:this.props.rerunScriptUrl,onScriptHiddenStateChange:function(e){return t.setState({isHidden:e})},onScriptLanguageTemplateChange:function(e){return t.setState({isLanguageTemplate:e})}});default:return e.createElement("div",null,"Sorry, an error has occurred.")}},n.prototype.renderNotebookPane=function(){if(!this.hasReportPane()&&!this.hasNotebookPane())return null;var t=this.state.activePane===(this.hasReportPane()?"Report":"Notebook");return e.createElement("div",null,e.createElement(r.ScriptNotebookPaneContainer,{iframeUrl:this.props.htmlOutputFileUrl,displayIframe:t,isNotebook:this.hasNotebookPane()}),t?this.renderCommentsTab():null)},n.prototype.render=function(){var t=this.props.pageMessages,n=this.props.callToAction;return this.state.isHidden?(t=t.concat([{type:"info",message:this.props.userCanEditScript?"You have hidden this script from lists and searches, but is still accessible via URL. Unhide it by deselecting Hide Script on the Options tab.":"The user has hidden this script, meaning they prefer not to have it shared more broadly."}]),this.props.userCanEditScript&&(n={href:this.props.baseUrl,text:"Unhide Script",title:"Unhide Script",actionCallback:this.handleUnhideScript})):n.actionCallback=this.checkCompetitionRulesAcceptance.bind(this),this.props.datasetHidden&&(t=t.concat([{type:"info",message:"The dataset used for this script is no longer available."}])),e.createElement("div",{className:"script-viewer"},e.createElement("div",{className:"script-viewer__header-background"}),e.createElement("div",{className:"script-viewer__container"},e.createElement(m.KernelHeader,i.__assign({},_.extend(this.props,this.state),{activeTab:this.state.activeTab,callToAction:n,isHidden:this.state.isHidden,onActiveTabChange:this.onActiveTabChange.bind(this),pageMessages:t})),e.createElement("div",{className:"script-viewer__pane-container"},this.renderActivePane(),this.renderNotebookPane())),e.createElement(g.CompetitionRulesModal,{show:this.state.showCompetitionRulesModal,onClose:this.onCloseCompetitionRulesModal,onAcceptCompetitionRules:this.onAcceptCompetitionsRules,competitions:this.state.competitionsRequiringAcceptance,showLinkToRules:!0}))},n}(e.Component);t.ScriptViewerApp=b}).call(t,n(0),n(32))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(277);t.default=new a.default("ActivityCalendar","Display activity given a data endpoint.",[e.createElement("div",{className:"react-components__style-guide-example--overflow"},e.createElement(i.ActivityCalendar,{username:"benhamner",tier:"staff"}))],'<ActivityCalendar \n    dataUrl="/benhamner/activity.json"\n    tier="staff" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(5),o=n(274),r=[{label:"Datasets",value:"dataset"},{label:"Competitions",value:"competition"}],l=function(t){function n(n){var o=t.call(this,n)||this;return o.onDataSourceListItemClicked=function(e){return i.__awaiter(o,void 0,void 0,function(){var t,n;return i.__generator(this,function(i){switch(i.label){case 0:return"competition"!==e.sourceType?[3,3]:[4,a("/kernels/rules-acceptance.json?competitionId="+e.sourceId,{credentials:"include"})];case 1:return t=i.sent(),[4,t.json()];case 2:if(n=i.sent().competitionsRequiringAcceptance,n.length>0)return this.props.onClose(),this.setState({competitionsRequiringAcceptance:n,isRulesModalShown:!0}),[2,Promise.resolve()];i.label=3;case 3:return[2,this.props.onDataSourceAdded(e)]}})})},o.onAcceptCompetitionsRules=function(){return i.__awaiter(o,void 0,void 0,function(){var e,t=this;return i.__generator(this,function(n){switch(n.label){case 0:return e=this.state.competitionsRequiringAcceptance[0].competitionId,[4,a("/kernels/rules-acceptance.json?competitionId="+e,{method:"POST",credentials:"include"})];case 1:return n.sent(),this.setState({isRulesModalShown:!1},function(){return i.__awaiter(t,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return[4,this.props.onDataSourceAdded({sourceType:"competition",sourceId:e})];case 1:return t.sent(),[2]}})})}),[2]}})})},o.onCloseRulesModal=function(){o.setState({isRulesModalShown:!1})},o.renderListItem=function(t){return e.createElement(s.BlockLink,{onClick:function(){return o.onDataSourceListItemClicked(t)}},e.createElement("div",{className:"add-data-source-modal__list-item"},e.createElement("div",{className:"add-data-source-modal__list-item-thumbnail"},e.createElement("img",{src:t.thumbnailUrl})),e.createElement("div",{className:"add-data-source-modal__list-item-info"},e.createElement("div",{className:"add-data-source-modal__list-item-title"},t.isPrivate&&e.createElement(s.Badge,{text:"Private",option:"info"}),t.title),e.createElement("div",{className:"add-data-source-modal__list-item-description",title:t.description},t.description))))},o.renderCancelButton=function(){return e.createElement("span",{className:"add-data-source-modal__cancel-button",onClick:o.props.onClose},"cancel")},o.state={selectedGroup:r[0].value,isShown:o.props.isShown,isRulesModalShown:!1,competitionsRequiringAcceptance:[]},o}return i.__extends(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.onClose,i=n.isShown,l=this.state.isRulesModalShown,c=null;return i?c=e.createElement(s.Modal,{modalIsShown:i,onClose:a,modalClassName:"add-data-source-modal"},e.createElement(s.SmartListContainer,{title:"Add Data Source",dataUrl:"/kernels/sources.json",pluralItemDescription:"Data Sources",titleBarRightSide:this.renderCancelButton(),itemRenderer:this.renderListItem,groups:r,onSelectionsChanged:function(e,n){return t.setState({selectedGroup:n})},searchIndex:this.state.selectedGroup,containerClassName:"add-data-source-modal__container",contentClassName:"add-data-source-modal__content",mobileSortUpperBound:600,contentHeight:400,searchableGroups:["dataset","competition"],referrer:"AddDataSourceModal"})):l&&(c=s.Current.userIsPhoneVerified?e.createElement(o.CompetitionRulesModal,{competitions:this.state.competitionsRequiringAcceptance,show:this.state.isRulesModalShown,onAcceptCompetitionRules:this.onAcceptCompetitionsRules,onClose:this.onCloseRulesModal,showLinkToRules:!0}):e.createElement(s.Confirm,{isShown:!0,title:"Account SMS verification is required to use competition data sources. Continue to the SMS verification page?",cancelText:"No",confirmText:"Yes",onCancel:this.onCloseRulesModal,onConfirm:function(){return window.location.href="/account/phone/number"}})),c},n}(e.Component);t.AddDataSourceModal=l}).call(t,n(0),n(32))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("input",{name:"__RequestVerificationToken",value:i.Current.antiForgeryToken,type:"hidden"})},n}(e.Component);t.AntiForgeryInput=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(292),s=n(292),o=n(1690),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(o.ApolloProvider,{client:n.client},this.props.children)},n}(e.Component);r.client=new i.default({connectToDevTools:!0,networkInterface:s.createNetworkInterface({uri:"/graphql",opts:{credentials:"same-origin"}})}),t.ApolloComponent=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=n(281),o=n(8),r=n(44),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.renderProperty=function(t){var a=t.type,s="bool"===a?n.renderBool(t):"code"===a?n.renderCode(t):"dateTime"===a?n.renderDateTime(t):"float"===a?n.renderFloat(t):"int"===a?n.renderInt(t):"text"===a?n.renderText(t):n.renderString(t);return[n.renderError(t.error),e.createElement("div",{className:"autoform__property"},e.createElement("label",{className:"autoform__label",title:t.description},t.name.replace(/([A-Z])/g," $1").trim()),e.createElement("div",{className:"autoform__property-body"},s,t.isNullable?e.createElement("div",{className:"autoform__null-checkbox"},e.createElement(i.Checkbox,{isChecked:null===t.value,isEditable:!0,onChange:function(e){return e?t.onChange(null):t.onChange("")},text:"Is Null"})):null))]},n.renderBool=function(t){return e.createElement("div",{className:"autoform__checkbox"},e.createElement(i.Checkbox,{isChecked:t.value,isEditable:!t.isReadonly,onChange:function(e){return t.onChange(!!e)},text:""}))},n.renderCode=function(t){return e.createElement(i.CodeMirrorEditor,{canMoveDown:function(){return!0},canMoveUp:function(){return!0},hasFocus:!0,onCtrlEnter:function(){},onShiftEnter:function(){},onMoveDown:function(){},onMoveUp:function(){},options:null,className:"autoform__input",onChange:function(e){return t.isReadonly?null:t.onChange(e)},value:t.value})},n.renderDateTime=function(t){return e.createElement(s.DateTimePicker,{disabled:t.isReadonly,onChange:function(e){return t.onChange(e)},value:t.value?r(t.value).toDate():null})},n.renderEnum=function(t){var n=t.value;return e.createElement(i.SelectBox,{disabled:t.isReadonly,options:n.options.map(function(e){return{label:e,value:e}}),value:n.value})},n.renderFloat=function(t){return e.createElement("input",{className:"autoform__input",disabled:t.isReadonly,onChange:function(e){return t.onChange(e.target.value)},value:t.value||""})},n.renderInt=function(t){return e.createElement("input",{className:"autoform__input",disabled:t.isReadonly,onChange:function(e){t.onChange(e.target.value)},value:t.value||""})},n.renderString=function(t){return e.createElement("input",{className:"autoform__input",disabled:t.isReadonly,onChange:function(e){return t.onChange(e.target.value)},value:t.value||""})},n.renderText=function(t){return e.createElement("textarea",{className:"autoform__textarea",disabled:t.isReadonly,onChange:function(e){return t.onChange(e.target.value)},rows:5,value:t.value})},n.renderError=function(t){return t?e.createElement("div",{className:"autoform__error"},t):null},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"autoform"},this.props.error?n.renderError(this.props.error):null,this.props.model?this.props.model.properties.map(function(e){return n.renderProperty(e)}):null,e.createElement("button",{className:o("autoform__save-button",this.props.canSave()?null:"autoform__save-button--disabled"),disabled:!this.props.canSave(),onClick:function(){return t.props.saveModel()}},"Save"))},n}(e.Component);t.AutoForm=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(44),o=n(5),r=n(1014),l=function(t){function n(e){var s=t.call(this,e)||this;return s.canSave=function(){return s.state.model&&s.state.model.properties.every(function(e){return null===n.validate(e)})},s.loadModel=function(e,t){e=e||s.props.typeName,t=t||s.props.id,a.ajax({context:s,error:function(){return s.setState({error:"Sorry, we couldn't find the requested entity",model:null})},success:function(e){e.properties.forEach(function(t){t.onChange=function(a){t.error=n.validate(t,a),t.value=a,s.setState({model:e})},t.value=JSON.parse(t.value)}),s.setState({error:null,model:e})},url:"/admin/autoform/"+e+"/"+t})},s.saveModel=function(){if(s.canSave()){var e=i.__assign({},s.state.model);e.properties.forEach(function(e){return e.value=JSON.stringify(e.value)}),a.ajax({context:s,contentType:"application/json",data:JSON.stringify(e),error:function(){return s.setState({error:"Sorry, we couldn't save your changes"})},headers:o.withAntiForgeryHeader(),method:"PUT",success:function(){s.setState({error:null},function(){return s.loadModel()})},url:"/admin/autoform/"+s.props.typeName+"/"+s.props.id})}},s.state={canSave:function(){return s.canSave()},saveModel:function(){return s.saveModel()}},s}return i.__extends(n,t),n.validate=function(e,t){t=t||e.value;var a=e.type;return e.isNullable&&null===t?null:"bool"===a?n.validateRegex(a,/^\btrue\b|\bfalse\b$/,t):"dateTime"===a?n.validateDateTime(t):"float"===a?n.validateRegex(a,/^\d*.?\d+$/,t):"int"===a?n.validateRegex(a,/^\d+$/,t):null},n.validateRegex=function(e,t,n){return t.test(n)?null:'Unable to parse "'+n+'" as '+e},n.validateDateTime=function(e){return s(e,s.ISO_8601,!0).isValid()?null:'Unable to parse "'+e+'" as an ISO 8601 date.'},n.prototype.componentDidMount=function(){this.loadModel()},n.prototype.componentWillReceiveProps=function(e){e.typeName==this.props.typeName&&e.id==this.props.id||this.loadModel(e.typeName,e.id)},n.prototype.render=function(){return e.createElement(r.AutoForm,this.state)},n}(e.Component);t.AutoFormContainer=l}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(69);t.default=new a.default("Avatar","A small image that combines a users profile picture and their progression tier.",[e.createElement(i.Avatar,{displayName:"Last-Place Larry",thumbnailUrl:"https://kaggle2.blob.core.windows.net/avatars/images/46426-gr.jpg",tier:"novice",userUrl:"https://www.kaggle.com/lastplacelarry",width:30})],'<Avatar\n    displayName="Last-Place Larry"\n    thumbnailUrl="https://kaggle2.blob.core.windows.net/avatars/images/46426-gr.jpg"\n    tier="novice"\n    userUrl="https://www.kaggle.com/lastplacelarry"\n    width={30} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(166);t.default=new a.default("Badge","A component used to quickly convey information (i.e status).",[e.createElement(i.Badge,{text:"Failed",option:"danger"}),e.createElement(i.Badge,{text:"Featured",option:"info"}),e.createElement(i.Badge,{text:"Hidden",option:"info"})],'<Badge text="Failed" option="danger" />\n<Badge text="Featured" option="info" />\n<Badge text="Hidden" option="info" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(167);t.default=new a.default("Banner","A component for displaying introductory or important information. Usually at the top of a page.",[e.createElement(i.Banner,{title:"Kaggle Rankings",bannerImageClassName:"leaderboards__banner-image"})],'<Banner \n    title="Kaggle Rankings"\n    bannerImageClassName="leaderboards__banner-image" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(38);t.default=new a.default("BlockLink","A block-like link that is handy for listings and such. Children require styling.",[e.createElement(i.BlockLink,{href:"#"},"BlockLink content here")],'<BlockLink href="#">\n    BlockLink content here\n</BlockLink>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(46);t.default=new a.default("ButtonAutoWidth","A button that does not have a fixed width, but rather fits the text it is given.",[e.createElement(i.ButtonAutoWidth,{text:"Automagical width you say?"})],'<ButtonAutoWidth text="Automagical width you say?" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(110);t.default=new a.default("ButtonRoundEdged","A button that has rounded edges... Bet you weren't expecting that.",[e.createElement(i.ButtonRoundEdged,{text:"Round Edges FTW"})],'<ButtonRoundEdged text="Round Edges FTW" />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(81);t.default=new a.default("Button","A beautiful button to meet your clicky needs.",[e.createElement(i.Button,{text:"Test Button"}),e.createElement(i.Button,{text:"Disabled Button!",isDisabled:!0})],'<Button text="Test Button" />\n<Button text= "Disabled Button!" isDisabled />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(111);t.default=new a.default("Checkbox","A standard checkbox used for admin and content owners/editors",[e.createElement(i.Checkbox,{isChecked:!0,text:"Is published?",isEditable:!0,textIsClickable:!0,onChange:function(){}}),e.createElement(i.Checkbox,{isChecked:!1,text:"Is featured?",isEditable:!1,textIsClickable:!1,onChange:function(){}})],'<Checkbox\n    isChecked={true}\n    text="Is published?"\n    isEditable={true}\n    textIsClickable={true}\n    onChange={() => {}} />\n<Checkbox\n    isChecked={false}\n    text="Is featured?"\n    isEditable={false}\n    textIsClickable={false}\n    onChange={() => {}} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(419);t.default=new a.default("Checklist","Checklist component for lists of actions",[e.createElement(i.Checklist,{children:[{ok:!1,message:"Needs a deadline",url:"/competitions",tips:["Set a date"]},{ok:!1,message:"Needs a stamp of approval",url:"/datasets",tips:["Stamp here"]},{ok:!0,message:"Needs a start date"}],okHeader:"Everything looks good here!",notOkHeader:"Fill out the rest of the items!"}),e.createElement(i.Checklist,{okHeader:"Everything looks good here!",notOkHeader:"Fill out the rest of the items!"},[{ok:!0,message:"Needs a deadline"},{ok:!0,message:"Needs a stamp of approval"},{ok:!0,message:"Needs a start date"}])],'<ChecklistContentBox\n    title="Checklist"\n    children={[\n        { ok: false, message: "Needs a deadline", url: "/competitions", tips: ["Set a date"] },\n        { ok: false, message: "Needs a stamp of approval", url: "/datasets", tips: ["Stamp here"] },\n        { ok: true, message: "Needs a start date" }\n    ]}\n    okHeader={"Everything looks good here!"}\n    notOkHeader={"Fill out the rest of the items!"}\n/>\n\n<ChecklistContentBox\n    title="Checklist"\n    okHeader={"Everything looks good here!"}\n    notOkHeader={"Fill out the rest of the items!"}\n>\n    {[\n        { ok: true, message: "Needs a deadline" },\n        { ok: true, message: "Needs a stamp of approval" },\n        { ok: true, message: "Needs a start date" }\n    ]}\n</ChecklistContentBox>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(212);t.default=new a.default("CityLookup","You guessed it! Look up a city.",[e.createElement(i.CityLookup,{city:"Grand Forks",region:"North Dakota",country:"United States",onChange:function(){return console.log("Changed!")}})],'<CityLookup\n    city="Grand Forks"\n    region="North Dakota"\n    country="United States"\n    onChange={() => console.log("Changed!")} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(213);t.default=new a.default("CodeMirrorEditor","Our code editor, used in Notebooks",[e.createElement("div",{className:"react-components__style-guide-example--overflow"},e.createElement(i.CodeMirrorEditor,{value:"# Python code\nimport this",defaultValue:"",onChange:function(e){},hasFocus:!1,onMouseUp:function(){},options:{mode:"python",scrollbarStyle:"native",indentUnit:4,indentWithTabs:!1,autoCloseBrackets:!0,readOnly:!1,theme:"kaggle"},getAutocomplete:function(){},canMoveUp:function(){return!0},canMoveDown:function(){return!0},onMoveUp:function(){},onMoveDown:function(){},onCtrlEnter:function(){},onShiftEnter:function(){}}))],'<CodeMirrorEditor\n    value={"# Code"}\n    defaultValue={""}\n    onChange={screen => {}}\n    hasFocus={false}\n    onMouseUp={() => {}}\n    options={{\n        mode: "python",\n        scrollbarStyle: "native",\n        indentUnit: 4,\n        indentWithTabs: false,\n        autoCloseBrackets: true,\n        readOnly: false,\n        theme: "kaggle"\n    }}\n    getAutocomplete={() => {}}\n    canMoveUp={() => {return true}}\n    canMoveDown={() => {return true}}\n    onMoveUp={() => {}}\n    onMoveDown={() => {}}\n    onCtrlEnter={() => {}}\n    onShiftEnter={() => {}} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(279);t.default=new a.default("CompetitionCard","A quick glance at a given competition",[e.createElement(i.CompetitionCard,{competition:{competitionDescription:"Just a nonexistent competition",competitionId:123456789,competitionTitle:"Sample competition",competitionUrl:"#",deadline:new Date,hostSegment:"playground",isInClass:!1,isLimited:!1,isPrivate:!0,organizationName:"Some Org",organizationUrl:"#",rewardDisplay:"100000 Kudos",rewardQuantity:1e5,rewardTypeName:"Kudos",thumbnailImageUrl:"https://kaggle2.blob.core.windows.net/avatars/thumbnails/default-thumb.png",totalKernels:999,totalTeams:999,userHasEntered:!1}})],'<CompetitionCard\n    competition={{\n        competitionDescription: "Just a nonexistent competition",\n        competitionId: 123456789,\n        competitionTitle: "Sample competition",\n        competitionUrl: "#",\n        deadline: new Date(),\n        hostSegment: "playground",\n        isInClass: false,\n        isLimited: false,\n        isPrivate: true,\n        organizationName: "Some Org",\n        organizationUrl: "#",\n        rewardDisplay: "Playground",\n        rewardQuantity: 100000,\n        rewardTypeName: "Kudos",\n        thumbnailImageUrl: "https://kaggle2.blob.core.windows.net/avatars/thumbnails/default-thumb.png",\n        totalKernels: 999,\n        totalTeams: 999,\n        userHasEntered: false\n    }} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(1029);t.default=new a.default("Confirm","Displays a confirmation modal. Stateless (State and callbacks are controlled by its parent).",[e.createElement(i.default,null)],'<Confirm\n    isShown={this.state.isShown}\n    title="Are you for real??"\n    children="This is super duper serious, did you really want to click that?"\n    confirmText="Fo sho!"\n    cancelText="I\'m outta here."\n    onConfirm={() => this.handleClick()}\n    onCancel={() => this.handleClick()} />\n\n<ButtonAutoWidth\n    onClick={() => this.handleClick()}\n    text="Click me! I Triple Dog Dare You!" />\n        )\n    }\n}')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(280),s=n(46),o=function(t){function n(e){var n=t.call(this,e)||this;return n.state={isShown:!1},n}return a.__extends(n,t),n.prototype.handleClick=function(){this.setState({isShown:!this.state.isShown})},n.prototype.render=function(){var t=this;return e.createElement("div",null,e.createElement(i.Confirm,{isShown:this.state.isShown,title:"Are you for real??",children:"This is super duper serious, did you really want to click that?",confirmText:"Fo sho!",cancelText:"I'm outta here.",onConfirm:function(){return t.handleClick()},onCancel:function(){return t.handleClick()}}),e.createElement(s.ButtonAutoWidth,{onClick:function(){return t.handleClick()},text:"Click me! I Triple Dog Dare You!"}))},n}(e.Component);t.default=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(420);t.default=new a.default("ConfusedTravolta",'Hides content for feature development. Kaggle admins are always able to override and view work in progress. This component has "devMode" that only hides the work in profess in the production environment. "devMode" is disabled for this example.',[e.createElement(i.ConfusedTravolta,{disableDevMode:!0,title:"Don't look so confused",subtitle:"This will be available soon"},e.createElement("p",null,"I'm a work in progress!"))],'<ConfusedTravolta\n    disableDevMode={true}\n    title="Don\'t look so confused"\n    subtitle="This will be available soon">\n\n    <p>I\'m a work in progress!</p>\n</ConfusedTravolta>}')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(7);t.default=new a.default("ContentBox","Typical, Collapsible, and Checklist containing element for much of the content on the site.",[e.createElement(i.ContentBox,{children:e.createElement("p",null,"Content!"),title:"Title",titleHref:"#",titleBarRightSide:"Right side"}),e.createElement(i.CollapsibleContentBox,{children:e.createElement("p",null,"Content!"),initiallyCollapsed:!0,title:"Title",titleBarRightSide:"Right side"})],'<ContentBox\n    children={<p>Content!</p>}\n    title="Title"\n    titleHref="#"\n    titleBarRightSide="Right side" \n/>\n<CollapsibleContentBox\n    children={<p>Content!</p>}\n    initiallyCollapsed={true}\n    title="Title"\n    titleBarRightSide="Right side" \n/>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(44),s=function(t){function n(e){var n=t.call(this,e)||this;return n.state={msRemaining:n.getMsRemaining()},n.timer=window.setInterval(function(){var e=n.getMsRemaining();e<=0&&(window.clearInterval(n.timer),n.props.onBlastoff&&n.props.onBlastoff()),n.setState({msRemaining:e})},1e3),n}return a.__extends(n,t),n.prototype.getMsRemaining=function(){return new Date(this.props.time).getTime()-(new Date).getTime()},n.prototype.render=function(){var t=i.duration(this.state.msRemaining);return e.createElement("span",null,(t.hours()?t.hours()+" hours, ":"")+(t.hours()||t.minutes()?t.minutes()+" minutes, and ":"")+" "+t.seconds()+" seconds")},n}(e.Component);t.Countdown=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(6);t.default=new a.default("Current","Get current information regarding the user or environment.",[e.createElement("p",null,"Display Name: "+i.Current.userDisplayName),e.createElement("p",null,"isAdmin: "+i.Current.isAdmin)],"<p>Display Name: {Current.userDisplayName}<p>\n<p>isAdmin: {Current.isAdmin}<p>")}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function a(t,n){return r.__awaiter(this,void 0,void 0,function(){var a,i;return r.__generator(this,function(s){switch(s.label){case 0:return[4,e(o(n,t.sourceType,t.sourceId),{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({sourceId:t.Id}),credentials:"include"})];case 1:return a=s.sent(),403!==a.status?[3,3]:[4,a.json()];case 2:return i=s.sent(),l.PageMessages.error(i[0].error,{clear:!0}),[3,4];case 3:return[2,a.json()];case 4:return[2]}})})}function i(t,n){return r.__awaiter(this,void 0,void 0,function(){var a;return r.__generator(this,function(i){switch(i.label){case 0:return[4,e(o(n,t.sourceType||"dataset",t.sourceId),{method:"DELETE",headers:new Headers({"Content-Type":"application/json"}),credentials:"include"})];case 1:return a=i.sent(),[2,a.json()]}})})}function s(t){return r.__awaiter(this,void 0,void 0,function(){var n,a;return r.__generator(this,function(i){switch(i.label){case 0:return n=function(e){return t.filter(function(t){return t.sourceType.toLowerCase()===e}).map(function(e){return e.sourceId}).join(", ")},[4,e("/kernels/source-previews.json?datasetVersionIds="+n("dataset")+"&scriptVersionIds="+n("script")+"&competitionIds="+n("competition"),{method:"GET",headers:new Headers({"Content-Type":"application/json"}),credentials:"include"})];case 1:return a=i.sent(),[2,a.json()]}})})}function o(e,t,n){return"/kernels/"+e+"/sources/"+t+"/"+n}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),l=n(5);t.addDataSource=a,t.removeDataSource=i,t.getDataSources=s}).call(t,n(32))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(281),s=n(44);t.default=new a.default("DateTimePicker","A date and time picker because c'mon, we totally need one.",[e.createElement(i.DateTimePicker,{isValidDate:function(e){return e.isAfter(s.utc().subtract(1,"day"))},value:s.utc().toDate(),onChange:function(e){return console.log(e.toString())}})],'<DateTimePicker\n    isValidDate={current => current.isAfter(moment.utc().subtract(1, "day"))}\n    value={moment.utc().toDate()}\n    onChange={(time) => console.log(time.toString())}\n/>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=n(423),o=n(424),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this,r=this.props.comments?this.props.comments.reduce(function(e,t){return e+t.replies.length+1},0):0;return e.createElement("div",{className:"comment-list"},e.createElement(i.MediaQuery,{minWidth:0,maxWidth:i.Breakpoints.tabletMax},e.createElement(i.OffCanvasContainer,{closeButtonCallback:function(){return t.props.toggleSortPane()},shouldShowOffCanvas:this.props.showSortPane,shouldUseCloseButton:!0,shouldUseRightSide:!0},e.createElement("div",{className:"comment-list__sort-pane"},this.props.showKernelFilter?e.createElement(i.SelectBox,{className:"comment-list__kernel-filter",onChange:this.props.kernelFilterChanged,options:n.kernelCommentFilters,searchable:!1,value:this.props.kernelFilter}):null,e.createElement("span",{className:"comment-list__sortby-label"},"Sort by"),e.createElement(i.SelectBox,{onChange:this.props.sortChanged,options:n.commentSorts,searchable:!1,value:this.props.sort})))),e.createElement("div",{className:"comment-list__header"},e.createElement("span",{className:"comment-list__title"},"Comments ",e.createElement("span",{className:"comment-list__title-count"},"(",r,")")),e.createElement("span",{className:"comment-list__spacer"}),e.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopMin},e.createElement("div",{className:"comment-list__sort-pane-button"},this.props.showKernelFilter?e.createElement(i.SelectBox,{onChange:this.props.kernelFilterChanged,options:n.kernelCommentFilters,searchable:!1,value:this.props.kernelFilter}):null,e.createElement("span",{className:"comment-list__sortby-label"},"Sort by"),e.createElement(i.SelectBox,{onChange:this.props.sortChanged,options:n.commentSorts,searchable:!1,value:this.props.sort}))),e.createElement(i.MediaQuery,{minWidth:0,maxWidth:i.Breakpoints.tabletMax},e.createElement("span",{className:"comment-list__sort-pane-button",onClick:function(){return t.props.toggleSortPane()}},"Filter/sort ",e.createElement("i",{className:"fa fa-angle-right"})))),this.props.allowReplies?i.Current.isAnonymous?[e.createElement("div",{className:"comment-list__login-warning"},"Please ",e.createElement("a",{className:"comment-list__link",href:"/account/login?ReturnUrl=${this.props.returnUrl}"},"sign in")," to leave a comment."),e.createElement("div",{className:"comment-list__comment-linking-spacer"})]:[e.createElement("div",{id:"topic-reply"},e.createElement(o.NewCommentContainer,{allowAttachments:this.props.allowAttachments,currentUserTier:this.props.currentUserTier,editAttachments:this.props.replyAttachments,editAttachmentAdded:this.props.replyAttachmentAdded,editAttachmentDeleted:this.props.replyAttachmentDeleted,editDraft:this.props.replyDraft,editDraftChanged:this.props.replyDraftChanged,editSubmitted:this.props.replySubmitted,isSubmitting:this.props.isSubmittingReply,showEditPreview:this.props.showReplyPreview,showMiniEditor:this.props.showMiniEditor,toggleEditPreview:this.props.toggleReplyPreview,openMiniEditor:this.props.openMiniEditor})),e.createElement("div",{className:"comment-list__comment-linking-spacer"})]:null,this.props.comments?this.props.comments.map(function(n){return[e.createElement(s.CommentContainer,a.__assign({},n,{allowAttachments:t.props.allowAttachments,allowReplies:t.props.allowReplies&&!i.Current.isAnonymous,canDownvote:t.props.canDownvote,currentUserTier:t.props.currentUserTier,key:n.id,replySubmitted:t.props.commentReplySubmitted})),e.createElement("div",{className:"comment-list__comment-linking-spacer"})]}):null)},n}(e.Component);r.commentSorts=[{label:"Hotness",value:"hot"},{label:"Most Votes",value:"top"},{label:"Newest",value:"new"},{label:"Oldest",value:"old"},{label:"Chronological",value:"chronological"}],r.kernelCommentFilters=[{label:"All Comments",value:"all"},{label:"Latest Version Comments",value:"version"}],t.CommentList=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(1039),s=n(1040),o=n(1038),r=function(e){e.isNew,e.topicSubmitted,e.allowAttachments,e.authorRanking,e.authorTier,e.authorType,e.forumId,e.parentName,e.parentUrl,e.topicId;return a.__rest(e,["isNew","topicSubmitted","allowAttachments","authorRanking","authorTier","authorType","forumId","parentName","parentUrl","topicId"])},l=function(e){e.isNew,e.isSitewide,e.onTopicClicked,e.canDownvote,e.id,e.initialTopics,e.isRootLevel,e.isSubscribed,e.paramValues,e.topicId,e.dataUrl;return a.__rest(e,["isNew","isSitewide","onTopicClicked","canDownvote","id","initialTopics","isRootLevel","isSubscribed","paramValues","topicId","dataUrl"])},c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.topicId,c=t.isNew;return n?e.createElement(s.TopicContainer,{topicId:this.props.topicId}):c?e.createElement(i.NewTopicContainer,a.__assign({},l(this.props))):e.createElement(o.TopicList,a.__assign({},r(this.props)))},n}(e.Component);t.Forum=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(5),o=n(8),r=function(t){function n(e){var n=t.call(this,e)||this;return s.PageMessages.clear(),n.state={isSubscribed:e.isSubscribed,totalRows:0},n}return i.__extends(n,t),n.prototype.render=function(){return e.createElement(s.SmartListContainer,{dataPathToList:"topics",dataUrl:this.props.dataUrl,filtersOptions:this.getFiltersOptions(),groups:n.groups,itemRenderer:this.renderItem.bind(this),mobileSortUpperBound:s.Breakpoints.tabletMax,pluralItemDescription:"topics",sortOptions:n.sortOptions,titleResolver:this.renderTitle.bind(this),data:this.props.initialTopics,values:this.props.paramValues,searchIndex:"topics",searchableGroups:["all","owned"]})},n.prototype.getFiltersOptions=function(){var e=[{default:this.props.isSitewide?"topics":"all",parameter:"kind",options:[{label:"Topics & Kernels",value:"all"},{label:"Topics",value:"topics"}]}];return this.props.isRootLevel&&e.unshift({default:"all",parameter:"category",options:[{label:"All Categories",value:"all"},{label:"Forums",value:"forums"},{label:"Competitions",value:"competitions"},{label:"Datasets",value:"datasets"}]}),e},n.prototype.renderItem=function(t){var n=this;return e.createElement(s.BlockLink,{borderless:!0,className:o("topic-list-item",t.isSticky?"topic-list-item--sticky":null),href:t.topicUrl,key:t.topicUrl,onClick:function(e){t.isKernel||e.shiftKey||e.ctrlKey||e.metaKey||(e.preventDefault(),n.props.onTopicClicked(t))}},e.createElement(s.VoteButton,{canDownvote:t.userAvatar.id!=s.Current.userId&&this.props.canDownvote,canUpvote:t.userAvatar.id!=s.Current.userId,hasAlreadyVotedDown:-1===t.currentUserVote,hasAlreadyVotedUp:1===t.currentUserVote,totalVotes:t.votes,voteDownUrl:t.downvoteUrl,voteUpUrl:t.upvoteUrl,upVoteIntercomEventName:"forum_vote",downVoteIntercomEventName:"forum_vote"}),e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},e.createElement("div",{className:"topic-list-item__avatar"},e.createElement(s.Avatar,i.__assign({},t.userAvatar,{hideTooltop:!0})))),e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},t.isKernel?e.createElement("a",{className:"fa fa-bar-chart topic-list-item__kernel-link",href:t.kernelUrl,title:t.title}):t.medal?e.createElement("img",{className:"topic-list-item__medal",src:"/static/images/medals/discussion/"+t.medal+"L@1x.png",title:t.medal}):e.createElement("span",{className:"topic-list-item__medal"})),e.createElement("div",{className:"topic-list-item__title",onClick:function(e){t.isKernel||e.shiftKey||e.ctrlKey||e.metaKey||(e.preventDefault(),n.props.onTopicClicked(t))}},t.title,e.createElement("div",{className:"topic-list-item__subtitle"},t.isKernel?"last run":"posted"," ",t.postDate?e.createElement(s.TimeAgo,{time:t.postDate}):null,e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},e.createElement("span",null," by ",e.createElement("a",{className:"topic-list-item__link"+("parent"==t.authorType?" topic-list-item__link--parent-author":""),href:t.userAvatar.userUrl,title:t.userAvatar.displayName},t.userAvatar.displayName),t.parentName&&t.parentUrl&&"/"!==t.parentUrl?e.createElement("span",null," in ",e.createElement("a",{className:"topic-list-item__link",href:t.parentUrl,title:t.parentName},t.parentName)):null)))),e.createElement("div",{className:"topic-list-item__last-comment"},e.createElement("div",{className:"topic-list-item__last-comment-text"},"last comment",e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},e.createElement("span",null," by"))),e.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},e.createElement("a",{className:"topic-list-item__link topic-list-item__last-commenter",href:t.lastCommenterUrl,title:t.lastCommenterName},t.lastCommenterName," ")),e.createElement("div",{className:"topic-list-item__last-comment-time"},t.lastCommentPostDate?e.createElement(s.TimeAgo,{time:t.lastCommentPostDate}):null)),e.createElement("a",{className:"topic-list-item__comment-count",href:t.topicUrl},e.createElement("span",{className:"fa fa-comment topic-list-item__comment-count-icon"}),t.commentCount))},n.prototype.renderTitle=function(t,n){var i=this;return e.createElement("span",null,(n&&n.data&&void 0!==n.data.totalRows?s.numberWithCommas(n.data.totalRows):"Loading")+("all"===n.values.kind?" topics and kernels":" topics"),this.props.id?this.state.isSubscribed?e.createElement("a",{className:"topic-list__subscribe-link",onClick:function(){return a.ajax("/forums/watches/stop?forumId="+i.props.id).done(function(){return i.setState({isSubscribed:!1})})},title:"(Unsubscribe)"},"(Unsubscribe)"):e.createElement("a",{className:"topic-list__subscribe-link",onClick:function(){return a.ajax("/forums/watches/start?forumId="+i.props.id).done(function(){return i.setState({isSubscribed:!0})})},title:"(Subscribe)"},"(Subscribe)"):null)},n}(e.Component);r.groups=[{label:"All",value:"all"},{label:"Mine",value:"owned"},{separator:!0},{label:"Upvoted",value:"upvoted"}],r.sortOptions=[{label:"Hotness",value:"hot"},{label:"Recent Comments",value:"recent"},{label:"Recently Posted",value:"new"},{label:"Most Votes",value:"top"},{label:"Most Comments",value:"active"},{label:"Relevance",value:"relevance"}],t.TopicList=r}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(5),r=n(425),l=function(t){function n(e){var n=t.call(this,e)||this;return n.markdownConverter=a.getSanitizingConverter(),o.Current.isAnonymous&&(window.location.href="/account/login"),n.state={editDraft:"",editTitleDraft:"",isSubmittingEdit:!1,newAttachments:[],showEditPreview:!1},n}return s.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement(r.Topic,{allowAttachments:this.props.allowAttachments,attachmentAdded:function(e,n,a){return t.addAttachment(e,n,a)},attachmentDeleted:function(e){return t.deleteAttachment(e)},comment:{allowReplies:!1,attachments:[],authorType:this.props.authorType,author:{displayName:o.Current.userDisplayName,thumbnailUrl:o.Current.userThumbnailUrl,userUrl:o.Current.userProfileUrl,tier:this.props.authorTier},competitionRanking:this.props.authorRanking},editDraft:this.state.editDraft,editDraftChanged:function(e){return t.changeEditDraft(e)},editSubmitted:function(){return t.submitTopic()},editTitleDraft:this.state.editTitleDraft,editTitleDraftChanged:function(e){return t.changeEditTitleDraft(e)},isSubmittingEdit:this.state.isSubmittingEdit,isNew:!0,newAttachments:this.state.newAttachments,parentName:this.props.parentName,parentUrl:this.props.parentUrl,showEditForm:!0,showEditPreview:this.state.showEditPreview,toggleEditPreview:function(){return t.setState({showEditPreview:!t.state.showEditPreview})}})},n.prototype.addAttachment=function(e,t,n){var a=this.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({newAttachments:a})},n.prototype.changeEditDraft=function(e){this.setState({editDraft:e})},n.prototype.changeEditTitleDraft=function(e){this.setState({editTitleDraft:e})},n.prototype.deleteAttachment=function(e){var t=this.state.newAttachments.filter(function(t){return t.name==e})[0],n=this.state.newAttachments.indexOf(t);this.state.newAttachments.splice(n,1),this.setState({newAttachments:this.state.newAttachments})},n.prototype.submitTopic=function(){var e=this;if(this.state.editTitleDraft.length<3||this.state.editTitleDraft.length>255)return void o.PageMessages.error("Title must be between 3 and 255 characters (inclusive)");o.PageMessages.clear(),this.setState({isSubmittingEdit:!0},function(){return i.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:e.state.newAttachments.map(function(e){return e.blobToken}),subject:e.state.editTitleDraft,content:e.markdownConverter.makeHtml(e.state.editDraft),rawMarkdown:e.state.editDraft}),type:"POST",url:"/forums/"+e.props.forumId+"/topics"}).done(function(t){e.setState({isSubmittingEdit:!1}),e.props.topicSubmitted(t)})})},n}(e.Component);t.NewTopicContainer=l}).call(t,n(0),n(78),n(3))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(657),r=n(5),l=n(425),c=function(t){function n(e){var n=t.call(this,e)||this;return n.markdownConverter=a.getSanitizingConverter(),r.PageMessages.clear(),n.state={attachmentAdded:function(e,t,a){return n.addAttachment(e,t,a)},attachmentDeleted:function(e){return n.deleteAttachment(e)},dataLoaded:!1,editDraftChanged:function(e){return n.changeEditDraft(e)},editSubmitted:function(){return n.submitEdit()},editTitleDraftChanged:function(e){return n.changeEditTitleDraft(e)},flagFormClosed:function(){return n.setState({showFlagForm:!1})},flagged:function(){return i.post("/forums/messages/flag?forumMessageId="+n.state.comment.id).done(function(){return n.setState(i.extend(!0,{},n.state,{comment:{hasFlags:!0,isFlagged:!0},showFlagForm:!1}))})},isNew:!1,isSubmittingReply:!1,newAttachments:[],quoted:function(){return n.quoted()},replyAttachmentAdded:function(e,t,a){return n.addReplyAttachment(e,t,a)},replyAttachmentDeleted:function(e){return n.deleteReplyAttachment(e)},replyAttachments:[],replyDraft:"",replyDraftChanged:function(e){return n.changeReplyDraft(e)},replySubmitted:function(e){return n.submitReply(e)},showEditForm:!1,showEditPreview:!1,showFlagForm:!1,showOptions:!1,showUpvoters:!1,toggleEditPreview:function(){return n.setState({showEditPreview:!n.state.showEditPreview})}},n}return s.__extends(n,t),n.prototype.componentWillMount=function(){this.loadData(this.props.topicId)},n.prototype.componentWillReceiveProps=function(e){e.topicId&&e.topicId!=this.props.topicId&&this.loadData(e.topicId)},n.prototype.render=function(){return this.state.dataLoaded?e.createElement(l.Topic,i.extend(!0,{},this.props,this.state,{comment:{leftOptions:this.leftOptions(),rightOptions:this.rightOptions(),titleOptions:this.titleOptions()}})):e.createElement(r.LoadingText,{isLoading:!this.state.dataLoaded,text:"Loading Topic"})},n.prototype.addAttachment=function(e,t,n){var a=this.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({newAttachments:a})},n.prototype.addReplyAttachment=function(e,t,n){var a=this.state.replyAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({replyAttachments:a})},n.prototype.changeEditDraft=function(e){this.setState({editDraft:e})},n.prototype.changeEditTitleDraft=function(e){this.setState({editTitleDraft:e})},n.prototype.changeReplyDraft=function(e){this.setState({replyDraft:e})},n.prototype.deleteAttachment=function(e){var t=this,n=this.state.newAttachments.filter(function(t){return t.name==e})[0],a=this.state.newAttachments.indexOf(n);if(-1!==a)return this.state.newAttachments.splice(a,1),void this.setState({newAttachments:this.state.newAttachments});n=this.state.comment.attachments.filter(function(t){return t.name==e})[0],a=this.state.comment.attachments.indexOf(n),this.state.comment.attachments.splice(a,1),i.ajax("/forums/attachments/delete/"+n.id,{contentType:"application/json",type:"POST"}).done(function(){return t.setState({comment:i.extend(!0,{},t.state.comment,{attachments:t.state.comment.attachments})})})},n.prototype.deleteReplyAttachment=function(e){var t=this.state.replyAttachments.filter(function(t){return t.name==e})[0],n=this.state.replyAttachments.indexOf(t);this.state.replyAttachments.splice(n,1),this.setState({replyAttachments:this.state.replyAttachments})},n.prototype.leftOptions=function(){var t=this,n=[{onClick:function(){return t.quoted()},text:"Quote"},{text:"Permalink"}];r.Current.isAnonymous||(n.push({onClick:function(){return i.post("/forums/topics/watches/"+(t.state.isSubscribed?"stop":"start")+"?forumTopicId="+t.props.topicId).done(function(){return t.setState({isSubscribed:!t.state.isSubscribed})})},text:this.state.isSubscribed?"Unsubscribe":"Subscribe"}),this.state.comment.isFlagged?n.push({className:"topic__option--disabled",text:"Flagged"}):n.push({onClick:function(){return t.setState({showFlagForm:!0})},text:"Flag"}));var a=this.state.comment.upvoters.length;return a>0&&n.push({className:this.state.showUpvoters?"topic__option--selected":null,onClick:function(){return t.setState({showUpvoters:!t.state.showUpvoters})},text:e.createElement(r.Pluralize,{count:a,word:"Upvoter"})}),n},n.prototype.loadData=function(e){var t=this;i.ajax("/topics/"+e+".json").done(function(e){t.setState(i.extend(!0,{},t.state,e,{dataLoaded:!0,editDraft:e.comment.rawMarkdown||o(e.comment.content)}))})},n.prototype.quoted=function(){for(var e=this.state.replyDraft||"",t="\n> **"+this.state.comment.author.displayName+" wrote**\n> \n> ",n=this.state.comment.rawMarkdown||o(this.state.comment.content),a=n.split("\n"),s=/\s*\[.*?\]:/,r=0;r<a.length;r++){var l=a[r];s.test(l)||(a[r]="> "+l)}this.setState({replyDraft:e+t+a.join("\n")});i("html, body").animate({scrollTop:i("#topic-reply").position().top-100},200)},n.prototype.rightOptions=function(){var e=this,t=[];return r.Current.isAdmin&&(this.state.comment.hasFlags&&t.push({onClick:function(){return i.ajax("/forums/messages/unflag?forumMessageId="+e.state.comment.id,{contentType:"application/json",data:JSON.stringify({forumMessageId:e.state.comment.id}),type:"POST"}).done(function(){return e.setState(i.extend(!0,{},e.state,{comment:{hasFlags:!1,isFlagged:!1}}))})},text:"Unflag"}),t.push({onClick:function(){return i.post("/forums/topics/"+e.props.topicId+"/spam").done(function(){return e.setState({isDeleted:!!e.state.isSpammed&&e.state.isDeleted,isSpammed:!e.state.isSpammed})})},text:this.state.isSpammed?"Unspam":"Spam"},{onClick:function(){return i.post("/forums/topics/"+e.props.topicId+"/delete").done(function(){return e.setState({isDeleted:!e.state.isDeleted,isSpammed:!!e.state.isDeleted&&e.state.isSpammed})})},text:this.state.isDeleted?"Restore":"Delete"},{onClick:function(){return i.ajax("/forums/topics/sticky/toggle?forumTopicId="+e.props.topicId,{contentType:"application/json",type:"POST"}).done(function(){return e.setState({isPinned:!e.state.isPinned})})},text:this.state.isPinned?"Unpin":"Pin"},{onClick:function(){return i.post("/forums/topics/"+e.props.topicId+"/readonly/toggle").done(function(){return e.setState({isLocked:!e.state.isLocked})})},text:this.state.isLocked?"Unlock":"Lock"},{onClick:function(){return i.post("/forums/topics/"+e.props.topicId+"/file-uploads/toggle").done(function(){return e.setState({allowAttachments:!e.state.allowAttachments})})},text:this.state.allowAttachments?"Disable Attachments":"Enable Attachments"})),t},n.prototype.submitEdit=function(){var e=this;if(this.state.editTitleDraft.length<3||this.state.editTitleDraft.length>255)return void r.PageMessages.error("Title must be between 3 and 255 characters (inclusive)");r.PageMessages.clear(),i.ajax({data:{blobFileTokens:this.state.newAttachments.map(function(e){return e.blobToken}),message:this.markdownConverter.makeHtml(this.state.editDraft),rawMarkdown:this.state.editDraft,title:this.state.editTitleDraft},headers:r.withAntiForgeryHeader(),type:"PUT",url:"/messages/"+this.state.comment.id}).done(function(){e.setState(i.extend(!0,{},e.state,{comment:{content:e.markdownConverter.makeHtml(e.state.editDraft),rawMarkdown:e.state.editDraft},showEditForm:!1,showEditPreview:!1,title:e.state.editTitleDraft}))}).fail(function(){r.PageMessages.clear(),r.PageMessages.error({htmlMessage:'We had trouble saving your edit. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})},n.prototype.submitReply=function(e){var t=this;r.PageMessages.clear(),this.setState({isSubmittingReply:!0},function(){return i.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:t.state.replyAttachments.map(function(e){return e.blobToken}),message:t.markdownConverter.makeHtml(t.state.replyDraft),rawMarkdown:t.state.replyDraft}),type:"POST",url:"/topics/"+t.state.id+"/replies"}).done(function(n){t.setState({isSubmittingReply:!1,replyAttachments:[],replyDraft:""},function(){r.PageMessages.clear(),window.Intercom("trackEvent","forum_post"),e(n)})}).fail(function(){t.setState({isSubmittingReply:!1}),r.PageMessages.clear(),r.PageMessages.error({htmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})})},n.prototype.titleOptions=function(){var e=this,t=[];return(r.Current.isAdmin||this.state.comment.isUserAuthor)&&t.push({className:this.state.showEditForm?"topic__author-option--selected":null,onClick:function(){return e.setState({editTitleDraft:e.state.title,showEditForm:!e.state.showEditForm,showEditPreview:!1})},text:"Edit"}),t.push({className:this.state.showOptions?"topic__author-option--selected":null,onClick:function(){return e.setState({showOptions:!e.state.showOptions})},text:"Options"}),t},n}(e.Component);t.TopicContainer=c}).call(t,n(0),n(78),n(3))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1010);t.ActivityCalendar=a.default;var i=n(1016);t.Avatar=i.default;var s=n(1017);t.Badge=s.default;var o=n(1018);t.Banner=o.default;var r=n(1019);t.BlockLink=r.default;var l=n(1022);t.Button=l.default;var c=n(1020);t.ButtonAutoWidth=c.default;var p=n(1021);t.ButtonRoundEdged=p.default;var u=n(1024);t.Checklist=u.default;var d=n(1023);t.Checkbox=d.default;var m=n(1025);t.CityLookup=m.default;var h=n(1026);t.CodeMirrorEditor=h.default;var g=n(1027);t.CompetitionCard=g.default;var f=n(1028);t.Confirm=f.default;var v=n(1030);t.ConfusedTravolta=v.default;var _=n(1031);t.ContentBox=_.default;var b=n(1033);t.Current=b.default;var E=n(1035);t.DateTimePicker=E.default;var y=n(1042);t.EditStateToggleButton=y.default;var C=n(1045);t.FileUploader=C.default;var w=n(1074);t.ToolTipMultiLine=w.default},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(112);t.default=new a.default("EditStateToggleButton","Toggleable button that is good at handling binary state changes.",[e.createElement(i.EditStateToggleButton,{sectionName:"Example",toggleCallback:function(e){return console.log("State changed: "+e)}})],'<EditStateToggleButton\n    sectionName="Example"\n    toggleCallback={(name) => console.log("State changed:" + name)} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=n(1044),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this.props,n=(t.fileListItems,t.fileListKeyBaseName,t.placeholderText,a.__rest(t,["fileListItems","fileListKeyBaseName","placeholderText"]));return e.createElement("div",{className:i("file-list",this.props.compact?"file-list--compact":null)},0==this.props.fileListItems.length&&this.props.placeholderText?e.createElement("div",{className:"file-list__placeholder-text"},this.props.placeholderText):this.props.fileListItems.map(function(t,i){return e.createElement(s.FileListItem,a.__assign({},t,n,{index:i,key:t.name}))}))},n}(e.Component);t.FileList=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(128),s=n(8),o=n(113),r=function(t){function n(e){var n=t.call(this,e)||this;return n.state={previewIsShown:!1},n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",null,e.createElement("div",{className:s("file-list-item",this.props.compact?"file-list-item--compact":this.props.isEditing?"file-list-item--editing":"file-list-item--read-only")},e.createElement("div",{className:s("file-list-item__name-container",this.props.isEditing?"file-list-item__name--editing":"",this.props.compact?"file-list-item__name-container--compact":null)},e.createElement("div",{className:"file-list-item__name"},null==this.props.url?e.createElement("span",null,this.props.compact?e.createElement("span",{className:"fa fa-paperclip"}):null," ",this.props.name," (",i(this.props.totalBytes),") "):e.createElement("a",{className:"file-list-item__link",href:this.props.url,onClick:this.props.downloadCallback||null},this.props.compact?e.createElement("span",{className:"fa fa-paperclip"}):null," ",this.props.name," (",i(this.props.totalBytes),")")),e.createElement("div",null,this.props.canDelete?e.createElement("span",{className:s("file-list-item__delete-link",this.props.compact?"file-list-item__delete-link--compact":null),title:"Delete file from list",onClick:function(){return t.props.deleteCallback(t.props.name)}},"delete"):"",this.props.previewUrl?e.createElement("span",{className:"file-list-item__preview-link",onClick:function(){return t.setState({previewIsShown:!t.state.previewIsShown})}},this.state.previewIsShown?e.createElement("span",null,e.createElement("span",{className:"fa fa-minus-square-o"})," hide preview"):e.createElement("span",null,e.createElement("span",{className:"fa fa-plus-square-o"})," preview")):"")),this.props.fileDescriptionRenderer&&e.createElement("div",{className:"file-list-item__description"},this.props.fileDescriptionRenderer(this.props.description,this.props.index,this.props.isEditing,this.props.textareaPlaceholder,this.props.fileListIndex))),this.state.previewIsShown&&this.props.previewUrl?e.createElement("div",{className:"file-list-item__preview-container"},e.createElement(o.FilePreviewContainer,{showSubmitToCompButton:!1,csvHeaderValidationErrors:"",filePreviewUrl:this.props.previewUrl,fileName:this.props.name,fileType:".csv",fileUrl:this.props.url,size:this.props.totalBytes,submitToCompUrl:"",hideFileName:!0,maxLinesToShow:10,downloadCallback:this.props.downloadCallback})):null)},n}(e.Component);t.FileListItem=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(138);t.default=new a.default("FileUploader","Upload files for the win! Works with single files or multiple files.",[e.createElement("div",{className:"file-uploader__example"},e.createElement(i.FileUploader,{createBlobUrl:"#",mode:"single"})),e.createElement("div",{className:"file-uploader__example"},e.createElement(i.FileUploader,{compact:!0,createBlobUrl:"#",mode:"multiple"}))],'<FileUploader\n    createBlobUrl="#"\n    mode={FileUploaderMode.Single} />\n<FileUploader\n    compact={true}\n    createBlobUrl="#"\n    mode={FileUploaderMode.Multiple} />')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);t.InfoTabBarTab=function(t){var n=t.tab,a=t.active,i=t.handleClick,s="info-tab-bar__tab info-tab-bar__tab--"+n.slug+" "+(a?"info-tab-bar__tab--active":"");return n.redirect&&""!=n.redirect?e.createElement("a",{href:n.redirect,target:"_blank",className:s},n.title):e.createElement("div",{onClick:i,className:s},n.title)},t.InfoTabBarCta=function(t){var n=t.cta,a="button info-tab-bar__cta info-tab-bar__cta--"+n.slug;return n.redirect&&""!=n.redirect?e.createElement("a",{href:n.redirect,target:"_blank",className:a},n.title):e.createElement("div",{className:a},n.title)};var i=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return a.__extends(i,n),i.prototype.render=function(){var n=this;return e.createElement("div",{className:"info-tab-bar-container"},e.createElement("div",{className:"info-tab-bar"},e.createElement("div",{className:"info-tab-bar__tabs"},this.props.tabs.map(function(a,i){return e.createElement(t.InfoTabBarTab,{tab:a,key:a.slug,handleClick:n.props.handleClick.bind(null,a.slug),active:i==n.props.activeTabIndex})})),this.props.cta&&e.createElement(t.InfoTabBarCta,{cta:this.props.cta})))},i}(e.Component);t.InfoTabBar=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(8),o=function(t){function n(e){var n=t.call(this,e)||this;return n.loadCurrentVisibilityState=function(){i.ajax({context:n,type:"POST",url:"/account/get-banner-state",data:{bannerName:n.props.bannerName,showBanner:!n.state.isVisible},success:function(e){n.setState({isVisible:e.showBanner})}})},n.onDismiss=function(){i.ajax({type:"POST",url:"/account/dismiss-banner",data:{bannerName:n.props.bannerName,showBanner:!n.state.isVisible}}),n.setState({isVisible:!n.state.isVisible})},n.state=e,null==n.state.isVisible&&n.loadCurrentVisibilityState(),n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return null==this.state.isVisible?null:e.createElement("div",{className:s("info-toggle",this.state.isVisible?null:"info-toggle--clickable"),onClick:this.state.isVisible?null:function(){return t.onDismiss()}},e.createElement("div",{className:"info-toggle__content"},e.createElement("div",{className:"info-toggle__icon info-toggle__icon--info"}),e.createElement("div",{className:s("info-toggle__icon",this.state.isVisible?"info-toggle__icon--collapse":"info-toggle__icon--expand"),onClick:function(){return t.onDismiss()}}),this.state.isVisible?this.props.expandedContent:this.props.collapsedContent))},n}(e.Component);t.InfoToggle=o}).call(t,n(0))},function(e,t,n){"use strict";function a(e){return/\S+@\S+\.\S+/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEmail=a},function(e,t,n){"use strict";function a(e){return/^(https?):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidUrl=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderJob=function(t){return e.createElement(i.BlockLink,{className:"job-list-item",href:t.url,key:t.id},e.createElement("img",{className:"job-list-item__image",src:t.thumbnailUrl}),e.createElement("div",{className:"job-list-item__body"},e.createElement("span",{className:"job-list-item__title"},t.positionName),e.createElement("span",{className:"job-list-item__subtitle"},t.companyName,t.locations.length?e.createElement("span",{className:"job-list-item__locations"},e.createElement("span",{className:"fa fa-map-marker"}),t.locations.join("; ")):"")),e.createElement("span",{className:"job-list-item__salary"},t.minimumSalary&&t.maximumSalary?"$"+i.numberWithCommas(t.minimumSalary)+"-"+i.numberWithCommas(t.maximumSalary):t.minimumSalary?"$"+i.numberWithCommas(t.minimumSalary)+"+":t.maximumSalary?"$"+i.numberWithCommas(t.maximumSalary):""),e.createElement("div",{className:"job-list-item__metadata"},e.createElement(i.TimeAgo,{className:"job-list-item__post-date",time:t.publishDate}),e.createElement("span",{className:"job-list-item__views"},e.createElement("span",{className:"fa fa-eye"}),t.totalViews)))},n.prototype.render=function(){return e.createElement("div",{className:"jobs"},this.props.data.loading?"Loading":this.props.data.jobs.map(this.renderJob))},n}(e.Component);t.default=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(1050),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){return e.createElement(s.default,a.extend({},this.props,this.state))},n}(e.Component);t.JobListContainer=o}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",null,e.createElement("div",{className:"off-canvas__wrapper"},this.props.shouldShowOffCanvas?e.createElement("div",{className:this.props.shouldUseRightSide?"off-canvas--right":"off-canvas--left"},this.props.children,this.props.shouldUseCloseButton?e.createElement("div",{className:"off-canvas__close-wrapper"},e.createElement("span",{className:"off-canvas__close",onClick:function(){return t.props.closeButtonCallback()}},e.createElement("span",{className:"fa fa-times"}),e.createElement("span",{className:"off-canvas__close-text"},"Close"))):null):null),this.props.shouldShowOffCanvas&&e.createElement("div",{className:"off-canvas__underlay",onClick:function(){return t.props.closeButtonCallback()}}))},n}(e.Component);t.OffCanvas=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getSuffix=function(){var e=this.props.children%10,t=Math.floor(this.props.children%100/10),n="th";return 1===e?n="st":2===e?n="nd":3==e&&(n="rd"),1===t&&(n="th"),n},n.prototype.render=function(){return e.createElement("span",null,this.props.children.toString()+this.getSuffix())},n}(e.Component);t.Ordinal=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(38),s=function(t){function n(e){return t.call(this,e)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.BlockLink,{className:"organization-card",href:this.props.url},e.createElement("img",{src:this.props.imageUrl,alt:this.props.name,className:"organization-card__image"}),e.createElement("span",{className:"organization-card__name"},this.props.name))},n}(e.Component);t.OrganizationCard=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a,i){Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),o=n(8),r=function(t){function n(e){var n=t.call(this,e)||this;return n.scrollListener=function(){n.setState({isStuck:a(window).scrollTop()>=n.offsetTop})},n.state={isStuck:!1},n}return s.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;window.setTimeout(function(){var t=function(){return i.findDOMNode(e).getBoundingClientRect().top+window.scrollY};e.offsetTop=t(),a().ready(function(){return e.offsetTop=t()}),window.addEventListener("scroll",e.scrollListener),e.scrollListener()})},n.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.scrollListener)},n.prototype.render=function(){var t={visibility:"hidden"};return e.createElement("div",null,e.createElement("div",{className:o(this.props.className,this.state.isStuck?this.props.stickyClassName:this.props.scrollingClassName)},this.props.children),this.state.isStuck?e.createElement("div",{className:o(this.props.className,this.props.scrollingClassName),style:t},this.props.children):"")},n}(e.Component);t.StickyScroll=r}).call(t,n(0),n(3),n(109))},function(e,t,n){"use strict";function a(e){if(e.length){for(var t={},n=void 0,a=e.replace(/\?/g,"").split("&"),i=0,s=a;i<s.length;i++){n=s[i].split("="),t[n[0]]=n[1]}return t}return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseQueryString=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("span",{className:this.props.wrapperClassName},this.props.change<0?e.createElement("span",{className:"position-change__fallen"},e.createElement("span",{className:"fa fa-caret-down"})," ",Math.abs(this.props.change)):this.props.change>0?e.createElement("span",{className:"position-change__risen"},e.createElement("span",{className:"fa fa-caret-up"})," ",this.props.change):0==this.props.change?e.createElement("span",{className:"position-change__none"},"—"):e.createElement("span",{className:"position-change__new"},"new"))},n}(e.Component);t.PositionChange=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(50),s=n(99),o=n(168),r=n(62),l=n(215),c=n(114),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderDisplayName=function(){var t=this;return this.props.isEditingHeader&&this.props.canEdit?e.createElement(s.InlineTextEditor,{className:"profile-header__display-name--input",value:this.props.displayName,placeholder:"Enter display name",onChangeCallback:function(e){return t.props.onProfilePropChanged("displayName",e)}}):e.createElement("span",null,this.props.displayName," ",this.props.genieUrl?e.createElement("a",{href:this.props.genieUrl,className:"profile__genie-link"},"Genie!"):null)},n.prototype.renderSocialLinks=function(){var t=this;return this.props.isEditingHeader?e.createElement("ul",{className:"profile__social-links--editing"},e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-github"}),e.createElement(s.InlineTextEditor,{className:"profile__social-link--input",value:this.props.gitHubUserName,placeholder:"GitHub Username",onChangeCallback:function(e){return t.props.onProfilePropChanged("gitHubUserName",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-twitter"}),e.createElement(s.InlineTextEditor,{className:"profile__social-link--input",value:this.props.twitterUserName,placeholder:"Twitter Username",onChangeCallback:function(e){return t.props.onProfilePropChanged("twitterUserName",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-linkedin"}),e.createElement(s.InlineTextEditor,{className:"profile__social-link--input",value:this.props.linkedInUrl,placeholder:"LinkedIn URL",onChangeCallback:function(e){return t.props.onProfilePropChanged("linkedInUrl",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-globe"}),e.createElement(s.InlineTextEditor,{className:"profile__social-link--input",value:this.props.websiteUrl,placeholder:"Website URL",onChangeCallback:function(e){return t.props.onProfilePropChanged("websiteUrl",e)}}))):e.createElement("ul",{className:"profile__social-links"},this.props.gitHubUserName&&this.props.gitHubUserName.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:"https://github.com/"+this.props.gitHubUserName,rel:"nofollow"},e.createElement("span",{className:"fa fa-github"}))):null,this.props.twitterUserName&&this.props.twitterUserName.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:"https://twitter.com/"+this.props.twitterUserName,rel:"nofollow"},e.createElement("span",{className:"fa fa-twitter"}))):null,this.props.linkedInUrl&&this.props.linkedInUrl.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:this.props.linkedInUrl,rel:"nofollow"},e.createElement("span",{className:"fa fa-linkedin"}))):null,this.props.websiteUrl&&this.props.websiteUrl.length&&!this.props.hideWebsiteUrl?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:this.props.websiteUrl,className:"profile__social-link--url",rel:"nofollow"},this.props.websiteUrl)):null)},n.prototype.renderAvatarOverlay=function(){var t=e.createElement(l.ImageUploader,{title:"Upload Organization Profile Image",imageSettings:[new l.ImageSetting("profile image","Select an area of the image to use for this organization's profile",new l.Size(200,200),new l.Rectangle(new l.Point(0,0),new l.Size(0,0)))],originalImageUrl:null,containerSize:new l.Size(500,300),selectorBorderWidth:1,onCancel:this.props.onCloseImageUploader,onUpdateImages:this.props.onUpdateImages,hiResScale:2}),n=e.createElement(c.Modal,{buttonClassName:"pageheader__imageuploaderbutton",modalClassName:"pageheader__imageuploadermodal",modalContent:t,modalIsShown:this.props.isEditingImage,onShow:this.props.onOpenImageUploader,onClose:this.props.onCloseImageUploader});return e.createElement("div",{className:"profile__avatar-overlay"},n,e.createElement("p",{className:"profile__avatar-text",onClick:this.props.onOpenImageUploader},"Change Organization Profile Photo"))},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"profile-header"},e.createElement("div",{className:"profile-header__header--"+this.props.modifier},e.createElement(i.PageHeader,null,e.createElement(i.PageHeaderTopRow,{modifier:"profile",title:this.renderDisplayName(),subtitle:"",isEditingHeaderInfo:this.props.isEditingHeader,canEdit:this.props.canEdit,titleUrl:null},e.createElement(i.PageHeaderThumbnail,{classNameElement:"avatar",classNameModifier:"profile",imageUrl:this.props.avatarUrl,targetUrl:"",thumbnailOverlay:this.props.isEditingHeader?this.renderAvatarOverlay():null}),e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.tabletMax},e.createElement("div",{className:"profile-header__right-thumbnail profile-header__right-thumbnail--"+this.props.modifier},e.createElement("a",{href:this.props.rightThumbnailLinkUrl},e.createElement("p",null,e.createElement("img",{src:this.props.rightThumbnailUrl,height:"92px",width:"92px"})),e.createElement("p",null,this.props.rightThumbnailLabel)))),e.createElement("div",{className:"profile-header__metadata"},this.props.children),this.renderSocialLinks()))),e.createElement("div",{className:"profile__wrapper"},e.createElement(i.PageHeaderBottomRow,null,e.createElement(o.OverflowX,null,e.createElement(i.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"profile",menuLinks:this.props.menuLinks,changeActiveTab:function(e){return t.props.onProfileTabChanged(e)}}),e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},this.props.canEdit?this.props.renderAdminCallToAction():null)))))},n}(e.Component);t.ProfileHeader=p}).call(t,n(0))},function(e,t,n){"use strict";function a(e){var n=localStorage.getItem(t.LOCAL_TASK_KEY)!==e;return n&&localStorage.setItem(t.LOCAL_TASK_KEY,e),n}function i(e){var n=(r().filter(t.taskFilters.isNot(e)),r().concat([e]));return a(JSON.stringify(n.filter(t.taskFilters.isValid)))}function s(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=r().filter(t.taskFilters.isNotIn(e));return a(JSON.stringify(i))}function o(e){var n=r().filter(t.taskFilters.notContext(e));return a(JSON.stringify(n))}function r(e){void 0===e&&(e=null);var n=localStorage.getItem(t.LOCAL_TASK_KEY),a=n&&n.length?JSON.parse(n):[];return p(Array.isArray(a),"Tasks should deserialize to an array"),a=a.filter(t.taskFilters.isValid),e&&(a=a.filter(t.taskFilters.hasEntityName(e.entityName)),a=a.filter(t.taskFilters.hasEntityId(e.entityId)),e.type&&(a=a.filter(t.taskFilters.hasType(e.type)))),a}function l(e){var t=r(e),n=t.reverse(),a=n[0],i=n.slice(1);return i.length&&s.apply(void 0,i),c.__assign({processing:!1},a)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),p=n(29);t.EMPTY_GUID="00000000-0000-0000-0000-000000000000",t.LOCAL_TASK_KEY="background_tasks",t.taskFilters={isValid:function(e){return e.taskId!==t.EMPTY_GUID},isNot:function(e){return function(t){return t!==e}},isNotIn:function(e){return function(t){return e.every(function(e){return t.taskId!==e.taskId})}},hasType:function(e){return function(t){return t.context.type===e}},notType:function(e){return function(t){return t.context.type!==e}},notContext:function(e){return function(t){return t.context.type!==e.type||t.context.entityId!==e.entityId||t.context.entityName!==e.entityName}},hasEntityId:function(e){return function(t){return t.context.entityId===e}},hasEntityName:function(e){return function(t){return t.context.entityName===e}}},t.ifChangedSet=a,t.setLocalTask=i,t.removeLocalTasks=s,t.removeLocalTaskContext=o,t.getLocalTasks=r,t.getAndTrimLocalTask=l,t.pendingContext={entityId:-1,entityName:null,type:"generic"},t.pendingTask={taskId:t.EMPTY_GUID,id:-1,name:"Pending",source:null,context:t.pendingContext,processing:!1,pending:!0},t.pendingStep={name:"Connecting",ordinal:0,count:1,projection:null,weight:null,totalWeight:null},t.pendingSegment={name:"Pending",ordinal:0,count:1,step:t.pendingStep},t.pendingStatus={isPending:!0,pendingTimeSpan:null,startTime:null,queueTime:null,resolveTime:null,rejectTime:null,cancelTime:null,endTime:null,hasCancelled:!1,hasEnded:!1,hasQueued:!1,hasResolved:!1,hasRejected:!1,hasStarted:!1,error:null,stackTrace:null},t.pendingTaskProgress={definition:t.pendingTask,status:t.pendingStatus,segment:t.pendingSegment,segments:[],memo:null,projection:null}},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleKeyDown=function(t){if(27==t.keyCode&&e.props.onClose(),38==t.keyCode&&e.props.onSelectionMove(-1),40==t.keyCode&&e.props.onSelectionMove(1),13==t.keyCode){var n=document.getElementById("search-result-"+e.props.selectedItemIndex);n&&n.click()}},e.handleMouseUp=function(t){var n=a(".quick-search");n.is(t.target)||0!==n.has(t.target).length||e.props.onClose()},e.handleChange=function(t){e.props.onChange(t.target.value)},e.handleMouseOver=function(t){e.props.onIndexSelection(t)},e.handleClickResult=function(t,n){e.props.onIndexSelection(n);var a=e.props.response.results[n];e.props.onClickResult(a.key,a.url,a.rank)},e}return i.__extends(n,t),n.prototype.componentDidMount=function(){a(document.body).on("keydown",this.handleKeyDown),a(document.body).on("mouseup",this.handleMouseUp)},n.prototype.componentWillUnmount=function(){a(document.body).off("keydown",this.handleKeyDown),a(document.body).off("mouseup",this.handleMouseUp)},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"quick-search "+(this.props.isOnMobileMenu&&"quick-search--mobile-menu")+" "+(this.props.className||"")+" "+(!this.props.isClosed&&"quick-search--open")+" "+(this.props.isSearching&&"quick-search--searching")},e.createElement("div",{className:"quick-search__search-box-container"},e.createElement("input",{className:"quick-search__search-box",type:"text",placeholder:this.props.placeholder||"Search",onChange:this.handleChange,tabIndex:this.props.isSiteSearch?1:null,autoFocus:this.props.isSiteSearch&&!this.props.suppressAutoFocus}),e.createElement("div",{className:"quick-search__button",onClick:function(){return t.props.onSearch()}},e.createElement("i",{className:"fa "+(this.props.isSearching?"fa-circle-o-notch fa-spin":"fa-search")}))),this.props.isClosed?null:e.createElement("div",{className:"quick-search__results "+(this.props.rightJustifyResults?"quick-search__results--right":"")},this.props.response&&this.props.response.results&&this.props.response.results.length>0?this.props.response.results.map(function(n,a){return e.createElement("a",{id:"search-result-"+a,className:"quick-search__result "+(t.props.selectedItemIndex==a?"quick-search__result--selected":""),href:n.url,key:n.key,onClick:function(e){return t.handleClickResult(e,a)},onMouseOver:function(){return t.handleMouseOver(a)}},e.createElement("img",{className:"quick-search__result-thumbnail",src:n.thumbnailImageUrl}),e.createElement("div",{className:"quick-search__result-content"},e.createElement("div",{className:"quick-search__result-title"},n.title),e.createElement("div",{className:"quick-search__result-overview"},t.props.isSiteSearch?e.createElement("span",{className:"quick-search__result-type"},n.documentType):null,t.props.isSiteSearch&&n.subtitle?e.createElement("span",null," - "):null,n.subtitle?e.createElement("span",null,n.subtitle):null)))}):e.createElement("div",{className:"quick-search__not-found"},"We couldn't find anything matching your search.")))},n}(e.Component);t.QuickSearch=s}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(1060),o=function(t){function n(e){var n=t.call(this,e)||this;return n.handleChange=function(e){if(n.qTextBox=e,""===n.qTextBox.trim())return n.setState({isSearching:!1}),void n.handleClose();n.timer&&clearInterval(n.timer),n.timer=window.setTimeout(function(){return n.executeSearch(n.qTextBox)},200)},n.handleClose=function(){n.state.isClosed||(n.setState({isClosed:!0}),n.logSearchAction())},n.handleSearch=function(){n.executeSearch(n.qTextBox)},n.executeSearch=function(e){if(n.setState({isSearching:!0}),n.timer&&clearInterval(n.timer),!n.qTextBox||!n.qTextBox.trim())return void n.setState({isSearching:!1});i.ajax({url:"/search/quick/"+n.props.index,type:"POST",data:{q:e}}).done(function(t){n.qTextBox===e&&(n.qResults=e,n.setState({isClosed:!1,isSearching:!1,response:t}))})},n.handleClickResult=function(e,t,a){n.logSearchAction(e,t,a)},n.handleSelectionMove=function(e){if(n.state.response&&0!=n.state.response.results.length){var t=(null!=n.state.selectedItemIndex?n.state.selectedItemIndex:e<0?n.state.response.results.length:-1)+e;t<0&&(t=n.state.response.results.length-1),t>n.state.response.results.length-1&&(t=0),n.setState({selectedItemIndex:t})}},n.handleIndexSelection=function(e){n.setState({selectedItemIndex:e})},n.state={isClosed:!0},n}return a.__extends(n,t),n.prototype.logSearchAction=function(e,t,n){this.qResults&&i.ajax({url:"/search/log",type:"POST",data:{index:this.props.index,isQuick:!0,q:this.qResults,isSuccess:null!=e&&null!=t,rank:n,id:e,url:t}})},n.prototype.render=function(){var t={className:this.props.className,onChange:this.handleChange,placeholder:this.props.placeholder,response:this.state.response,onClose:this.handleClose,isClosed:this.state.isClosed,isOnMobileMenu:this.props.isOnMobileMenu,onClickResult:this.handleClickResult,rightJustifyResults:this.props.rightJustifyResults,isSiteSearch:"global"==this.props.index,selectedItemIndex:this.state.selectedItemIndex,onSelectionMove:this.handleSelectionMove,onIndexSelection:this.handleIndexSelection,onSearch:this.handleSearch,suppressAutoFocus:this.props.suppressAutoFocus};return e.createElement(s.QuickSearch,i.extend({},this.state,t))},n}(e.Component);t.QuickSearchContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=function(t){function n(e){var n=t.call(this,e)||this;return n.handleClick=function(e){n.setState({selectedValue:e.value}),n.props.onChange(e)},n.state={selectedValue:e.selectedValue},n}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("ul",{className:"radio-button-list"},this.props.options.map(function(n){var a=t.state.selectedValue===n.value;return e.createElement("li",{className:i("radio-button-list__option",a?"radio-button-list__option--selected":"",t.props.textIsClickable?"checkbox--clickable":""),key:n.value,onClick:t.props.textIsClickable?function(){return t.handleClick(n)}:null},e.createElement("span",{className:i("radio-button-list__option-radio",t.props.textIsClickable?"":"radio-button-list__option-radio--clickable",a?"radio-button-list__option-radio--selected":""),onClick:function(){return t.handleClick(n)}}),e.createElement("span",{className:i("radio-button-list__option-label"),dangerouslySetInnerHTML:t.props.textIsHtml?{__html:n.text}:null},t.props.textIsHtml?null:n.text))}))},n}(e.Component);t.RadioButtonList=s}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(6),s=n(45),o=n(3),r=n(395),l=r();!function(e){e[e.Unstarted=0]="Unstarted",e[e.LongPolling=1]="LongPolling",e[e.Polling=2]="Polling",e[e.PollingUntilReconnected=3]="PollingUntilReconnected",e[e.GivenUp=4]="GivenUp"}(a=t.InterfaceState||(t.InterfaceState={}));var c=2,p=300,u=20,d=50,m=function(){function e(){var e=this;this.subscriptions=[],this.interfaceState=a.Unstarted,this.pollIntervalSeconds=c,this.interfaceStateCallbacks=[],this.request=function(t,n,s,r,c,p){if(void 0===p&&(p=0),p>10)return i.Current.warn("Giving up on request after multiple retries."),void i.Current.log(n);if(e.interfaceState===a.GivenUp)return void c("The server is unreachable","error",null);if(e.interfaceState===a.PollingUntilReconnected){var u="I can't reach the server right now, but I'm trying to reconnect.",d=e.lostConnectionTime?1e3*(e.lostConnectionTime.getTime()-(new Date).getTime()):-1;return d>0&&d<1800&&(u="I've been trying to reconnect to the server since "+l.ago(e.lostConnectionTime)+"."),void c(u,"warning",d)}o.ajax({url:"/redis/nbreq/"+t,timeout:1e3*s,type:"POST",data:n,processData:!1,contentType:"application/json",success:r,error:function(a,i,o){e.handleRequestError(a,i,o,t,n,s,r,c,p)}})},this.handleRequestError=function(t,n,a,s,o,r,l,c,p){if(t.status&&t.status>=400)return i.Current.warn("Received status "+t.status+" on request. Retrying in three seconds."),void window.setTimeout(function(){return e.request(s,o,r,l,c,p+1)},3e3);"timeout"===a||"error"===n&&!a?(e.switchToPollingUntilReconnected(),c("I'm having trouble reaching the server, but I'm trying to reconnect.","warning",null)):c(n+": "+a,"error",null)},this.handleVisibilityChange=function(){e.isVisible="hidden"!==document[e.visibilityState],i.Current.log("Visibility state is now: "+document[e.visibilityState]),e.interfaceState!==a.Unstarted&&(e.isVisible?e.interfaceState===a.Polling?(i.Current.log("Switching to long-polling"),e.cancelPoll(),e.executeLongPoll(),e.updateInterfaceState(a.LongPolling)):(i.Current.log("Cancelling switch to polling"),window.clearTimeout(e.switchToPollTimeout)):(i.Current.log("Switching to polling in 30 seconds"),e.switchToPollTimeout=window.setTimeout(function(){e.cancelLongPoll(),e.executePoll(),e.updateInterfaceState(a.Polling)},3e4)))},this.dispatchResult=function(t){i.Current.log("Incoming Redis at "+(new Date).getTime()),e.interfaceState!==a.PollingUntilReconnected&&e.interfaceState!==a.GivenUp||(i.Current.log("Reconnected succesfully. Resuming normal polling."),e.pollIntervalSeconds=c,e.updateInterfaceState(e.isVisible?a.LongPolling:a.Polling),e.lostConnectionTime=null);var n=JSON.parse(t),s=e.subscriptions.map(function(e){return e.channel}).indexOf(n.Key);-1!==s?(e.subscriptions[s].callback(n.Result.map(function(e){return e.Value})),-1!==(s=e.subscriptions.map(function(e){return e.channel}).indexOf(n.Key))&&(e.subscriptions[s].position=Math.max.apply(Math,n.Result.map(function(e){return e.Position})))):"timeout"===n.Key&&e.interfaceState===a.Polling?e.pollIntervalSeconds<p&&(e.pollIntervalSeconds*=2,i.Current.log("Received timeout, increasing poll interval to: "+e.pollIntervalSeconds)):"timeout"!==n.Key&&e.interfaceState===a.Polling&&(e.pollIntervalSeconds=c),e.interfaceState===a.LongPolling?e.executeLongPoll():e.interfaceState===a.Polling&&e.executePoll()},this.handleAjaxError=function(t,n,s){return"abort"===n?void i.Current.log("Ignoring response from aborted Ajax."):(i.Current.warn(n+("error"===n?": "+s:"")),e.interfaceState!==a.PollingUntilReconnected&&e.interfaceState!==a.GivenUp?e.switchToPollingUntilReconnected():e.pollingErrors++,e.pollingErrors>=u?(i.Current.warn("Stopping reconnection attempts."),void e.updateInterfaceState(a.GivenUp)):void e.executePoll())},this.addPageVisibilityHandler(),this.executeAjax=s.throttle(this.executeAjaxImmediate,1e3/(60*d))}return e.prototype.addPageVisibilityHandler=function(){var e=this;void 0!==document.hidden?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange",this.visibilityState="visibilityState"):void 0!==document.mozHidden?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange",this.visibilityState="mozVisibilityState"):void 0!==document.msHidden?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange",this.visibilityState="msVisibilityState"):void 0!==document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange",this.visibilityState="webkitVisibilityState"),document.addEventListener(this.visibilityChangeEvent,this.handleVisibilityChange,!1),window.addEventListener("beforeunload",function(){document.removeEventListener(e.visibilityChangeEvent,e.handleVisibilityChange,!1)}),this.isVisible="hidden"!==document[this.visibilityState]},e.prototype.addInterfaceStateCallback=function(e){this.interfaceStateCallbacks.push(e)},e.prototype.updateInterfaceState=function(e){this.interfaceState=e,this.interfaceStateCallbacks.length>0&&this.interfaceStateCallbacks.forEach(function(t){return t(e)})},e.prototype.subscribe=function(e,t,n,s){var o=this;this.scriptRunId=e,i.Current.log("Subscribing to key: "+t+" for script run "+e),this.subscriptions.push({channel:t,callback:s,position:n}),this.interfaceState===a.Unstarted?this.isVisible?(this.longPollTimeout&&(window.clearTimeout(this.longPollTimeout),this.longPollTimeout=null),this.longPollTimeout=window.setTimeout(function(){o.updateInterfaceState(a.LongPolling),o.executeLongPoll()})):(this.updateInterfaceState(a.Polling),this.executePoll()):this.restartSubscription()},e.prototype.unsubscribe=function(e){var t=this.subscriptions.map(function(e){return e.channel}).indexOf(e);-1!==t?(i.Current.log("Unsubscribed from '"+e+"'"),this.subscriptions.splice(t,1)):console.warn("Not unsubscribing from '"+e+"'; not found."),0===this.subscriptions.length&&(this.cancelLongPoll(),this.cancelPoll(),this.updateInterfaceState(a.Unstarted))},e.prototype.serializeSubscriptions=function(){for(var e={scriptRun:{id:this.scriptRunId}},t=0;t<this.subscriptions.length;t++){for(var n=this.subscriptions[t],a=n.channel.split(":"),i=e.scriptRun,o=0;o<a.length-1;o++)s.has(i,a[o])||(i[a[o]]={}),i=i[a[o]];i[a[a.length-1]]=this.subscriptions[t].position}return e},e.prototype.executeAjaxImmediate=function(e){return o.ajax({url:e,timeout:13e4,type:"POST",data:JSON.stringify(this.serializeSubscriptions()),processData:!1,contentType:"application/json",success:this.dispatchResult,error:this.handleAjaxError})},e.prototype.restartSubscription=function(){this.interfaceState===a.LongPolling?(this.cancelLongPoll(),this.executeLongPoll()):this.interfaceState===a.Polling||this.interfaceState===a.PollingUntilReconnected?(this.cancelPoll(),this.executePoll()):console.warn("restartSubscription: not currently polling")},e.prototype.executeLongPoll=function(){this.longPollQuery=this.executeAjax("/redis/sub/")},e.prototype.cancelLongPoll=function(){this.longPollQuery&&this.longPollQuery.abort(),this.longPollTimeout&&window.clearTimeout(this.longPollTimeout),this.updateInterfaceState(a.Unstarted)},e.prototype.executePoll=function(){var e=this;this.pollTimeout&&window.clearTimeout(this.pollTimeout),this.pollTimeout=window.setTimeout(function(){e.executeAjax("/redis/check/")},1e3*this.pollIntervalSeconds)},e.prototype.cancelPoll=function(){this.pollTimeout&&window.clearTimeout(this.pollTimeout),this.pollIntervalSeconds=c,this.updateInterfaceState(a.Unstarted)},e.prototype.switchToPollingUntilReconnected=function(){i.Current.log("Switching to slow polls until successful reconnection."),this.updateInterfaceState(a.PollingUntilReconnected),this.pollIntervalSeconds=15,this.pollingErrors=1,this.lostConnectionTime=new Date},e}();t.redis=new m},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("div",{className:"sidebar-content"},this.props.title?e.createElement("div",{className:"sidebar-content__title-container"},e.createElement("div",{className:"sidebar-content__title"},this.props.title),this.props.titleRightText?e.createElement("div",{className:"sidebar-content__title-right"},this.props.titleRightHref?e.createElement("a",{href:this.props.titleRightHref},this.props.titleRightText):this.props.titleRightText):null):null,e.createElement("div",{className:"sidebar-content__content"},this.props.children),this.props.footerText?e.createElement("div",{className:"sidebar-content__footer"},this.props.footerHref?e.createElement("a",{href:this.props.footerHref},this.props.footerText):this.props.footerText):null)},n}(e.Component);t.SidebarContent=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(81),o=n(83),r=n(6),l=n(1061),c=n(5),p=n(8),u=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderMainNav=function(){var t=n.props.mainNavItems;return t.length&&e.createElement("nav",{className:"site-header-react__nav"},t.map(function(t,n){return e.createElement("li",{key:n,className:"site-header-react__nav-item"},e.createElement("a",{href:t.itemUrl},t.itemName))}),e.createElement("li",{className:"site-header-react__nav-item"},e.createElement("a",{className:"site-header-react__extra-link",onClick:function(){return n.toggleExtraDropdown()},style:n.props.shouldShowExtraDropdown?{opacity:1}:{}},e.createElement("svg",{className:"site-header-react__nav-ellipsis",width:"18px",height:"4px",viewBox:"0 0 18 4"},e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},e.createElement("path",{d:"M16,4 C14.8954305,4 14,3.1045695 14,2 C14,0.8954305 14.8954305,0 16,0 C17.1045695,0 18,0.8954305 18,2 C18,3.1045695 17.1045695,4 16,4 Z M9,4 C7.8954305,4 7,3.1045695 7,2 C7,0.8954305 7.8954305,0 9,0 C10.1045695,0 11,0.8954305 11,2 C11,3.1045695 10.1045695,4 9,4 Z M2,4 C0.8954305,4 0,3.1045695 0,2 C0,0.8954305 0.8954305,0 2,0 C3.1045695,0 4,0.8954305 4,2 C4,3.1045695 3.1045695,4 2,4 Z",fill:"#FFFFFF"})))),n.props.shouldShowExtraDropdown&&n.renderExtraNav()))},n.renderExtraNav=function(){return e.createElement("div",{className:"site-header-react__extra-nav"},e.createElement("ul",{className:"site-header-react__extra-nav-primary"},e.createElement("li",{className:"site-header-react__extra-nav-primary-item"},e.createElement("a",{href:"/blog"},"Blog")),e.createElement("li",{className:"site-header-react__extra-nav-primary-item"},e.createElement("a",{href:"/rankings"},"User Rankings")),e.createElement("li",{className:"site-header-react__extra-nav-primary-item"},e.createElement("a",{href:"/host"},"Host a Competition")),e.createElement("li",{className:"site-header-react__extra-nav-primary-item"},e.createElement("a",{href:"/team"},"Our Team")),e.createElement("li",{className:"site-header-react__extra-nav-primary-item"},e.createElement("a",{href:"/contact"},"Support/Contact"))),e.createElement("ul",{className:"site-header-react__extra-nav-secondary"},e.createElement("li",{className:"site-header-react__extra-nav-secondary-item"},e.createElement("a",{href:"/wiki"},"Wiki")),e.createElement("li",{className:"site-header-react__extra-nav-secondary-item"},e.createElement("a",{href:"/terms"},"Terms")),e.createElement("li",{className:"site-header-react__extra-nav-secondary-item"},e.createElement("a",{href:"/privacy"},"Privacy"))))},n.renderMobileNav=function(){var t=n.props,a=t.mobileNavItems,i=t.userIsAnonymous;return a.length&&e.createElement("nav",{className:"site-header-react__mobile-nav"},a.map(function(t,n){return e.createElement("li",{key:n,className:"site-header-react__mobile-nav-item"},e.createElement("a",{href:t.itemUrl},t.itemName))}),!i&&e.createElement("li",{key:-1,className:"site-header-react__mobile-nav-item site-header-react__mobile-nav-item--log-off"},e.createElement("a",{href:"/account/logoff"},"Log Out")))},n.renderUserDropdown=function(){var t={__html:n.props.userDisplayName};return e.createElement("div",{className:"site-header-react__user-nav-container"},e.createElement("nav",{className:"site-header-react__user-nav"},e.createElement("li",{className:"site-header-react__user-nav-item"},e.createElement("span",{className:"site-header-react__user-name"},"Signed in as ",e.createElement("span",{className:"site-header-react__user-name-rendered",dangerouslySetInnerHTML:t}))),e.createElement("li",{className:"site-header-react__user-nav-item"},e.createElement("a",{href:n.props.userURL,className:"site-header-react__user-nav-link"},e.createElement("span",null,"My Profile"))),r.Current.isAdmin?e.createElement("li",{className:"site-header-react__user-nav-item"},e.createElement("a",{href:"/admin/home",className:"site-header-react__user-nav-link"},e.createElement("span",null,"Admin"))):null,e.createElement("li",{className:"site-header-react__user-nav-item"},e.createElement("a",{href:"/account/logoff",className:"site-header-react__user-nav-link"},e.createElement("span",null,"Sign Out")))))},n.toggleUserDropdown=function(){n.props.updateSiteHeaderState("shouldShowUserDropdown",!n.props.shouldShowUserDropdown)},n.toggleExtraDropdown=function(){n.props.updateSiteHeaderState("shouldShowExtraDropdown",!n.props.shouldShowExtraDropdown)},n.toggleMobileMenu=function(){n.props.updateSiteHeaderState("shouldShowMobileMenu",!n.props.shouldShowMobileMenu)},n.renderMobileMenu=function(){var t={__html:n.props.userDisplayName};return e.createElement("div",{className:"site-header-react__mobile-menu"},n.props.userIsAnonymous?e.createElement("div",{className:"site-header-react__mobile-menu--anonymous"},e.createElement("a",{className:"site-header-react__mobile-sign-up",onClick:function(){return n.props.toggleLoginModal()}},"Sign Up ›"),e.createElement("a",{className:"site-header-react__mobile-sign-in",onClick:function(){return n.props.toggleLoginModal()}},"Log In ›"),e.createElement(c.Modal,{modalIsShown:n.props.shouldShowAlmostThereModal||n.props.shouldShowEmailVerificationModal||n.props.shouldShowLoginModal||n.props.shouldShowSignupModal,onClose:function(){return n.props.shouldShowAlmostThereModal?null:n.props.closeAllModals()}},n.props.shouldShowEmailVerificationModal?n.renderEmailVerificationModal():n.props.shouldShowAlmostThereModal?n.renderAlmostThereModal():n.props.shouldShowSignupModal?n.renderSignupModal():n.renderLoginModal())):e.createElement("a",{href:n.props.userURL,className:"site-header-react__mobile-user"},e.createElement("img",{src:n.props.userAvatarURL,alt:n.props.userDisplayName+" avatar image",className:"site-header-react__mobile-avatar"}),e.createElement("span",{className:"site-header-react__mobile-user-name",dangerouslySetInnerHTML:t})),e.createElement("div",{className:"site-header-react__mobile-search"},e.createElement(l.QuickSearchContainer,{placeholder:"Search kaggle",index:"global",suppressAutoFocus:!0,isOnMobileMenu:!0})),n.renderMobileNav(),e.createElement("div",{className:"site-header-react__mobile-menu-close-wrapper"},e.createElement("span",{className:"site-header-react__mobile-menu-close",onClick:function(){return n.toggleMobileMenu()}},e.createElement("span",{className:"fa fa-close"}))))},n.renderMobileHeader=function(){return e.createElement("div",{className:"site-header-react__mobile-content"},e.createElement("span",{className:"fa fa-bars site-header-react__mobile-menu-button",onClick:function(){return n.toggleMobileMenu()}}),e.createElement("div",{className:"site-header-react__mobile-logo"},e.createElement("a",{href:"/"},e.createElement("img",{alt:"Kaggle",src:"/static/images/site-logo.png"}))),n.props.shouldShowMobileMenu||n.props.shouldShowLoginModal?n.renderMobileMenu():null,n.props.shouldShowMobileMenu||n.props.shouldShowLoginModal?e.createElement("div",{className:"site-header-react__mobile-underlay",onClick:function(){return n.toggleMobileMenu()}}):null)},n.renderEnvironment=function(){var t=r.Current.isDebug||"localhost"!=r.Current.environment?r.Current.environment:"www",n=("localhost"==r.Current.environment||"staging"==r.Current.environment?r.Current.environment:"live")+(r.Current.isDebug||"localhost"!=r.Current.environment?"":" in release mode - PRODUCTION DATABASE");return e.createElement("div",null,e.createElement("div",{className:"site-header-react__environment"},e.createElement("div",{className:"site-header-react__environment-side site-header-react__environment-side--left site-header-react__environment-side--"+t},e.createElement("span",{className:"site-header-react__environment-side-inside"},n)),e.createElement("div",{className:"site-header-react__environment-side site-header-react__environment-side--right site-header-react__environment-side--"+t},e.createElement("span",{className:"site-header-react__environment-side-inside"},n))))},n.renderDesktopHeader=function(){return e.createElement("div",{className:"site-header-react__container "+(r.Current.isFullScreen&&"site-header-react__container--full-width")},r.Current.isAdmin?n.renderEnvironment():null,e.createElement("div",{className:"site-header-react__content"},e.createElement("div",{className:"site-header-react__logo"},e.createElement("a",{href:"/"},e.createElement("img",{alt:"Kaggle",src:"/static/images/site-logo.png"}))),e.createElement("div",{className:"site-header-react__quick-search"},e.createElement(l.QuickSearchContainer,{className:"quick-search--dark",placeholder:"Search kaggle",index:"global"})),n.renderMainNav(),e.createElement("div",{className:"site-header-react__user"},n.props.userIsAnonymous?[e.createElement("ul",{key:"login-button",className:"site-header-react__user--anonymous"},e.createElement("li",null,e.createElement(s.Button,{id:"sign-in-button",isSmall:!0,onClick:function(){return n.props.toggleLoginModal()},text:"Sign In"}))),e.createElement(c.Modal,{key:"modal",modalIsShown:n.props.shouldShowAlmostThereModal||n.props.shouldShowEmailVerificationModal||n.props.shouldShowLoginModal||n.props.shouldShowSignupModal,onClose:function(){return n.props.shouldShowAlmostThereModal?null:n.props.closeAllModals()}},n.props.shouldShowEmailVerificationModal?n.renderEmailVerificationModal():n.props.shouldShowAlmostThereModal?n.renderAlmostThereModal():n.props.shouldShowSignupModal?n.renderSignupModal():n.renderLoginModal())]:n.props.shouldShowUserDropdown?e.createElement("div",{className:"site-header-react__user--logged-in--active",onClick:function(){return n.toggleUserDropdown()}},e.createElement("ul",null,e.createElement("li",{className:"site-header-react__user-avatar"},e.createElement("img",{src:n.props.userAvatarURL}))),n.renderUserDropdown()):e.createElement(o.ToolTip,{tipText:"Your profile"},e.createElement("div",{className:"site-header-react__user--logged-in",onClick:function(){return n.toggleUserDropdown()}},e.createElement("ul",null,e.createElement("li",{className:"site-header-react__user-avatar"},e.createElement("img",{src:n.props.userAvatarURL}))))))))},n.renderLoginErrors=function(){return e.createElement("div",{className:"login-errors"},n.props.errors.map(function(t,n){return e.createElement("div",{key:n,className:"login-errors__error",dangerouslySetInnerHTML:{__html:t}})}))},n.renderLoginModal=function(){return e.createElement("div",{className:"login-modal"},e.createElement("a",{className:"login-modal__close-button fa fa-times-circle",onClick:function(){return n.props.closeAllModals()}}),e.createElement("div",null,e.createElement("div",null,e.createElement("span",{className:"login-modal__title"},"One-click Sign In / Sign Up"),e.createElement("span",{className:"login-modal__subtitle"},"(We won't share anything without your permission)")),e.createElement("div",{className:"login-modal__social-buttons"},e.createElement("a",{className:"login-modal__icon-button login-modal__icon-button--facebook",href:"/account/authenticate/facebook?isModal=true"},e.createElement("span",{className:"login-modal__icon-button-icon login-modal__icon-button-icon--facebook fa fa-facebook-f"}),e.createElement("span",{className:"login-modal__icon-button-text"},"Facebook")),e.createElement("a",{className:"login-modal__icon-button login-modal__icon-button--google",href:"/account/authenticate/google?isModal=true"},e.createElement("span",{className:"login-modal__icon-button-icon login-modal__icon-button-icon--google fa fa-google"}),e.createElement("span",{className:"login-modal__icon-button-text"},"Google")),e.createElement("a",{className:"login-modal__icon-button login-modal__icon-button--yahoo",href:"/account/authenticate/yahoo?isModal=true"},e.createElement("span",{className:"login-modal__icon-button-icon login-modal__icon-button-icon--yahoo fa fa-yahoo"}),e.createElement("span",{className:"login-modal__icon-button-text"},"Yahoo")))),e.createElement("div",{className:"login-modal__divider"},e.createElement("span",{className:"login-modal__horizontal-divider"}),"or",e.createElement("span",{className:"login-modal__horizontal-divider"})),e.createElement("div",null,e.createElement("div",null,e.createElement("span",{className:"login-modal__title"},"Use your Kaggle Username or Email"),e.createElement("a",{className:"login-modal__signup-link",onClick:function(){return n.props.toggleSignupModal()}},"Manually Create a New Account »")),e.createElement("form",{action:"/account/login?isModal=true",className:"login-modal__login-form",id:"login-form",method:"POST"},e.createElement(c.AntiForgeryInput,null),e.createElement("input",{id:"username-input-text",className:"login-modal__input",name:"username",placeholder:"Username or Email",type:"text"}),e.createElement("div",{className:"login-modal__button-input"},e.createElement("input",{id:"password-input-text",className:"login-modal__input login-modal__input--password",name:"password",placeholder:"Password",type:"password"}),e.createElement("a",{id:"submit-sign-in-button",className:"login-modal__signin-button",onClick:function(){return a("#login-form").submit()}},"Sign In"),e.createElement("input",{className:"login-modal__hidden-submit",type:"submit"})),e.createElement("div",{className:"login-modal__subline"},e.createElement("span",{className:"login-modal__checkbox"},e.createElement("span",{className:"login-modal__checkbox-wrapper"},e.createElement(c.Checkbox,{formInputName:"rememberme",isChecked:!1,isEditable:!0,onChange:function(){},text:""})),"Remember Me"),"Forgot ",e.createElement("a",{className:"login-modal__forgot-link",href:"/forgot/username"},"Username")," / ",e.createElement("a",{className:"login-modal__forgot-link",href:"/forgot/password"},"Password")),n.renderLoginErrors())),e.createElement("div",{className:"login-modal__footer"},e.createElement("div",{className:"login-modal__footer-title"},"One account per individual."),"If you’re joining as a company, please create one account for each individual in your group.",e.createElement("div",{className:"login-modal__footer-title"},"Have an account but need a university address to enter an InClass competition?"),"Change the email on your existing account via your profile settings."))},n.renderSignupModal=function(){return e.createElement("div",{className:"signup-modal"},e.createElement("a",{className:"signup-modal__close-button fa fa-times-circle",onClick:function(){return n.props.closeAllModals()}}),e.createElement("span",{className:"signup-modal__title"},"Create an Account With Your Email Address"),e.createElement("form",{action:"/account/register?isModal=true",className:"signup-modal__form",id:"signup-form",method:"POST"},e.createElement("div",{className:"signup-modal__input-wrapper"},n.props.signupUsernameError?e.createElement("div",{className:"signup-modal__input-error"},n.props.signupUsernameError):null,e.createElement("label",{className:"signup-modal__input-label"},"Username"),e.createElement("input",{className:"signup-modal__input",name:"username",onBlur:function(){return n.props.onSignupUsernameBlurred()},onChange:function(e){return n.props.onSignupUsernameChanged(e.currentTarget.value)},placeholder:"Used for login and your profile URL",type:"text"})),"Your profile URL will be kaggle.com/",n.props.signupUsername,e.createElement("div",{className:"signup-modal__form-spacer"}),e.createElement("div",{className:"signup-modal__input-wrapper"},e.createElement("label",{className:"signup-modal__input-label"},"Display Name"),e.createElement("input",{className:"signup-modal__input",name:"displayname",placeholder:"John Doe",type:"text"})),"Shown on your public profile, leaderboards, etc.",e.createElement("br",null),"Full name recommended.",e.createElement("div",{className:"signup-modal__form-spacer"}),e.createElement("div",{className:"signup-modal__input-wrapper"},n.props.signupEmailError?e.createElement("div",{className:"signup-modal__input-error"},n.props.signupEmailError):null,e.createElement("label",{className:"signup-modal__input-label"},"Email Address"),e.createElement("input",{className:"signup-modal__input",name:"email",onBlur:function(e){return n.props.onSignupEmailBlurred(e.currentTarget.value)},placeholder:"Email Address",type:"text"})),e.createElement("div",{className:"signup-modal__input-wrapper"},n.props.signupConfirmEmailError&&e.createElement("div",{className:"signup-modal__input-error"},n.props.signupConfirmEmailError),e.createElement("label",{className:"signup-modal__input-label"},"Confirm Email"),e.createElement("input",{className:"signup-modal__input",name:"confirmemail",onBlur:function(e){return n.props.onSignupConfirmEmailBlurred(e.currentTarget.value)},placeholder:"Re-enter Email Address",type:"text"})),e.createElement("div",{className:"signup-modal__form-spacer"}),e.createElement("div",{className:"signup-modal__input-wrapper"},n.props.signupPasswordError&&e.createElement("div",{className:"signup-modal__input-error"},n.props.signupPasswordError),e.createElement("label",{className:"signup-modal__input-label"},"Password"),e.createElement("input",{className:"signup-modal__input",name:"password",onBlur:function(e){return n.props.onSignupPasswordBlurred(e.currentTarget.value)},placeholder:"Minimum 7 Chars",type:"password"})),e.createElement("div",{className:"signup-modal__input-wrapper"},n.props.signupConfirmPasswordError&&e.createElement("div",{className:"signup-modal__input-error"},n.props.signupConfirmPasswordError),e.createElement("label",{className:"signup-modal__input-label"},"Confirm Password"),e.createElement("input",{className:"signup-modal__input",name:"confirmpassword",onBlur:function(e){return n.props.onSignupConfirmPasswordBlurred(e.currentTarget.value)},placeholder:"Re-enter Password",type:"password"})),e.createElement("div",{className:"signup-modal__form-spacer"}),e.createElement("div",{className:"signup-modal__checkbox"},e.createElement("span",{className:"signup-modal__checkbox-wrapper"},e.createElement(c.Checkbox,{formInputName:"subscribetonewsletter",isChecked:n.props.subscribeToNewsletter,isEditable:!0,onChange:function(e){return n.props.onSubscribeToNewsletterChanged(e)},text:""})),"Email me news and updates"),e.createElement("div",{className:"signup-modal__checkbox"},e.createElement("span",{className:"signup-modal__checkbox-wrapper"},e.createElement(c.Checkbox,{isChecked:n.props.hasAcceptedTerms,isEditable:!0,onChange:function(e){return n.props.onHasAcceptedTermsChanged(e,!0)},text:""})),"By clicking this checkbox, you confirm that you accept our ",e.createElement("a",{className:"signup-modal__link",href:"/terms"},"Terms of Service")," and ",e.createElement("a",{className:"signup-modal__link",href:"/about/privacy"},"Privacy Policy"),"."),e.createElement("div",{className:"signup-modal__form-spacer"}),n.renderLoginErrors(),e.createElement("a",{className:p("signup-modal__signup-button",n.props.allowSubmit()?null:"signup-modal__signup-button--disabled"),onClick:function(){return n.props.allowSubmit()?a("#signup-form").submit():{}}},"Get Started")))},n.renderAlmostThereModal=function(){return e.createElement("div",{className:"almost-there-modal"},e.createElement("div",{className:"almost-there-modal__header"},e.createElement("a",{className:"almost-there-modal__close-button fa fa-times-circle",onClick:function(){return n.props.closeAllModals()}}),e.createElement("div",{className:"almost-there-modal__header-title"},"Welcome to Kaggle"),"Looks like you're logging into Kaggle for the first time.",e.createElement("br",null),"If you already have an account, log in to it and link your",e.createElement("br",null),"account to this social service via your profile page."),e.createElement("div",{className:"almost-there-modal__title"},"Almost There..."),e.createElement("form",{action:"/account/register/almost?isModal=true",className:"almost-there-modal__form",id:"almost-there-form",method:"POST"},e.createElement("input",{name:"token",type:"hidden",value:n.props.token}),e.createElement("div",{className:"almost-there-modal__input-wrapper"},n.props.signupUsernameError&&e.createElement("div",{className:"almost-there-modal__input-error"},n.props.signupUsernameError),e.createElement("label",{className:"almost-there-modal__input-label"},"Username"),e.createElement("input",{className:"almost-there-modal__input",name:"username",onBlur:function(){return n.props.onSignupUsernameBlurred()},onChange:function(e){return n.props.onSignupUsernameChanged(e.currentTarget.value)},placeholder:"Used for login and your profile URL",type:"text"})),"Your profile URL will be kaggle.com/",n.props.signupUsername,e.createElement("div",{className:"almost-there-modal__form-spacer"}),e.createElement("div",{className:"almost-there-modal__input-wrapper"},e.createElement("label",{className:"almost-there-modal__input-label"},"Display Name"),e.createElement("input",{className:"almost-there-modal__input",name:"displayname",placeholder:"John Doe",type:"text"})),"Shown on your public profile, leaderboards, etc.",e.createElement("br",null),"Full name recommended.",e.createElement("div",{className:"almost-there-modal__form-spacer"}),e.createElement("div",{className:"almost-there-modal__checkbox"},e.createElement("span",{className:"almost-there-modal__checkbox-wrapper"},e.createElement(c.Checkbox,{formInputName:"subscribetonewsletter",isChecked:n.props.subscribeToNewsletter,isEditable:!0,onChange:function(e){return n.props.onSubscribeToNewsletterChanged(e)},text:""})),"Email me news and updates"),e.createElement("div",{className:"almost-there-modal__checkbox"},e.createElement("span",{className:"almost-there-modal__checkbox-wrapper"},e.createElement(c.Checkbox,{isChecked:n.props.hasAcceptedTerms,isEditable:!0,onChange:function(e){return n.props.onHasAcceptedTermsChanged(e,!1)},text:""})),"By clicking this checkbox, you confirm that you accept our ",e.createElement("a",{className:"almost-there-modal__link",href:"/terms"},"Terms of Service")," and ",e.createElement("a",{className:"almost-there-modal__link",href:"/about/privacy"},"Privacy Policy"),"."),e.createElement("div",{className:"almost-there-modal__form-spacer"}),n.renderLoginErrors(),e.createElement("a",{className:p("almost-there-modal__signup-button",n.props.allowSubmit()?null:"almost-there-modal__signup-button--disabled"),onClick:function(){return n.props.allowSubmit()?a("#almost-there-form").submit():{}}},"Get Started")))},n.renderEmailVerificationModal=function(){return e.createElement("div",{className:"email-verification-modal"},e.createElement("div",{className:"email-verification-modal__header"},e.createElement("a",{className:"email-verification-modal__close-button fa fa-times-circle",onClick:function(){return n.props.closeAllModals()}}),e.createElement("div",{className:"email-verification-modal__header-title"},"Verification Email Sent"),"Please check your email for a confirmation request.",e.createElement("br",null),"Once you click that link, your registration will be",e.createElement("br",null),"complete."),e.createElement("a",{className:"email-verification-modal__resend-email-button",onClick:function(){return n.props.resendVerificationEmail()}},"Resend Email"))},n}return i.__extends(n,t),n.prototype.render=function(){var t=this.props.shouldShowMobileHeader?this.renderMobileHeader:this.renderDesktopHeader;return e.createElement("div",{className:"site-header-react"},t())},n}(e.Component);t.SiteHeader=u}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(6),o=n(1065),r=n(5),l=function(t){function n(e){var n=t.call(this,e)||this;n.mobileHeaderUpperBound=800,n.handleClick=function(e){i(e.target).closest(".site-header-react__user-nav").length||i(e.target).closest(".site-header-react__user").length||!n.state.shouldShowUserDropdown||n.setState({shouldShowUserDropdown:!1}),i(e.target).closest(".site-header-react__extra-nav").length||i(e.target).closest(".site-header-react__extra-link").length||!n.state.shouldShowExtraDropdown||n.setState({shouldShowExtraDropdown:!1}),i(e.target).closest(".site-header-react__mobile-menu").length||i(e.target).closest(".site-header-react__mobile-menu-button").length||!n.state.shouldShowMobileMenu||n.setState({shouldShowMobileMenu:!1})},n.handleResize=function(){var e=window.innerWidth;n.setState({windowWidth:e,shouldShowMobileHeader:e<=n.mobileHeaderUpperBound})},n.updateSiteHeaderState=function(e,t){var a={};a[e]=t,n.setState(a)};var s=window.innerWidth,o=r.parseQueryString(window.location.search);return n.state=a.__assign({},n.props,{allowSubmit:function(){return n.state.hasAcceptedTerms&&!n.state.signupConfirmEmailError&&!n.state.signupConfirmPasswordError&&!n.state.signupEmailError&&!n.state.signupPasswordError&&!n.state.signupUsernameError},closeAllModals:function(){var e=window.location.href.split("?"),t=e[0],a=["almost-there","email-verification","login","signup","token","verification-id"],i=e.length>1?"?"+e[1].split("&").map(function(e){return e.split("=")}).filter(function(e){return!a.includes(e[0])}).map(function(e){return e.join("=")}).join("&"):"";window.history.replaceState({},null,t+i),n.setState({hasAcceptedTerms:!1,signupConfirmEmail:"",signupConfirmEmailError:null,signupConfirmPassword:"",signupConfirmPasswordError:null,signupEmail:"",signupEmailError:null,signupPassword:"",signupPasswordError:null,signupUsername:"",signupUsernameError:null,shouldShowAlmostThereModal:!1,shouldShowEmailVerificationModal:!1,shouldShowLoginModal:!1,shouldShowSignupModal:!1,subscribeToNewsletter:!0})},errors:[],hasAcceptedTerms:!1,onHasAcceptedTermsChanged:function(e,t){t&&(n.state.onSignupEmailBlurred(),n.state.onSignupPasswordBlurred()),n.state.onSignupUsernameBlurred(),n.setState({hasAcceptedTerms:e})},onSignupConfirmEmailBlurred:function(e){e=e||n.state.signupConfirmEmail,n.setState({signupConfirmEmail:e,signupConfirmEmailError:n.state.signupEmail===e?null:"Email and confirm email must match"})},onSignupConfirmPasswordBlurred:function(e){e=e||n.state.signupConfirmPassword,n.setState({signupConfirmPassword:e,signupConfirmPasswordError:n.state.signupPassword===e?null:"Password and confirm password must match"})},onSignupEmailBlurred:function(e){e=e||n.state.signupEmail,n.setState({signupEmail:e,signupEmailError:r.isValidEmail(e)?null:"Please enter a valid email"},function(){return n.state.onSignupConfirmEmailBlurred()})},onSignupPasswordBlurred:function(e){e=e||n.state.signupPassword,n.setState({signupPassword:e,signupPasswordError:e&&e.length>=7?null:"Password must be at least 7 characters"},function(){return n.state.onSignupConfirmPasswordBlurred()})},onSignupUsernameBlurred:function(){i.ajax({context:n,contentType:"application/json",data:JSON.stringify({userName:n.state.signupUsername}),dataType:"text",success:function(e){n.setState({signupUsernameError:e})},type:"POST",url:"/account/validate-username"})},onSignupUsernameChanged:function(e){return n.setState({signupUsername:e})},onSubscribeToNewsletterChanged:function(e){return n.setState({subscribeToNewsletter:e})},resendVerificationEmail:function(){var e=o["verification-id"];i.ajax({contentType:"application/json",data:JSON.stringify({userId:e}),dataType:"json",type:"POST",url:"/account/verification/resend"})},shouldShowAlmostThereModal:o["almost-there"],shouldShowEmailVerificationModal:o["email-verification"],shouldShowLoginModal:o.login,shouldShowSignupModal:o.signup,shouldShowUserDropdown:!1,shouldShowMobileHeader:s<=n.mobileHeaderUpperBound,signupUsername:"",subscribeToNewsletter:!0,toggleAlmostThereModal:function(){return n.setState({shouldShowAlmostThereModal:!n.state.shouldShowAlmostThereModal})},toggleEmailVerificationModal:function(){return n.setState({shouldShowEmailVerificationModal:!n.state.shouldShowEmailVerificationModal})},toggleLoginModal:function(){return n.setState({shouldShowLoginModal:!n.state.shouldShowLoginModal})},toggleSignupModal:function(){return n.setState({shouldShowSignupModal:!n.state.shouldShowSignupModal})},token:o.token,windowWidth:s}),n}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;window.addEventListener("touchstart",this.handleClick,!1),window.addEventListener("mousedown",this.handleClick,!1),window.addEventListener("resize",this.handleResize,!1),r.PageMessages.addListener(function(t){return e.setState({errors:t.map(function(e){return e.htmlMessage})})})},n.prototype.componentWillUnmount=function(){window.removeEventListener("touchstart",this.handleClick,!1),window.removeEventListener("mousedown",this.handleClick,!1),window.removeEventListener("resize",this.handleResize,!1)},n.prototype.render=function(){var t=[{itemUrl:"/competitions",itemName:"Competitions"},{itemUrl:"/datasets",itemName:"Datasets"},{itemUrl:"/kernels",itemName:"Kernels"},{itemUrl:"/discussion",itemName:"Discussion"},{itemUrl:"/jobs",itemName:"Jobs"}],n=[{itemUrl:"/competitions",itemName:"Competitions"},{itemUrl:"/datasets",itemName:"Datasets"},{itemUrl:"/kernels",itemName:"Kernels"},{itemUrl:"/discussion",itemName:"Discussion"},{itemUrl:"/jobs",itemName:"Jobs"},{itemUrl:"/blog",itemName:"Blog"},{itemUrl:"/rankings",itemName:"User Rankings"},{itemUrl:"/host",itemName:"Host a Competition"},{itemUrl:"/team",itemName:"Our Team"},{itemUrl:"/contact",itemName:"Support/Contact"}];s.Current.isAdmin&&n.push({itemUrl:"/admin/home",itemName:"Admin"});var i={mainNavItems:t,mobileNavItems:n,userURL:s.Current.userProfileUrl,userDisplayName:s.Current.userDisplayName,userAvatarURL:s.Current.userThumbnailUrl,userIsAnonymous:s.Current.isAnonymous,updateSiteHeaderState:this.updateSiteHeaderState};return e.createElement(o.SiteHeader,a.__assign({},this.state,i))},n}(e.Component);t.SiteHeaderContainer=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(63),o=n(286),r=n(285),l=n(62),c=n(216),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderTitle=function(){return this.props.selectionGroupInTitle?this.renderSelectionGroups():this.props.title||(this.props.titleResolver?this.props.titleResolver(this.props.list,this.props):null)},n.prototype.renderSelectionGroups=function(){return this.props.groups?e.createElement(r.SelectionGroup,{children:this.props.boundSelectionGroups(),selected:this.props.values.group,filters:this.renderFiltersAndSearch()}):null},n.prototype.renderFilter=function(t,n,a){var i=this;return e.createElement(s.SelectBox,{key:n,options:t.options,onChange:function(e){return i.props.onFilterChanged(t.parameter,e)},searchable:!1,value:this.props.values[t.parameter]||t.default||"",placeholder:t.placeholder,className:(a?"KaggleBoxlessSelectSafe":null)+" smart-list__filter smart-list__filter--"+(a?"boxless":"boxed")})},n.prototype.renderSearch=function(t){var n=this,a=!this.props.searchableGroups||0==this.props.searchableGroups.filter(function(e){return n.props.values.group==e}).length;return this.props.searchIndex?e.createElement("label",{className:"smart-list__search-wrapper smart-list__search-wrapper--"+t},e.createElement("input",{type:"text",className:"smart-list__search smart-list__search--"+t,ref:"search",placeholder:"Search",value:this.props.values.search,onChange:this.props.onSearchChange,disabled:a}),e.createElement("div",{className:"fa fa-search smart-list__search-button",disabled:a,onClick:function(){return n.props.updateOpenMobileSort(!1)}})):null},n.prototype.renderFiltersAndSearch=function(){var t=this,n=this.props.filtersOptions?this.props.filtersOptions.map(function(e,n){return t.renderFilter(e,n,!0)}):null;return e.createElement(l.MediaQuery,{minWidth:this.props.mobileSortUpperBound+1},e.createElement("div",{className:"smart-list__sub-title-right"},n,this.renderSearch("sub-title-bar")))},n.prototype.renderSortBy=function(){var t=this;return this.props.sortOptions?e.createElement("div",null,e.createElement(l.MediaQuery,{minWidth:this.props.mobileSortUpperBound+1},e.createElement("div",{className:"smart-list__sort"},e.createElement("p",{className:"smart-list__sort-label"},"Sort by"),e.createElement(s.SelectBox,{options:this.getSortOptions(),onChange:this.props.onSortByChanged,searchable:!1,value:this.props.values.sortBy}))),e.createElement(l.MediaQuery,{minWidth:0,maxWidth:this.props.mobileSortUpperBound},e.createElement("a",{className:"script-list-react__sort-link--mobile",onClick:function(e){return t.props.updateOpenMobileSort(!0)}},"Filter/Sort ",e.createElement("span",{className:"fa fa-angle-right"})))):null},n.prototype.renderOptionalLoadingMessage=function(){return this.props.isLoadingMoreData||(!this.props.children||this.props.children.length>=this.props.pageSize)&&!this.props.listFooterRenderer&&this.props.hasMoreData?e.createElement("div",{className:"smart-list__message"},"Loading ",this.props.hasLoadedSomeData?"more ":"",this.props.pluralItemDescription,"..."):null},n.prototype.renderOptionalNoMoreDataMessage=function(){return this.props.isLoadingMoreData||!(this.props.children&&this.props.children.length<this.props.pageSize||this.props.listFooterRenderer)&&this.props.hasMoreData?null:this.props.listFooterRenderer?this.props.listFooterRenderer(this.props.list,this.props):e.createElement("div",{className:"smart-list__message"},e.createElement("span",null,"No ",this.props.children&&this.props.children.length?"more ":"",this.props.pluralItemDescription," to show"),e.createElement("br",null))},n.prototype.renderSubTitleBar=function(){return this.props.selectionGroupInTitle?null:this.renderSelectionGroups()},n.prototype.getSortOptions=function(){var e=this;return this.props.sortOptions.filter(function(t){return null!=t&&"relevance"!=t.value==!e.props.values.search})},n.prototype.renderContent=function(){var t=this,n=this.props,a=n.listHeaderRenderer,i=n.children;return e.createElement("div",{className:"smart-list__content"},e.createElement(l.MediaQuery,{minWidth:0,maxWidth:this.props.mobileSortUpperBound},e.createElement(c.OffCanvasContainer,{closeButtonCallback:function(){return t.props.updateOpenMobileSort(!1)},shouldShowOffCanvas:this.props.openMobileSort,shouldUseCloseButton:!0,shouldUseRightSide:!0},e.createElement("div",{className:"smart-list__sort-menu--mobile"},e.createElement("p",{className:"smart-list__sort-label--mobile"},"Sort by"),this.props.sortOptions?e.createElement(s.SelectBox,{className:"smart-list__sort--mobile",options:this.getSortOptions(),onChange:this.props.onSortByChanged,searchable:!1,value:this.props.values.sortBy}):null),this.props.filtersOptions?this.props.filtersOptions.map(function(n,a){return e.createElement("div",{className:"smart-list__sort-menu--mobile",key:a},e.createElement("p",{className:"smart-list__sort-label--mobile"},n.placeholder),t.renderFilter(n,a,!1))}):null,e.createElement("div",null,this.renderSearch("off-canvas")))),e.createElement(o.WindowInfiniteScroll,{onScroll:this.props.onScroll,height:this.props.contentHeight},a&&a(this.props.list,this.props),Array.isArray(i)?e.Children.map(i,function(t,n){return e.cloneElement(t,{key:n})}):i,this.renderOptionalLoadingMessage(),this.renderOptionalNoMoreDataMessage()))},n.prototype.render=function(){return this.props.isUnstyled?this.renderContent():e.createElement("div",{className:"smart-list smart-list--"+(this.props.selectionGroupInTitle?"groups-in-title":"standard")},this.props.isLoadingMoreData&&this.props.disableClearResultsOnUpdate?e.createElement("div",{className:"smart-list__loading-overlay"}):null,e.createElement(i.ContentBox,{title:this.renderTitle(),titleBarRightSide:this.props.titleBarRightSide||this.renderSortBy(),subTitleBar:this.renderSubTitleBar(),containerClassName:this.props.containerClassName,contentClassName:this.props.contentClassName,borderless:this.props.borderless},this.renderContent()))},n}(e.Component);t.SmartList=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(101),o=n(36),r=n(19),l=n(38),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderDiscussionTeaserItem=function(t,n){return e.createElement(l.BlockLink,{key:"competition-discussion-teaser-item-"+n,href:t.itemUrl},e.createElement("div",{className:"discussion-teaser__item"},e.createElement("div",{className:"discussion-teaser__item-title"},e.createElement("a",{href:t.itemUrl,title:t.title},t.title)),e.createElement("div",{className:"discussion-teaser__item-details"},e.createElement(o.Pluralize,{word:"reply",count:t.totalReplies})," · ",e.createElement(r.TimeAgo,{time:t.date}))))},n.prototype.render=function(){var t=this;return e.createElement(i.ContentBox,{contentClassName:"discussion-teaser__items",growVertically:this.props.growVertically||!0,title:this.props.listTitle,onTitleClick:function(){return t.props.onTitleClick()},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement(s.TeaserList,{minItemHeight:this.props.minItemHeight||4,listItems:this.props.listItems,listItemRenderer:function(e,n){return t.renderDiscussionTeaserItem(e,n)},emptyListCreateNewAction:this.props.emptyListCreateNewAction,emptyListMessage:this.props.emptyListMessage,emptyListCreateNewText:this.props.emptyListCreateNewText}))},n}(e.Component);t.DiscussionTeaser=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(101),o=n(36),r=n(19),l=n(38),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderKernelsTeaserItem=function(t,n){return e.createElement(l.BlockLink,{key:"kernels-teaser-item-"+n,href:t.itemUrl},e.createElement("div",{className:"kernels-teaser__item"},e.createElement("div",{className:"kernels-teaser__item-title"},e.createElement("a",{href:t.itemUrl,title:t.title},t.title)),e.createElement("div",{className:"kernels-teaser__item-details"},e.createElement(o.Pluralize,{word:"vote",count:t.totalVotes})," · ",e.createElement(r.TimeAgo,{time:t.date}))))},n.prototype.render=function(){var t=this;return e.createElement(i.ContentBox,{contentClassName:"kernels-teaser__items",growVertically:this.props.growVertically||!0,title:this.props.listTitle,onTitleClick:function(){return t.props.onTitleClick()},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement(s.TeaserList,{minItemHeight:this.props.minItemHeight||4,listItems:this.props.listItems,listItemRenderer:function(e,n){return t.renderKernelsTeaserItem(e,n)},emptyListCreateNewUrl:this.props.emptyListCreateNewUrl,emptyListMessage:this.props.emptyListMessage,emptyListCreateNewText:this.props.emptyListCreateNewText}))},n}(e.Component);t.KernelsTeaser=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(101),o=function(t){function n(e){var n=t.call(this,e)||this;n.placeholders=[];var a=n.props.listItems.length;if(a<n.props.numItemsToShow)for(var i=1;i<=n.props.numItemsToShow-a;i++)n.placeholders.push({rank:i+a,teamName:"-"});return n}return a.__extends(n,t),n.prototype.renderLeaderboardTeaserItem=function(t,n){return e.createElement("div",{className:"leaderboard-teaser__item",key:"leaderboard-teaser-item-"+n},t.rank<=this.props.numPrizes&&this.props.rewardQuantity>0?e.createElement("div",{className:"leaderboard-teaser__item-rank--reward"},t.rank):e.createElement("div",{className:"leaderboard-teaser__item-rank"},t.rank),e.createElement("p",{className:"leaderboard-teaser__item-name",title:t.teamName},t.teamName))},n.prototype.render=function(){var t=this,n=this.props.listItems.concat(this.placeholders);return e.createElement(i.ContentBox,{contentClassName:"leaderboard-teaser__items",growVertically:this.props.growVertically||!0,title:this.props.listTitle,onTitleClick:function(){return t.props.onTitleClick()},titleBarRightSide:e.createElement("span",{className:"fa fa-chevron-right"})},e.createElement("div",{className:"leaderboard-teaser__content"},e.createElement(s.TeaserList,{minItemHeight:this.props.numItemsToShow,listItems:n,listItemRenderer:function(e,n){return t.renderLeaderboardTeaserItem(e,n)},emptyListCreateNewUrl:this.props.emptyListCreateNewUrl,emptyListMessage:this.props.emptyListMessage,emptyListCreateNewText:this.props.emptyListCreateNewText})))},n}(e.Component);t.LeaderboardTeaser=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(19),s=n(83),o=n(44),r=function(t){function n(e){var n=t.call(this,e)||this;return n.startMS=new Date(n.props.startDate.toString()).getTime(),n.endMS=new Date(n.props.endDate.toString()).getTime(),n.nowMS=(new Date).getTime(),n.startTillEnd=n.endMS-n.startMS,n.startTillNow=n.nowMS-n.startMS,n}return a.__extends(n,t),n.prototype.renderMilestone=function(t,n){var a=new Date(t.date.toString()).getTime()-this.startMS,r=a/this.startTillEnd,l=(100*r).toString()+"%";return r>0&&r<1?e.createElement("div",{className:"horizontal-timeline__milestone-placeholder",key:"timeline-point-"+n},e.createElement("div",{className:a>this.startTillNow?"horizontal-timeline__point--future":"horizontal-timeline__point",style:{left:l}},e.createElement("div",{className:"horizontal-timeline__point-details",style:{left:l}},e.createElement("p",{className:"horizontal-timeline__milestone-date"},e.createElement(i.TimeAgo,{time:t.date,hideToGo:!0})),t.details),e.createElement("div",{className:"horizontal-timeline__point-tooltip-wrapper"},e.createElement(s.ToolTip,{className:"horizontal-timeline__point-tooltip-wrapper",alignLeft:r<.5,tipText:o(t.date).format("ll")})))):null},n.prototype.render=function(){var t=this,n=this.startTillNow/this.startTillEnd,a=0<n&&n<1?(this.startTillNow/this.startTillEnd*100).toString()+"%":"100%";return e.createElement("div",{className:"horizontal-timeline__wrapper"},e.createElement("div",{className:"horizontal-timeline"},e.createElement("div",{className:"horizontal-timeline__line"}),e.createElement("div",{className:"horizontal-timeline__progress-bar",style:{width:a}}),e.createElement("div",{className:this.startTillNow>0?"horizontal-timeline__point":"horizontal-timeline__point--future"},e.createElement("div",{className:"horizontal-timeline__point-label--start",style:{left:0}},this.props.startLabel?this.props.startLabel:null,e.createElement(i.TimeAgo,{time:this.props.startDate,hideToGo:!0})),e.createElement("div",{className:"horizontal-timeline__point-tooltip-wrapper"},e.createElement(s.ToolTip,{className:"horizontal-timeline__point-tooltip-wrapper",alignLeft:!0,tipText:o(this.props.startDate).format("ll")}))),this.props.milestoneDates.map(function(e,n){return t.renderMilestone(e,n)}),e.createElement("div",{className:this.startTillEnd>this.startTillNow?"horizontal-timeline__point--future":"horizontal-timeline__point",style:{left:"100%"}},e.createElement("div",{className:"horizontal-timeline__point-label--end",style:{right:0}},this.props.endLabel?this.props.endLabel:null,e.createElement(i.TimeAgo,{time:this.props.endDate,hideToGo:!0})),e.createElement("div",{className:"horizontal-timeline__point-tooltip-wrapper"},e.createElement(s.ToolTip,{className:"horizontal-timeline__point-tooltip-wrapper",tipText:o(this.props.endDate).format("ll")})))))},n}(e.Component);t.HorizontalTimeline=r}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.clear()}return e.prototype.clear=function(){this.stopTimer(),this.timerStart=null,this.timerEnd=null,this.displayCallback&&this.displayCallback("")},e.prototype.setStartTime=function(e){void 0===e&&(e=null),this.timerStart=e||new Date},e.prototype.getElapsedTimeString=function(){if(!this.timerStart)return"";var e=this.getElapsedMilliseconds(),t=e/1e3,n=Math.floor(t/3600),a=Math.floor(t/60)%60,i=Math.floor(t)%60,s=(i<10?"0":"")+i;return t<3600?a+":"+s:n+":"+(a<10?"0":"")+a+":"+s},e.prototype.getElapsedMilliseconds=function(){var e=this.timerEnd;return this.paused||(e=new Date),e.getTime()-this.timerStart.getTime()},e.prototype.startTimer=function(){this.startTimerFrom(new Date)},e.prototype.startTimerFrom=function(e){this.displayCallback||console.warn("scriptTimer: starting timer without callback"),this.setStartTime(e);var t=this;this.timerIntervalId=window.setInterval(function(){return t.updateTimer()},1e3),this.paused=!1,this.updateTimer()},e.prototype.setToZero=function(){this.stopTimer(),this.timerStart=this.timerEnd,this.updateTimer()},e.prototype.updateTimer=function(){this.displayCallback&&this.displayCallback(this.getElapsedTimeString())},e.prototype.stopTimer=function(){this.timerIntervalId>=0&&window.clearInterval(this.timerIntervalId),this.timerIntervalId=-1,this.paused=!0,this.timerEnd=new Date},e.prototype.setDisplayCallback=function(e){this.displayCallback=e},e.prototype.isRunning=function(){return!this.paused},e}();t.Timer=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(81),s=n(8),o=function(t){function n(e){return t.call(this,e)||this}return a.__extends(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"toggle-button__container"},this.props.values.map(function(n,a){return e.createElement(i.Button,{classNames:s("script-code-pane__right-section","toggle-button__button",{"toggle-button__not-rightmost":a!=t.props.values.length-1},{"toggle-button__not-leftmost":0!=a}),text:t.props.labels[a],onClick:function(e){return t.props.onChange(t.props.values[a])},toggled:t.props.values[a]==t.props.selectedValue,toggleable:!0})}))},n}(e.Component);t.ToggleButton=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),i=n(430),s=n(166);t.default=new a.default("ToolTipMultiLine","Inherits styles from standard ToolTip, but accepts JSX Elements as contents via the `after` prop.",[e.createElement(i.ToolTipMultiLine,{tipContent:e.createElement("div",{className:"tooltip-multiline__example-1"},e.createElement("p",null,"Hi"),e.createElement("p",null,"How are you?"))},e.createElement(s.Badge,{text:"Hover me!",option:"info"})),e.createElement(i.ToolTipMultiLine,{alignLeft:!0,tipContent:e.createElement("div",{className:"tooltip-multiline__example-2"},e.createElement("h4",{className:"tooltip-multiline__example-2-title"},"Note"),e.createElement("p",null,"This is left-aligned."))},e.createElement(s.Badge,{text:"Me too!",option:"info"}))],'<ToolTipMultiLine \n    tipContent={(\n        <div>\n            <p>Hi</p>\n            <p>How are you?</p>\n        </div>\n    )}>\n\n    <Badge text="Hover me!" option="info" />\n</ToolTipMultiLine>\n\n<ToolTipMultiLine\n    alignLeft={true}\n    tipContent={(\n        <div>\n            <h4>Note</h4>\n            <p>This is left-aligned.</p>\n        </div>\n    )}>\n\n    <Badge text="Me too!" option="info"/>\n</ToolTipMultiLine>')}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return e.createElement("a",{href:this.props.profileUrl,className:"user-card"},e.createElement("div",{className:"user-card__avatar-thumbnail"},e.createElement("img",{src:this.props.avatarThumbnailUrl})),e.createElement("div",{className:"user-card__display-name"},this.props.displayName))},n}(e.Component);t.UserCard=i}).call(t,n(0))},function(e,t,n){"use strict";function a(){window.addEventListener("beforeinstallprompt",function(e){"function"==typeof e.userChoice&&e.userChoice.then(function(e){console.log(e.outcome),"dismissed"==e.outcome?console.log("User cancelled home screen install"):console.log("User added to home screen")})})}function i(){}function s(){console.log(" _                       _       \n| |    Welcome to       | |      \n| | __ ___   __ _  __ _ | | ___  \n| |/ /|__ \\ / _` |/ _` || |/ _ \\ \n|   < / _  | (_| | (_| || |  __/ \n|_|\\_\\\\__,_|\\__, |\\__, ||_|\\___| \n             __/ | __/ |         \n            |___/ |___/          \n")}Object.defineProperty(t,"__esModule",{value:!0}),t.registerInstallMetrics=a,t.registerPageErrors=i,t.printKaggleConsole=s},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(94),s=n(82),o=n(139),r=n(38),l=n(19),c=n(6),p=n(167),u=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectionGroups=[{label:"Competitions",value:"competitions"},{label:"Kernels",value:"kernels"},{label:"Discussion",value:"discussion"}],e}return a.__extends(n,t),n.prototype.getRankText=function(t){return t.currentRanking?t.currentRanking:e.createElement("span",{className:"leaderboards__rank-text"},"unranked")},n.prototype.getCurrentCategory=function(){return this.category||this.props.group||this.selectionGroups[0].value},n.prototype.onSelectionsChanged=function(e,t){this.category=t},n.prototype.renderListHeaderCount=function(t,n){return e.createElement("div",{key:n,className:"leaderboards__list-header-count leaderboards__list-header-count--"+t.tier},e.createElement("img",{src:"/static/images/tiers/"+t.tier+"@96.png"}),e.createElement("div",null,e.createElement("div",null,s.numberWithCommas(t.count)),e.createElement("div",null,i(t.tier,t.count))))},n.prototype.renderListHeader=function(t,n){var a=n.data;return e.createElement("div",null,e.createElement("div",{className:"leaderboards__list-header"},a.counts.map(this.renderListHeaderCount)),e.createElement("div",{className:"leaderboards__item-wrapper leaderboards__item-wrapper--header"},e.createElement("div",{className:"leaderboards__rank"},"Rank"),e.createElement("div",{className:"leaderboards__tier"},"Tier"),e.createElement("div",{className:"leaderboards__avatar"},e.createElement("div",{className:"leaderboards__user-label"},"User")),e.createElement("div",{className:"leaderboards__name"}),e.createElement("div",{className:"leaderboards__medals"},e.createElement("div",{className:"leaderboards__medals-label"},"Medals")),e.createElement("div",{className:"leaderboards__points"},"Points")),a.userRanking&&(a.userRanking.currentRanking>5||!a.userRanking.currentRanking)?this.renderItem(a.userRanking,-1):null)},n.prototype.renderListFooter=function(t,n){var a=n.data,i=a.counts.filter(function(e){return["contributor","novice"].indexOf(e.tier)>=0}).map(function(e){return e.count}).reduce(function(e,t){return e+t});return e.createElement("div",null,e.createElement("div",{className:"leaderboards__list-footer"},s.numberWithCommas(i)," unranked Contributors and Novices"))},n.prototype.renderItem=function(t,n){return e.createElement(r.BlockLink,{key:n,href:t.userUrl},e.createElement("div",{className:"leaderboards__item-wrapper "+(t.userId===c.Current.userId?"leaderboards__item-wrapper--you":null)},e.createElement("div",{className:"leaderboards__rank"},this.getRankText(t)),e.createElement("div",{className:"leaderboards__tier"},e.createElement("img",{src:"/static/images/tiers/"+t.tier+"@96.png",title:t.tier})),e.createElement("div",{className:"leaderboards__avatar"},e.createElement("a",{href:t.userUrl},e.createElement("img",{src:t.thumbnailUrl}))),e.createElement("div",{className:"leaderboards__name"},e.createElement("p",null,e.createElement("a",{href:t.userUrl},t.displayName)),e.createElement("p",{className:"leaderboards__name-joined"},"joined ",e.createElement(l.TimeAgo,{time:t.joined}))),e.createElement("div",{className:"leaderboards__medals"},e.createElement("div",{className:"leaderboards__medal--gold"},e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/GoldL@1x.png"})),e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("span",null,t.totalGoldMedals))),e.createElement("div",{className:"leaderboards__medal--silver"},e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/SilverL@1x.png"})),e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("span",null,t.totalSilverMedals))),e.createElement("div",{className:"leaderboards__medal--bronze"},e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/BronzeL@1x.png"})),e.createElement("div",{className:"leaderboards__medals-item"},e.createElement("span",null,t.totalBronzeMedals)))),e.createElement("div",{className:"leaderboards__points"},s.numberWithCommas(Math.round(t.points)))))},n.prototype.renderProgressionLink=function(){return e.createElement("a",{className:"leaderboards__learn-more-link",href:"/progression"},"Learn more about rankings ›")},n.prototype.render=function(){return e.createElement("div",{className:"leaderboards"},e.createElement(p.Banner,{title:"Kaggle Rankings",bannerImageClassName:"leaderboards__banner-image"}),e.createElement("div",{className:"leaderboards__wrapper"},e.createElement(o.SmartListContainer,{titleResolver:function(e,t){return s.numberWithCommas(t.data.totalUsers)+" users"},pluralItemDescription:"users",groups:this.selectionGroups,dataUrl:"/rankings.json",dataPathToList:"list",data:this.props,itemRenderer:this.renderItem.bind(this),listHeaderRenderer:this.renderListHeader.bind(this),listFooterRenderer:this.renderListFooter.bind(this),onSelectionsChanged:this.onSelectionsChanged.bind(this),titleBarRightSide:this.renderProgressionLink(),selectionGroupInTitle:!0,values:{group:this.props.group}})))},n}(e.Component);t.Leaderboards=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(111),o=n(1079),r=n(6),l=["Facebook","Google","Yahoo"],c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getFormattedDateOfBirth=function(){if(this.props.dateOfBirth){var e=this.props.dateOfBirth;return e.substring(0,4)+"/"+e.substring(5,7)+"/"+e.substring(8,10)}return null},n.prototype.getValidationMessage=function(e){return this.props.validation?(this.props.validation.filter(function(t){return t.key===e})[0]||{}).error:null},n.prototype.getIdentityProviders=function(){var e=this.props.logins.map(function(e){return e.loginProviderName});return l.filter(function(t){return e.indexOf(t)<0})},n.prototype.renderTitleBarRightSide=function(){return this.props.isEditing?e.createElement("div",{className:"account__multiple-button-container"},e.createElement("a",{className:"account__edit--cancel",onClick:this.props.onCancelClick},"cancel"),e.createElement("div",{className:"account__edit",onClick:this.props.onSaveClick},"Save")):e.createElement("div",{className:"account__edit",onClick:this.props.onEditClick},"Edit")},n.prototype.renderPhoneVerificationContent=function(){return this.props.isSmsVerified?"Verified":e.createElement("a",{href:this.props.verifyAccountUrl,className:"account__verify-account",title:"Verify you account"},"Not verified »")},n.prototype.renderAccountInfo=function(){var t=this;return e.createElement("form",{ref:function(e){return t.props.attributesForm(e)}},e.createElement(i.ContentBox,{title:this.props.userId?"Account (User ID "+this.props.userId+")":" ",titleBarRightSide:this.renderTitleBarRightSide()},e.createElement(o.AccountAttribute,{label:"User Name",value:this.props.userName,description:"Your username cannot be changed."}),e.createElement(o.AccountAttribute,{label:"Display Name",value:this.props.displayName,isEditing:this.props.isEditing,fieldName:"displayName",validationMessage:this.getValidationMessage("DisplayName"),description:"The name users will see publicly. We recommend using your full name."}),e.createElement(o.AccountAttribute,{label:"Date of Birth",isEditing:this.props.isEditing,fieldName:"dateOfBirth",validationMessage:this.getValidationMessage("DateOfBirth"),value:this.getFormattedDateOfBirth()}),e.createElement(o.AccountAttribute,{label:"Email Address",value:this.props.editedEmailAddress||this.props.emailAddress,validationMessage:this.getValidationMessage("EmailAddress"),isEditing:this.props.isEditing,fieldName:"emailAddress",description:this.props.editedEmailAddress?"Note: Your active email address is still "+this.props.emailAddress+" until you confirm your new email.":null}),e.createElement(o.AccountAttribute,{label:"Phone Verification",value:this.renderPhoneVerificationContent()}),e.createElement("div",{className:"account__item"},e.createElement("label",null,"Email Preferences"),e.createElement("div",null,e.createElement(s.Checkbox,{isChecked:this.props.isSubscribedToMailingList,text:"Subscribe to mailing list for competition updates",isEditable:this.props.isEditing,textIsClickable:!0,formInputName:"isSubscribedToMailingList"}))),e.createElement("div",{className:"account__item"},e.createElement("a",{className:"account__close-account",href:"/account/delete"},"Close account..."))))},n.prototype.renderChangePassword=function(){var t=this;return this.props.isShowingChangePassword?e.createElement("form",{ref:function(e){return t.props.changePasswordForm(e)},className:"account__change-password"},e.createElement("div",null,e.createElement("label",null,"Current password"),e.createElement("p",null,e.createElement("input",{type:"password",name:"currentPassword"}))),e.createElement("div",null,e.createElement("label",null,"New password"),e.createElement("p",null,e.createElement("input",{type:"password",name:"newPassword"}))),e.createElement("div",null,e.createElement("label",null,"Confirm new password"),e.createElement("p",null,e.createElement("input",{type:"password",name:"confirmPassword"}))),e.createElement("span",{className:"account__change-password-buttons"},e.createElement("a",{onClick:this.props.onCancelPasswordClick},"Cancel"),e.createElement("a",{onClick:this.props.onSavePasswordClick},"Save"))):null},n.prototype.renderKaggleLogin=function(t,n){return e.createElement("div",{className:"account__login account__login--active",key:n},e.createElement("div",{className:"account__login-image--kaggle"}),e.createElement("div",null,e.createElement("div",null,e.createElement("h3",null,"Kaggle username"),e.createElement("p",null,this.props.userName||this.props.displayName," ",this.props.isShowingChangePassword?null:e.createElement("a",{onClick:this.props.onChangePasswordClick},"Change password »")),this.renderChangePassword())))},n.prototype.renderSocialLogin=function(t,n){var a=this;return e.createElement("div",{className:"account__login account__login--active",key:n},e.createElement("div",{className:"account__login-image--"+t.loginProviderName.toLowerCase()}),e.createElement("div",null,e.createElement("div",null,e.createElement("h3",null,t.loginProviderName," ",t.emailFromProvider?"email":"username"),e.createElement("p",null,t.emailFromProvider||t.loginIdentifier," ",e.createElement("a",{onClick:function(){return a.props.onUnlinkClick(t)}},"Unlink »")))))},n.prototype.renderLogins=function(){var t=this;return e.createElement(i.ContentBox,{title:"My logins"},e.createElement("div",{className:"account__item"},e.createElement("h2",null,"Active logins"),this.props.logins.map(function(e,n){return"Kaggle"===e.loginProviderName?t.renderKaggleLogin(e,n):t.renderSocialLogin(e,n)})),r.Current.isAdmin?null:e.createElement("div",{className:"account__item"},e.createElement("h2",null,"Add additional logins"),e.createElement("p",null,"Link your profile to one or more of the services below for faster login and automatic bio information. We'll never share anything to your networks without your permission."),this.getIdentityProviders().map(function(n,a){return e.createElement("div",{className:"account__login",key:a},e.createElement("div",{className:"account__login-image--"+n.toLowerCase()}),e.createElement("a",{href:"/"+t.props.userName+"/account/link/"+n,className:"account__login-link--"+n.toLowerCase()},"Link to your ",n," account"))})))},n.prototype.render=function(){return e.createElement("div",{className:"account"},this.renderAccountInfo(),this.renderLogins())},n}(e.Component);t.Account=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.getStringValue=function(){return this.props.value},n.prototype.render=function(){return e.createElement("div",{className:"account__item"},e.createElement("label",null,this.props.label),this.props.isEditing&&this.props.fieldName?e.createElement("p",null,e.createElement("input",{type:"text",name:this.props.fieldName,defaultValue:this.getStringValue()})):e.createElement("p",{className:"account__attribute-value"},this.props.value," "),this.props.children,this.props.validationMessage&&this.props.isEditing?e.createElement("p",{className:"account__attribute-description account__attribute-description--error"},this.props.validationMessage):e.createElement("p",{className:"account__attribute-description"},this.props.description))},n}(e.Component);t.AccountAttribute=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(1078),o=n(24),r=function(t){function n(e){var n=t.call(this,e)||this;return n.state=n.getDefaultState(),n}return a.__extends(n,t),n.prototype.componentDidUpdate=function(e,t){this.state.editedEmailAddress!=t.editedEmailAddress&&this.checkAndWarnAboutChangedEmail()},n.prototype.checkAndWarnAboutChangedEmail=function(){this.state.editedEmailAddress&&(console.log("edited email changed."),o.PageMessages.warning("Your new email address needs to be confirmed via the link we sent to your new address before it takes effect."))},n.prototype.getDefaultState=function(){var e=this;return{onEditClick:this.onEditClick.bind(this),onSaveClick:this.onSaveClick.bind(this),onCancelClick:this.onCancelClick.bind(this),onUnlinkClick:this.onUnlinkClick.bind(this),onChangePasswordClick:this.onChangePasswordClick.bind(this),onCancelPasswordClick:this.onCancelPasswordClick.bind(this),onSavePasswordClick:this.onSavePasswordClick.bind(this),attributesForm:function(t){return e.attributesForm=t},changePasswordForm:function(t){return e.changePasswordForm=t},isEditing:!1,logins:[]}},n.prototype.getFormData=function(e){var t={};return i.each(i(e).serializeArray(),function(e,n){t[n.name]=n.value}),t},n.prototype.onChangePasswordClick=function(){this.setState({isShowingChangePassword:!0})},n.prototype.onCancelPasswordClick=function(){this.setState({isShowingChangePassword:!1})},n.prototype.onSavePasswordClick=function(){var e=this;i.ajax({url:"https://"+window.location.hostname+"/"+this.props.userName+"/password.json/",type:"PUT",data:this.getFormData(this.changePasswordForm)}).done(function(t){t.success?(e.setState({isShowingChangePassword:!1}),o.PageMessages.success("Your password has been changed.")):o.PageMessages.error("The current password is incorrect or the new password is invalid.")})},n.prototype.onEditClick=function(){this.setState({isEditing:!0,validation:[]})},n.prototype.onSaveClick=function(){var e=this;o.PageMessages.clear(),i.ajax({url:"/"+this.props.userName+"/account.json",type:"PUT",data:this.getFormData(this.attributesForm)}).done(function(t){e.setState(i.extend({isEditing:!1},t),function(){return e.checkAndWarnAboutChangedEmail()}),o.PageMessages.success("Your account settings have been changed.")}).fail(function(t){403===t.status?e.setState({validation:JSON.parse(t.responseText)}):o.PageMessages.error("An error has occurred. Please try again.")})},n.prototype.onCancelClick=function(){this.setState({isEditing:!1})},n.prototype.onUnlinkClick=function(e){var t=this;i.ajax({url:"/"+this.props.userName+"/account/link/"+e.loginProviderName.toLowerCase()+"/"+e.loginId+".json",type:"delete"}).done(function(e){t.setState(e),o.PageMessages.add(e.pageMessages)})},n.prototype.componentDidMount=function(){var e=this;i.get("/"+this.props.userName+"/account.json").done(function(t){return e.setState(t)})},n.prototype.render=function(){return e.createElement(s.Account,i.extend({},this.state,this.props))},n}(e.Component);t.AccountContainer=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(139),o=n(19),r=n(38),l=n(69),c=n(62),p=n(287),u=n(217),d=n(214),m=n(82),h=[{value:"best",label:"Best Results"},{value:"recent",label:"Most Recent"}],g=[{value:"completed",label:"Completed"},{value:"active",label:"Active"},{value:"tutorial",label:"Tutorial"}],f=function(t){function n(e){var n=t.call(this,e)||this;return n.state={competesWith:[]},n}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;i.get("/"+this.props.userName+"/competition-stats.json").done(function(t){return e.setState(t)})},n.prototype.isTeamCompetition=function(e){return e.teamMembers.length>1},n.prototype.hasCompetitionEnded=function(e){return new Date(e.endDate)<new Date},n.prototype.getListTitle=function(){return this.state.totalCompetitions?e.createElement("span",null,e.createElement(m.FormatNumber,{number:this.state.totalCompetitions})," competitions entered"):" "},n.prototype.renderTimeAgo=function(t){return this.hasCompetitionEnded(t)?e.createElement(o.TimeAgo,{time:t.endDate}):"In progress"},n.prototype.renderRankingDescription=function(t){var n=t.ranking;return 1===n?this.hasCompetitionEnded(t)?e.createElement("span",{className:"profile-competitions__list-item-ranking-desc-winner"},"Winner"):e.createElement("span",null,"1st place"):n<=10?e.createElement("span",null,"Top 10"):e.createElement("span",null,"Top ",Math.round(100*n/t.totalCompetitors),"%")},n.prototype.renderTeamDescription=function(t){return this.isTeamCompetition(t)?e.createElement("span",null,t.totalEntries," submissions with team ",e.createElement("a",{href:t.teamUrl,className:"profile-competitions__team-link"},t.teamName)):e.createElement("span",null,t.totalEntries," entries as a solo competitor")},n.prototype.renderCompetitionListItem=function(t,n){return e.createElement(r.BlockLink,{key:n,href:t.competitionUrl},e.createElement("div",{className:"profile-competitions__list-item profile-competitions__list-item--"+(t.canQualifyTalent?"qualify":"no-qualify")},e.createElement("div",{className:"profile-competitions__list-item-thumbnail"},e.createElement("img",{src:t.thumbnailImageUrl,alt:t.competitionTitle})),e.createElement("div",{className:"profile-competitions__list-item-meta"},e.createElement("h2",{className:"profile-competitions__list-item-name"},e.createElement("a",{href:t.competitionUrl},t.competitionTitle)),e.createElement("div",{className:"profile-competitions__list-item-entries"},e.createElement("span",{className:"profile-competitions__list-item-entries--bold"},this.renderTimeAgo(t)," · Top ",Math.min(Math.ceil(t.ranking/t.totalCompetitors*100),100),"% ",t.canQualifyTalent?"":" · Competition Ineligible for Medals"),e.createElement("br",null),this.renderTeamDescription(t))),e.createElement("div",{className:"profile-competitions__list-item-team"},this.isTeamCompetition(t)?t.teamMembers.map(function(t,n){var i=(t.totalTeamCompetitions,a.__rest(t,["totalTeamCompetitions"]));return e.createElement(l.Avatar,a.__assign({tierMargin:0,key:n},i,{width:30}))}):null),e.createElement("div",{className:"profile-competitions__list-item-medal"},null!=t.medal?e.createElement("img",{src:"/static/images/medals/competitions/"+t.medal+"L@2x.png",title:t.medal}):e.createElement("div",{className:"profile-competitions__list-item-medal-spacer"}),e.createElement("div",{className:"profile-competitions__list-item-medal-rank-box"},e.createElement("div",{className:"profile-competitions__list-item-medal-rank"},e.createElement(d.FormatPlace,{number:t.ranking,superscript:!0})),e.createElement("div",{className:"profile-competitions__list-item-medal-teams"},"of ",t.totalCompetitors)))))},n.prototype.render=function(){return e.createElement("div",{className:"profile-competitions"},e.createElement(u.AchievementSummary,a.__assign({},this.props.competitionsSummary),e.createElement("div",{className:"achievement-summary__stats-wrapper"},e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Competitions: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalCompetitions)),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Solo: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalSoloCompetitions," ",e.createElement("span",{className:"achievement-summary__stats-text--small"},this.state.totalSoloCompetitions?"("+Math.round(this.state.totalSoloCompetitions/this.state.totalCompetitions*100)+"%)":null," "))),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Team: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalTeamCompetitions," ",e.createElement("span",{className:"achievement-summary__stats-text--small"},this.state.totalTeamCompetitions?"("+Math.round(this.state.totalTeamCompetitions/this.state.totalCompetitions*100)+"%)":null," "))))),e.createElement(p.NextTier,{currentTier:this.props.competitionsSummary.tier,area:"competitions",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),e.createElement(s.SmartListContainer,{titleResolver:this.getListTitle.bind(this),pluralItemDescription:"competitions",sortOptions:h,groups:g,data:this.state,dataUrl:"/"+this.props.userName+"/competitions.json",dataPathToList:"competitions",itemRenderer:this.renderCompetitionListItem.bind(this),mobileSortUpperBound:c.Breakpoints.tabletMax}))},n}(e.Component);t.Competition=f}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(5),o=function(t){function n(e){var n=t.call(this,e)||this;return n.onSendEmail=function(){var e=a(n.refs.form).serializeArray();a.post(n.endpointUrl,e).then(function(e){s.PageMessages.clear(),e?(s.PageMessages.success("Your message has been sent"),n.setState({canSend:!1})):s.PageMessages.error("There was a problem sending your message")})},n.endpointUrl=n.props.userUrl+"/contact.json",n.state={hasLoaded:!1},n}return i.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;a.get(this.endpointUrl).then(function(t){t.errorMessage&&s.PageMessages.error(t.errorMessage),t.infoMessage&&s.PageMessages.info(t.infoMessage),e.setState({hasLoaded:!0,canSend:t.canSend})})},n.prototype.render=function(){var t=this;return this.state.hasLoaded?e.createElement("div",{className:"profile-contact"},e.createElement(s.ContentBox,{title:"Contact User"},e.createElement("div",{className:"profile-contact__wrapper"},e.createElement("form",{ref:"form",disabled:!this.state.canSend},e.createElement("div",{className:"profile-contact__row"},e.createElement("label",{className:"profile-contact__row-label"},"To"),e.createElement("div",{className:"profile-contact__row-value"},this.props.displayName," ",e.createElement("span",{className:"profile-contact__confidential"},"<confidential> "))),e.createElement("div",{className:"profile-contact__row"},e.createElement("label",{className:"profile-contact__row-label"},"From"),e.createElement("div",{className:"profile-contact__row-value"},s.Current.userDisplayName," <",s.Current.userEmail,"> ")),e.createElement("div",{className:"profile-contact__row"},e.createElement("label",{className:"profile-contact__row-label"},"Subject"),e.createElement("div",{className:"profile-contact__row-value"},e.createElement("input",{type:"text",className:"profile-contact__subject",name:"subject",disabled:!this.state.canSend,autoFocus:!0}))),e.createElement("div",{className:"profile-contact__row"},e.createElement("textarea",{className:"profile-contact__body",name:"body",disabled:!this.state.canSend})),e.createElement("div",{className:"profile-contact__row"},e.createElement(s.Button,{text:"Send Email",onClick:this.onSendEmail,isDisabled:!this.state.canSend}),this.state.canSend?e.createElement("a",{className:"profile-contact__discard-link",onClick:function(){return t.props.onProfileTabChanged("home")}},"Discard"):null))))):null},n}(e.Component);t.Contact=o}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(19),o=n(115),r=n(139),l=n(62),c=n(287),p=n(217),u=n(284),d=[{value:"mostVotes",label:"Most Votes"},{value:"latestPost",label:"Latest Post"}],m=[{value:"commentsAndTopics",label:"Comments and topics"},{value:"comments",label:"Comments"},{value:"topics",label:"Topics"},{separator:!0},{value:"upvoted",label:"Upvoted"}],h=function(t){function n(e){var n=t.call(this,e)||this;return n.state={},n}return i.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;a.get("/"+this.props.userName+"/discussion.json").done(function(t){return e.setState(t)})},n.prototype.onDidUpdate=function(){a(".profile-discussion__list-item").each(function(e,t){var n=a(t);n.outerHeight()>398&&n.find(".profile-discussion__show-more").show(),n.find("img").one("load",function(){n.outerHeight()>398&&n.find(".profile-discussion__show-more").show()})})},n.prototype.onShowMoreClicked=function(e){var t=a(e.target);t.parents(".profile-discussion__list-item-section").css("max-height","none"),t.parents(".profile-discussion__show-more").remove()},n.prototype.getTitle=function(e,t){return null!=this.state.totalTopics&&t.data&&!t.isLoadingMoreData?(t.data.totalDiscussions||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+t.values.group.replace(/([A-Z])/g," $1").toLowerCase():" "},n.prototype.renderTaglineLink=function(t){return e.createElement("a",{href:t.url},t.name)},n.prototype.renderTaglineLinkPost=function(t,n){return e.createElement("a",{href:t.url+"?forumMessageId="+n+"#post"+n},t.name)},n.prototype.renderTagline=function(t){switch(t.type){case"forumMessage":return e.createElement("div",null,e.createElement("div",{className:"profile-discussion__list-item-tagline-title"},this.renderTaglineLinkPost(t.forumTopic,t.id)),e.createElement("p",{className:"profile-discussion__list-item-tagline-meta"},"Comment ",e.createElement(s.TimeAgo,{time:t.postDate})," in ",this.renderTaglineLink(t.forum)));case"scriptComment":return e.createElement("div",null,e.createElement("div",{className:"profile-discussion__list-item-tagline-title"},this.renderTaglineLink(t.script)),e.createElement("p",{className:"profile-discussion__list-item-tagline-meta"},"Comment ",e.createElement(s.TimeAgo,{time:t.postDate})," on kernel"));case"forumTopic":return e.createElement("div",null,e.createElement("div",{className:"profile-discussion__list-item-tagline-title"},this.renderTaglineLink(t.forumTopic)),e.createElement("p",{className:"profile-discussion__list-item-tagline-meta"},"Topic ",e.createElement(s.TimeAgo,{time:t.postDate})," in ",this.renderTaglineLink(t.forum)));default:return null}},n.prototype.renderDiscussionListItem=function(t,n){return e.createElement("div",{key:t.id,className:"profile-discussion__list-item"},e.createElement("div",{className:"profile-discussion__list-item-icon"},e.createElement("i",{className:"fa "+("forumTopic"===t.type?"fa-file-text-o":"fa-comment-o")})),e.createElement("div",{className:"profile-discussion__list-item-main"},e.createElement("div",{className:"profile-discussion__list-item-top"},e.createElement("div",{className:"profile-discussion__list-item-tagline"},this.renderTagline(t)),e.createElement("div",{className:"profile-discussion__list-item-vote"},t.medal&&e.createElement("img",{src:"/static/images/medals/discussion/"+t.medal+"L@1x.png",title:t.medal,height:"25px",width:"25px"}),e.createElement(o.VoteButton,{canDownvote:t.vote.canDownvote,canUpvote:t.vote.canUpvote,compact:!0,hasAlreadyVotedDown:t.vote.hasAlreadyVotedDown,hasAlreadyVotedUp:t.vote.hasAlreadyVotedUp,totalVotes:t.totalScore,voteDownUrl:t.vote.voteDownUrl,voteUpUrl:t.vote.voteUpUrl}))),e.createElement("div",{className:"profile-discussion__list-item-section"},e.createElement("div",{className:"profile-discussion__list-item-body"},t.attachments.length&&t.attachments.length>1?e.createElement("div",{className:"profile-discussion__list-item-attachments"},t.attachments.map(function(t){return e.createElement("div",{className:"profile-discussion__list-item-attachment"},e.createElement("a",{href:t.downloadUrl},t.fileName)," (",t.fileSizeDescription,")")})):null,e.createElement("div",{className:"profile-discussion__show-more",onClick:this.onShowMoreClicked},e.createElement("div",null," "),e.createElement("p",null,"Read full comment ",e.createElement("i",{className:"fa fa-chevron-down","aria-hidden":"true"}))),e.createElement("div",{className:"markdown-converter__text--rendered forum-message-content",dangerouslySetInnerHTML:{__html:t.message},ref:function(e){u.Render(t.message,e)}})))))},n.prototype.render=function(){return e.createElement("div",{className:"profile-discussion"},e.createElement(p.AchievementSummary,i.__assign({},this.props.discussionsSummary),e.createElement("div",{className:"achievement-summary__stats-wrapper"},e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Total Posts: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalDiscussions)),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Comments: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalReplies)),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Topics: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalDiscussions?this.state.totalDiscussions-this.state.totalReplies:null)),e.createElement("div",{className:"achievement-summary__stats-divider"}),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Net Votes: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes)),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Votes/Post: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes?Math.round(this.state.totalUpvotes/this.state.totalDiscussions*100)/100:null)))),e.createElement(c.NextTier,{currentTier:this.props.discussionsSummary.tier,area:"discussion",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),e.createElement(r.SmartListContainer,{titleResolver:this.getTitle.bind(this),pluralItemDescription:"discussions",sortOptions:d,groups:m,data:this.state,dataUrl:"/"+this.props.userName+"/discussion.json",dataPathToList:"discussions",itemRenderer:this.renderDiscussionListItem.bind(this),onDidUpdate:this.onDidUpdate,mobileSortUpperBound:l.Breakpoints.tabletMax}))},n}(e.Component);t.Discussion=h}).call(t,n(0),n(3))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(8),s=n(7),o=n(69),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.render=function(){return this.props.isComponentVisible?e.createElement(s.ContentBox,{title:this.props.title},this.props.isHeaderVisible?this.renderHeader():null,this.renderData(),!this.props.isShowMoreButtonVisible&&this.props.activeList.maxCountReached?this.renderMaxResultHint():null,this.props.isShowMoreButtonVisible?this.renderFooter():null):null},n.prototype.renderHeader=function(){var t=this;return e.createElement("div",{className:"followers__header"},this.props.isFollowersVisible?e.createElement("div",{className:i("followers__header-item",{"followers__header-active":"followers"==this.props.activeTab}),onClick:function(){t.props.onTabChanged("followers")}},"Followers (",this.props.followers.count,")"):null,this.props.isFollowingVisible?e.createElement("div",{className:"followers__header-item "+("following"==this.props.activeTab?"followers__header-active":""),onClick:function(){t.props.onTabChanged("following")}},"Following (",this.props.following.count,")"):null)},n.prototype.renderData=function(){var t=this,n=this.props.activeList.list;return this.props.showCount>=0&&(n=this.props.activeList.list.slice(0,this.props.showCount)),e.createElement("div",{className:"followers__content"},n.map(function(e){return t.renderItem(e)}))},n.prototype.renderMaxResultHint=function(){return e.createElement("div",{className:"followers__maxresults"},"Looks like there many results in this list. We've limited results to the first ",this.props.activeList.count,".")},n.prototype.renderFooter=function(){var t=this;return e.createElement("div",{className:"followers__footer",onClick:function(){return t.props.onShowMore()}},"Show More")},n.prototype.renderItem=function(t){return e.createElement("a",{className:"followers__item",href:t.userUrl,key:t.userId},e.createElement("div",{className:"followers__avatar"},e.createElement(o.Avatar,{id:t.userId,thumbnailUrl:t.thumbnailUrl,userUrl:t.userUrl,displayName:t.displayName,tier:t.tier,width:45})),e.createElement("div",{className:"followers__name"},t.displayName))},n}(e.Component);t.Followers=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(7),s=n(277),o=n(217),r=n(62),l=n(100),c=n(112),p=n(61),u=n(431),d=n(395),m=(d(),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(n,t),n.prototype.renderSummary=function(t){return e.createElement("div",{className:"profile__home__medal-summary"},e.createElement(o.AchievementSummary,a.__assign({},t,{onProfileTabChanged:this.props.onProfileTabChanged})))},n.prototype.renderEditToggleButton=function(){return this.props.canEdit?e.createElement(c.EditStateToggleButton,{isEditing:this.props.isEditingBio,sectionName:"Bio",cancelPropName:"cancel",cancelCallback:this.props.onBioEditCancelled,toggleCallback:this.props.onBioEditToggled}):null},n.prototype.render=function(){var t=this,n=this.props,o=(n.onBioMarkdownChanged,n.onBioEditToggled,n.onBioEditCancelled,n.isEditingBio,n.onProfilePropChanged,n.onProfileEditingStateCancelled,n.onProfileEditingStateChanged,n.updatePageMessages,n.onUpdateProfileImage,n.onFollowUser,n.onUnfollowUser,n.userTier,n.activeTab,n.isEditingHeader,n.menuLinks,n.overflowMenuLinks,a.__rest(n,["onBioMarkdownChanged","onBioEditToggled","onBioEditCancelled","isEditingBio","onProfilePropChanged","onProfileEditingStateCancelled","onProfileEditingStateChanged","updatePageMessages","onUpdateProfileImage","onFollowUser","onUnfollowUser","userTier","activeTab","isEditingHeader","menuLinks","overflowMenuLinks"])),c=this.props.canEdit&&(!this.props.bio||""==this.props.bio.trim());return e.createElement("div",{className:"profile__home"},e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},e.createElement("div",{className:"profile__home__medals"},this.renderSummary(this.props.competitionsSummary),this.renderSummary(this.props.scriptsSummary),this.renderSummary(this.props.discussionsSummary))),this.props.canEdit||this.props.bio?e.createElement(i.ContentBox,{title:"Bio",titleBarRightSide:this.renderEditToggleButton()},e.createElement("div",{className:"profile__home__bio"},this.props.isEditingBio?e.createElement("div",{className:"profile__home__bio-editor"},e.createElement(l.MarkdownEditor,{defaultValue:this.props.bio,alwaysShowToolbar:!0,shouldSanitizeHtml:!0,minRows:3,onChangeCallback:this.props.onBioMarkdownChanged})):e.createElement("div",{className:"profile__home__bio-text"},c?e.createElement("div",{onClick:function(){t.props.onBioEditToggled("Bio")},className:"profile__home__bio-add"},"Click to add bio..."):e.createElement(p.MarkdownConverter,{content:this.props.bio,insertNofollow:!0,mimeType:"text/markdown"})))):null,e.createElement(r.MediaQuery,{minWidth:0,maxWidth:r.Breakpoints.tabletMax},e.createElement("div",{className:"profile__home__medals"},this.renderSummary(this.props.competitionsSummary),this.renderSummary(this.props.scriptsSummary),this.renderSummary(this.props.discussionsSummary))),this.props.canSeeFollowers?e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},e.createElement(u.FollowersContainer,a.__assign({},o,{limitTo:9,largeComponent:!1}))):null,e.createElement(r.MediaQuery,{minWidth:r.Breakpoints.desktopMin},e.createElement(i.ContentBox,{title:"Activity"},e.createElement(s.ActivityCalendar,{username:this.props.userName,tier:this.props.performanceTier}))))},n}(e.Component));t.Home=m}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(1085),o=function(t){function n(e){var n=t.call(this,e)||this;return n.onBioMarkdownChanged=function(e){n.bio=e},n.onBioEditCancelled=function(){n.setState({isEditingBio:!1})},n.onBioEditToggled=function(e){n.state.isEditingBio&&void 0!==n.bio?i.ajax({context:n,url:n.props.userUrl+"/bio.json",type:"PUT",contentType:"application/json",data:JSON.stringify({bio:n.bio}),success:function(e){n.setState({isEditingBio:!1,bio:n.bio})}}):n.setState({isEditingBio:!n.state.isEditingBio})},n.state={onBioMarkdownChanged:n.onBioMarkdownChanged,onBioEditToggled:n.onBioEditToggled,onBioEditCancelled:n.onBioEditCancelled,onProfileTabChanged:n.props.onProfileTabChanged},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(s.Home,i.extend({},this.props,this.state))},n}(e.Component);t.HomeContainer=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(5),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderTitle=function(t){var a=n.props.totalOrganizations;return e.createElement("span",null,e.createElement(i.Pluralize,{count:a,word:"organization",formatNumber:!0})," joined")},n.renderOrganization=function(t){return e.createElement(i.OrganizationCard,a.__assign({},t,{key:t.url}))},n.renderFooter=function(t){return e.createElement("div",{className:"profile__organizations-footer"},e.createElement(i.Button,{href:"/organizations/new",text:"Create an organization"}))},n}return a.__extends(n,t),n.prototype.render=function(){return e.createElement(i.SmartListContainer,{titleResolver:this.renderTitle,dataUrl:this.props.userUrl+"/organizations.json",itemRenderer:this.renderOrganization,listFooterRenderer:this.renderFooter,pluralItemDescription:"organizations"})},n}(e.Component);t.Organizations=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(50),s=n(1081),o=n(1083),r=n(1082),l=n(1090),c=n(1087),p=n(1080),u=n(416),d=n(1086),m=n(5),h=n(212),g=n(428),f=n(215),v=n(114),_=n(81),b=n(7),E=n(431),y=function(t){function n(e){var n=t.call(this,e)||this;return n.onCityChanged=function(e,t,a){n.props.onProfilePropChanged("city",e),n.props.onProfilePropChanged("region",t),n.props.onProfilePropChanged("country",a)},n.onUpdateImages=function(e,t){return n.props.onUpdateProfileImage(e,t).then(function(e){return n.setState({isEditingImage:!1})})},n.onOpenImageUploader=function(){n.setState({isEditingImage:!0})},n.onCloseImageUploader=function(){n.setState({isEditingImage:!1})},n.onEditProfileClicked=function(){n.props.onProfileEditingStateChanged("Header"),n.props.onProfileTabChanged("account")},n.state={isEditingImage:!1},n}return a.__extends(n,t),n.prototype.getOverallTierName=function(){return"staff"===this.props.performanceTier?"Kaggle Team":this.props.performanceTierCategory+" "+this.props.performanceTier},n.prototype.getCityDescription=function(){var e=g.getCountryNameByCode(this.props.country)||this.props.country;return[this.props.city,this.props.region,e].filter(Boolean).join(", ")},n.prototype.renderDisplayName=function(){var t=this;return this.props.isEditingHeader&&this.props.canEdit?e.createElement(m.InlineTextEditor,{className:"profile__display-name--input",value:this.props.displayName,placeholder:"Enter your display name",onChangeCallback:function(e){return t.props.onProfilePropChanged("displayName",e)}}):e.createElement("span",null,e.createElement("span",{className:"profile__head-display-name"},this.props.displayName),this.props.genieUrl?e.createElement("a",{href:this.props.genieUrl,className:"profile__genie-link"},"Genie!"):null,m.Current.isAdmin?e.createElement("a",{className:"profile__genie-link",onClick:this.onEditProfileClicked},"Edit Profile"):null)},n.prototype.renderPrimaryCallToAction=function(){return this.props.isEditingHeader?this.renderSaveCallToAction():this.props.userId===m.Current.userId?this.renderEditCallToAction():this.props.canSeeFollowers?this.renderFollowCallToAction():this.renderContactCallToAction(!0)},n.prototype.renderSecondaryCallToAction=function(){return this.props.isEditingHeader?this.renderCancelCallToAction():this.props.userId===m.Current.userId?null:this.props.canSeeFollowers?this.renderContactCallToAction(!1):null},n.prototype.renderEditCallToAction=function(){return e.createElement("a",{className:"pageheader__calltoaction",title:"Edit Profile",onClick:this.onEditProfileClicked},"Edit Profile")},n.prototype.renderSaveCallToAction=function(){var t=this;return e.createElement("a",{className:"pageheader__calltoaction--active",title:"Save Profile",onClick:function(){return t.props.onProfileEditingStateChanged("Header")}},"Save Profile")},n.prototype.renderCancelCallToAction=function(){var t=this;return e.createElement("a",{className:"profile__editing-cancel",title:"Cancel",onClick:function(){return t.props.onProfileEditingStateCancelled("Header",["displayName","gitHubUserName","linkedInUrl","twitterUserName","userAvatarUrl","country","region","city","occupation","organization","websiteUrl"])}},"cancel")},n.prototype.renderContactCallToAction=function(t){var n=this;return e.createElement("a",{className:t?"pageheader__calltoaction":"profile__contact-user-link",title:"Contact User",onClick:m.Current.isAnonymous?null:function(){return n.props.onProfileTabChanged("contact")},href:m.Current.isAnonymous?"account/login?returnUrl="+encodeURIComponent(this.props.userName+"/contact"):null},"Contact User")},n.prototype.renderFollowCallToAction=function(){var t=this;return this.props.followers.containsSelf?e.createElement("a",{className:"pageheader__calltoaction--warning",title:"Unfollow User",onClick:function(){return t.props.onUnfollowUser()}},"Unfollow User"):e.createElement("a",{className:"pageheader__calltoaction",title:"Follow User",onClick:m.Current.isAnonymous?null:function(){return t.props.onFollowUser()},href:m.Current.isAnonymous?"account/login?returnUrl="+encodeURIComponent(this.props.userName+"/followers"):null},"Follow User")},n.prototype.renderAvatarOverlay=function(){var t=e.createElement(f.ImageUploader,{title:"Upload Your Profile Image",imageSettings:[new f.ImageSetting("profile image","Select an area of the image to use for your profile",new f.Size(200,200),new f.Rectangle(new f.Point(0,0),new f.Size(0,0)))],originalImageUrl:null,containerSize:new f.Size(500,300),selectorBorderWidth:1,onCancel:this.onCloseImageUploader,onUpdateImages:this.onUpdateImages,hiResScale:2}),n=e.createElement(v.Modal,{buttonClassName:"pageheader__imageuploaderbutton",modalClassName:"pageheader__imageuploadermodal",modalContent:t,modalIsShown:this.state.isEditingImage,onShow:this.onOpenImageUploader,onClose:this.onCloseImageUploader});return e.createElement("div",{className:"profile__avatar-overlay"},n,e.createElement("p",{className:"profile__avatar-text",onClick:this.onOpenImageUploader},"Change your Profile Photo"))},n.prototype.renderUserSocialLinks=function(){var t=this;return this.props.isEditingHeader?e.createElement("ul",{className:"profile__social-links--editing"},e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-github"}),e.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.gitHubUserName,placeholder:"GitHub Username",onChangeCallback:function(e){return t.props.onProfilePropChanged("gitHubUserName",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-twitter"}),e.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.twitterUserName,placeholder:"Twitter Username",onChangeCallback:function(e){return t.props.onProfilePropChanged("twitterUserName",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-linkedin"}),e.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.linkedInUrl,placeholder:"LinkedIn URL",onChangeCallback:function(e){return t.props.onProfilePropChanged("linkedInUrl",e)}})),e.createElement("li",{className:"profile__social-link--editing"},e.createElement("span",{className:"fa fa-globe"}),e.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.websiteUrl,placeholder:"Website URL",onChangeCallback:function(e){return t.props.onProfilePropChanged("websiteUrl",e)}}))):e.createElement("ul",{className:"profile__social-links"},this.props.gitHubUserName&&this.props.gitHubUserName.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:"https://github.com/"+this.props.gitHubUserName,rel:"nofollow"},e.createElement("span",{className:"fa fa-github"}))):null,this.props.twitterUserName&&this.props.twitterUserName.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:"https://twitter.com/"+this.props.twitterUserName,rel:"nofollow"},e.createElement("span",{className:"fa fa-twitter"}))):null,this.props.linkedInUrl&&this.props.linkedInUrl.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:this.props.linkedInUrl,rel:"nofollow"},e.createElement("span",{className:"fa fa-linkedin"}))):null,this.props.websiteUrl&&this.props.websiteUrl.length?e.createElement("li",{className:"profile__social-link"},e.createElement("a",{href:this.props.websiteUrl,className:"profile__social-link--url",rel:"nofollow"},this.props.websiteUrl)):null)},n.prototype.renderDatasetsPane=function(){var t=e.createElement(u.DatasetListReact,{banner:null,canCreateNewDataset:!1,userId:this.props.userId});return this.props.totalDatasets>0||!this.props.canSeeCallToAction||this.props.userId!==m.Current.userId?t:e.createElement("div",null,e.createElement(b.ContentBox,null,e.createElement("div",{className:"profile__user-action-callout"},e.createElement("h4",null,"A data scientist with no data? No such thing!"),e.createElement("p",null,"Publish any dataset on Kaggle’s ",e.createElement("a",{href:"https://www.kaggle.com/datasets"},"open data platform"),", and your collection will grow here."),e.createElement("p",null,"Find other data enthusiasts with shared interests to discuss and collaborate for work or play."),e.createElement("div",{className:"profile__user-action-callout-button"},e.createElement(_.Button,{text:"New Dataset",href:"https://www.kaggle.com/datasets/new"})))),t)},n.prototype.renderActivePane=function(){var t=this.props,n=(t.onProfilePropChanged,t.onProfileEditingStateCancelled,t.onProfileEditingStateChanged,t.updatePageMessages,t.onProfileTabChanged,t.replaceUrlForTab,t.onUpdateProfileImage,t.onFollowUser,t.onUnfollowUser,t.userTier,t.activeTab,t.isEditingHeader,t.menuLinks,t.overflowMenuLinks,a.__rest(t,["onProfilePropChanged","onProfileEditingStateCancelled","onProfileEditingStateChanged","updatePageMessages","onProfileTabChanged","replaceUrlForTab","onUpdateProfileImage","onFollowUser","onUnfollowUser","userTier","activeTab","isEditingHeader","menuLinks","overflowMenuLinks"])),i=this.props.activePane.toLowerCase();switch(i){case"home":return e.createElement(d.HomeContainer,a.__assign({},n,{onProfileTabChanged:this.props.onProfileTabChanged}));case"competitions":return e.createElement(s.Competition,a.__assign({},n));case"kernels":return e.createElement(l.Scripts,a.__assign({},n));case"discussion":return e.createElement(o.Discussion,a.__assign({},n));case"contact":return e.createElement(r.Contact,a.__assign({},n));case"datasets":return this.renderDatasetsPane();case"organizations":return e.createElement(c.Organizations,a.__assign({},n));case"followers":case"following":return this.props.canSeeFollowers?e.createElement(E.FollowersContainer,a.__assign({},n,{onProfileTabChanged:this.props.onProfileTabChanged,replaceUrlForTab:this.props.replaceUrlForTab,limitTo:300,largeComponent:!0,initiallyActiveTab:i})):null;case"account":return this.props.canEdit?e.createElement(p.AccountContainer,{userName:this.props.userName}):e.createElement(d.HomeContainer,a.__assign({},n));default:return null}},n.prototype.renderNav=function(){var t=this;return e.createElement(i.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"profile",menuLinks:this.props.menuLinks,overflowMenuLinks:this.props.overflowMenuLinks,changeActiveTab:function(e){return t.props.onProfileTabChanged(e)}})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"profile"},e.createElement("div",{className:"profile__header--"+this.props.performanceTier},e.createElement(i.PageHeader,null,e.createElement(i.PageHeaderTopRow,{modifier:"profile",title:this.renderDisplayName(),subtitle:"",isEditingHeaderInfo:!1,titleUrl:null},e.createElement(i.PageHeaderThumbnail,{classNameElement:"avatar",classNameModifier:"profile",imageUrl:this.props.userAvatarUrl,thumbnailOverlay:this.props.isEditingHeader?this.renderAvatarOverlay():null,targetUrl:""}),this.props.isEditingHeader?null:e.createElement("div",null,e.createElement(m.MediaQuery,{minWidth:0,maxWidth:m.Breakpoints.mobileMax},e.createElement("p",{className:"profile__user-metadata"},"Joined ",e.createElement(m.TimeAgo,{time:this.props.userJoinDate}),e.createElement("br",null),"last seen ",e.createElement(m.TimeAgo,{time:this.props.userLastActive,maxGranularity:"day"}))),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMin},e.createElement("p",{className:"profile__user-metadata"},"Joined ",e.createElement(m.TimeAgo,{time:this.props.userJoinDate}),this.props.userLastActive?e.createElement("span",null," · last seen ",e.createElement(m.TimeAgo,{time:this.props.userLastActive,maxGranularity:"day"})):null))),!this.props.isEditingHeader&&e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMax},e.createElement("div",{className:"profile__user-followers"},this.props.canSeeFollowers&&this.props.followers.count>0?e.createElement("div",{className:"profile__user-followers-item",onClick:function(){return t.props.onProfileTabChanged("followers")}},e.createElement("span",{className:"profile__user-followers-header"},"Followers"),this.props.followers.count):null,this.props.canSeeFollowers&&this.props.following.count>0?e.createElement("div",{className:"profile__user-followers-item",onClick:function(){return t.props.onProfileTabChanged("following")}},e.createElement("span",{className:"profile__user-followers-header"},"Following"),this.props.following.count):null)),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMax},e.createElement("div",{className:"profile__user-spacer"})),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMax},e.createElement("div",{className:"profile__user-tier profile__user-tier--"+this.props.performanceTier},e.createElement("a",{href:"/progression",title:"Progression"},e.createElement("p",null,e.createElement("img",{src:"/static/images/tiers/"+this.props.performanceTier+"@192.png",height:"92px",width:"92px"})),e.createElement("p",null,this.getOverallTierName())))),this.props.isEditingHeader&&this.props.canEdit?e.createElement("div",null,e.createElement("div",{className:"profile__user-occupation-edit"},e.createElement(m.InlineTextEditor,{className:"profile__user-occupation--input",value:this.props.occupation,placeholder:"Occupation",onChangeCallback:function(e){return t.props.onProfilePropChanged("occupation",e)}})," at ",e.createElement(m.InlineTextEditor,{className:"profile__user-occupation--input",value:this.props.organization,placeholder:"Organization",onChangeCallback:function(e){return t.props.onProfilePropChanged("organization",e)}})),e.createElement("div",{className:"profile__country-select"},e.createElement(h.CityLookup,{city:this.props.city,region:this.props.region,country:this.props.country,onChange:this.onCityChanged}))):e.createElement("div",null,e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMax},e.createElement("div",null,e.createElement("p",{className:"profile__user-occupation"},(this.props.occupation||"")+" "+(this.props.occupation&&this.props.organization?"at":"")+" "+(this.props.organization||"")),e.createElement("p",{className:"profile__user-location"},this.getCityDescription()))),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.mobileMax,maxWidth:m.Breakpoints.tabletMax},e.createElement("div",null,e.createElement("p",{className:"profile__user-location"},(this.props.occupation||"")+" "+(this.props.occupation&&this.props.organization?"at":"")+" "+(this.props.organization||""),this.props.occupation||this.props.organization?" · ":"",this.getCityDescription())))),this.renderUserSocialLinks()))),e.createElement("div",{className:"profile__wrapper"},e.createElement(i.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},e.createElement(m.MediaQuery,{minWidth:0,maxWidth:m.Breakpoints.tabletMax},e.createElement(m.OverflowX,null,this.renderNav())),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.desktopMin},this.renderNav()),e.createElement(m.MediaQuery,{minWidth:m.Breakpoints.desktopMin},e.createElement("div",{className:"profile__cta-area"},this.renderSecondaryCallToAction(),this.renderPrimaryCallToAction())))),e.createElement("div",{className:"profile__wrapper"},this.renderActivePane()))},n}(e.Component);t.Profile=y}).call(t,n(0))},function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(3),o=n(82),r=n(1088),l=n(24),c=n(5),p=e.Users,u=function(e){function t(t){var n=e.call(this,t)||this;n.resizeListener=function(){return n.setState(n.getMenuLinks(n.state.isEditingHeader))},n.validationRules=[{isValid:function(){return!(!n.state.displayName||!n.state.displayName.trim())},id:"profile-no-display-name",message:function(){return"Please enter a display name."}},{isValid:function(){return!(n.state.displayName&&(n.state.displayName.trim().length<2||n.state.displayName.trim().length>50))},id:"profile-display-name-length",message:function(){return"Your display name must be between 2 and 50 characters in length."}},{isValid:function(){return!n.state.websiteUrl||c.isValidUrl(n.state.websiteUrl)},id:"profile-website-format",message:function(){return"Please enter a valid website URL."}},{isValid:function(){return!n.state.linkedInUrl||c.isValidUrl(n.state.linkedInUrl)},id:"profile-linkedin-format",message:function(){return"Please enter a valid LinkedIn URL."}}],n.onWindowPopState=function(e){e.state&&e.state.profileTabState&&n.setState(e.state.profileTabState)},n.onProfileTabChanged=function(e){l.PageMessages.clear(),n.checkHiddenTabMessage(e),n.setState({activePane:e,activeTab:e},function(){return n.updateUrlForTab(e)})},n.onFollowUser=function(){p.followUser({userName:n.props.userName},null).then(function(e){if("error"===e.status)return l.PageMessages.clear(),void l.PageMessages.error({htmlMessage:e.message});n.addSelfToFollowerList()})},n.onUnfollowUser=function(){p.unfollowUser({userName:n.props.userName},null).then(function(e){if("error"===e.status)return l.PageMessages.clear(),void l.PageMessages.error({htmlMessage:e.message});n.removeSelfFromFollowerList()})},n.replaceUrlForTab=function(e){var t=window.history.state||{},a=n.props.userUrl;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.replaceState(t,"",a)},n.updateUrlForTab=function(e){var t={};t.profileTabState={activePane:e,activeTab:e};var a=n.props.userUrl;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.pushState(t,"",a)},n.onProfilePropChanged=function(e,t){var a={};a[e]=t,n.setState(a)},n.onProfileEditingStateCancelled=function(e,t){var a={},i={};a["isEditing"+e]=!1;for(var o=0,r=t;o<r.length;o++){var c=r[o];i[c]=n.props[c]}n.setState(s.extend({},a,i,n.getMenuLinks(!1)),function(){l.PageMessages.clear()})},n.onProfileEditingStateChanged=function(e){var t=n.state["isEditing"+e],a=n.getMenuLinks(!t);if(a["isEditing"+e]=!t,!t)return void n.setState(a);var i=n.getValidationPageMessages();l.PageMessages.clear(),l.PageMessages.add(i),i.length>0||n.setState(a,function(){var e={displayName:n.state.displayName,country:n.state.country,region:n.state.region,city:n.state.city,gitHubUserName:n.state.gitHubUserName,linkedInUrl:n.state.linkedInUrl,twitterUserName:n.state.twitterUserName,userAvatarUrl:n.state.userAvatarUrl,occupation:n.state.occupation,organization:n.state.organization,websiteUrl:n.state.websiteUrl};s.ajax({context:n,url:n.props.userUrl+".json",type:"PUT",contentType:"application/json",data:JSON.stringify(e),success:function(e){if("error"==e.status)return void l.PageMessages.error({htmlMessage:e.message});n.setState({twitterUserName:e.twitterUserName,gitHubUserName:e.gitHubUserName}),l.PageMessages.success("Changes to your profile have been saved.")},error:function(e){l.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'})}})})},n.onUpdateProfileImage=function(e,t){return e.append("userId",n.props.userId.toString()),e.append("imageLeft",t[0].left),e.append("imageTop",t[0].top),e.append("imageWidth",t[0].width),e.append("imageHeight",t[0].height),s.ajax({context:n,url:n.props.userUrl+"/image.json",type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){s("body").css({overflow:"visible"}),s("html").css("overflow","visible"),n.setState({isEditingHeader:!1,userAvatarUrl:n.props.userAvatarUrl+"?r="+(new Date).getMilliseconds()}),l.PageMessages.success("Your profile image has been updated.")}})};var a,i=n.props.canEdit,o=n.props.competitionsSummary.totalResults,r=n.props.scriptsSummary.totalResults,u=n.props.discussionsSummary.totalResults,d=n.props.totalDatasets,m=n.props.totalOrganizations,h=n.props.followers.count,g=n.props.following.count;switch(n.props.activePane.toLowerCase()){case"competitions":a=i||o>0?"competitions":"home";break;case"kernels":a=i||r>0?"kernels":"home";break;case"discussion":a=i||u>0?"discussion":"home";break;case"datasets":a=i||d>0?"datasets":"home";break;case"organizations":a=i||m>0?"organizations":"home";break;case"account":a=i?"account":"home";break;case"followers":a=i||h+g>0?"followers":"home";break;case"following":a=i||h+g>0?"following":"home";break;default:a="home"}return n.state=s.extend({},n.props,{activePane:a,activeTab:a,isEditingHeader:!1},n.getMenuLinks(!1)),n.replaceUrlForTab(a),n}return i.__extends(t,e),t.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1),window.removeEventListener("resize",this.resizeListener)},t.prototype.componentDidMount=function(){if(window.addEventListener("popstate",this.onWindowPopState,!1),window.addEventListener("resize",this.resizeListener),this.checkHiddenTabMessage(this.state.activePane),24266===this.props.userId){this.setState({pageMessages:[{type:"info",id:"tribute",htmlMessage:'In memory of Lucas, <a href="/forums/f/15/kaggle-forum/t/20388/data-scientist-hero/116473#post116473">a data scientist hero</a>'}]})}},t.prototype.buildLink=function(e,t){return void 0===t&&(t=null),{count:null==t?null:o.numberWithCommas(t),href:"Home"==e?this.props.userUrl:this.props.userUrl+"/"+e.toLowerCase(),title:e,text:e,tab:e}},t.prototype.getMenuLinks=function(e){var t=document.body.clientWidth,n=this.props.canEdit,a=this.props.competitionsSummary.totalResults,i=this.props.scriptsSummary.totalResults,s=this.props.discussionsSummary.totalResults,o=this.props.totalDatasets,r=this.props.totalOrganizations,l=this.props.followers.count,p=this.props.following.count,u=n?e?190:this.props.isAdmin&&this.props.userId!==c.Current.userId?230:121:136,d=Math.min(t,950)-u,m=c.Current.isAdmin||c.Current.userId===this.props.userId,h=this.buildLink("Followers",l);m||0!==l||(h.text="Following",h.count=p);for(var g=[{link:this.buildLink("Home"),shouldShow:!0,width:72},{link:this.buildLink("Competitions",a),shouldShow:n||a>0,width:164},{link:this.buildLink("Kernels",i),shouldShow:n||i>0,width:122},{link:this.buildLink("Discussion",s),shouldShow:n||s>0,width:145},{link:this.buildLink("Datasets",o),shouldShow:(n||o>0)&&this.props.canCreateDatasets,width:130},{link:this.buildLink("Organizations",r),shouldShow:n||r>0,width:166},{link:h,shouldShow:this.props.canSeeFollowers&&(n||l+p>0),width:130},{link:this.buildLink("Account"),shouldShow:n||e,width:90}],f=[],v=[],_=0,b=g;_<b.length;_++){var E=b[_];E.shouldShow&&(E.width<d?(f.push(E.link),d-=E.width):(d<67&&v.push(f.pop()),v.push(E.link),d=67))}return{menuLinks:f,overflowMenuLinks:v}},t.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var a=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&a||!n.isValid()&&a&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},t.prototype.addSelfToFollowerList=function(){var e={displayName:s("<textarea/>").html(c.Current.userDisplayName).text(),userId:c.Current.userId,userName:c.Current.userName,thumbnailUrl:c.Current.userThumbnailUrl,userUrl:c.Current.userProfileUrl,tier:c.Current.tier},t=i.__assign({},this.state.followers);t.containsSelf=!0,t.count++,t.list.push(e);var n=i.__assign({followers:t},this.getMenuLinks(!1));n.menuLinks.map(function(e){"Followers"==e.title&&(e.count=t.count.toString())}),this.setState(n),l.PageMessages.clear(),l.PageMessages.success({htmlMessage:"You are now following "+this.props.displayName})},t.prototype.removeSelfFromFollowerList=function(){for(var e=i.__assign({},this.state.followers),t=-1,n=(c.Current.userId,0);n<e.list.length;n++)if(e.list[n].userId==c.Current.userId){t=n;break}if(t>=0){e.containsSelf=!1,e.count--,e.list.splice(t,1);var a=i.__assign({followers:e},this.getMenuLinks(!1));a.menuLinks.map(function(t){"Followers"==t.title&&(t.count=e.count.toString())}),this.setState(a),l.PageMessages.clear(),l.PageMessages.success({htmlMessage:"You are no longer following "+this.props.displayName})}},t.prototype.checkHiddenTabMessage=function(e){switch(e.toLowerCase()){case"competitions":this.showHiddenTabMessageIfNeeded("participate in a competition",this.props.competitionsSummary.totalResults);break;case"kernels":this.showHiddenTabMessageIfNeeded("create a kernel",this.props.scriptsSummary.totalResults);break;case"discussion":this.showHiddenTabMessageIfNeeded("participate in a discussion",this.props.discussionsSummary.totalResults);break;case"datasets":this.showHiddenTabMessageIfNeeded("create a dataset",this.props.totalDatasets);break;case"organizations":this.showHiddenTabMessageIfNeeded("join an organization",this.props.totalOrganizations)}},t.prototype.showHiddenTabMessageIfNeeded=function(e,t){this.props.canEdit&&0===t&&l.PageMessages.info("This tab is hidden from other users until you "+e+".")},t.prototype.render=function(){var e={onProfilePropChanged:this.onProfilePropChanged,onProfileEditingStateChanged:this.onProfileEditingStateChanged,onProfileEditingStateCancelled:this.onProfileEditingStateCancelled,onProfileTabChanged:this.onProfileTabChanged,replaceUrlForTab:this.replaceUrlForTab,onUpdateProfileImage:this.onUpdateProfileImage,onFollowUser:this.onFollowUser,onUnfollowUser:this.onUnfollowUser,userAvatarUrl:this.state.userAvatarUrl||this.props.userAvatarUrl};return a.createElement(r.Profile,s.extend({},this.state,e))},t}(a.Component);t.ProfileContainer=u}).call(t,n(34),n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(3),s=n(7),o=n(217),r=n(165),l=n(287),c=n(6),p=function(t){function n(e){var n=t.call(this,e)||this;return n.state={},n}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this;i.get("/"+this.props.userName+"/code.json").done(function(t){return e.setState(t)})},n.prototype.render=function(){var t=null;return this.props.canSeeCallToAction&&0===this.props.totalScripts&&this.props.userId===c.Current.userId&&(t=e.createElement(s.ContentBox,null,e.createElement("div",{className:"profile__user-action-callout"},e.createElement("h4",null,"In the words of your first math teacher, “Show your work”. "),e.createElement("p",null,"Any code you write and execute in ",e.createElement("a",{href:"https://www.kaggle.com/kernels"},"Kernels")," will be published here."),e.createElement("p",null,"A portfolio of models and dazzling visuals will attract collaborators, recruiters, and upvotes!")))),e.createElement("div",{className:"profile___scripts"},e.createElement(o.AchievementSummary,a.__assign({},this.props.scriptsSummary),e.createElement("div",{className:"achievement-summary__stats-wrapper"},e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.scriptsSummary.tier},"Upvotes: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes)),e.createElement("div",null,e.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.scriptsSummary.tier},"Forks: "),e.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalForks)))),e.createElement(l.NextTier,{currentTier:this.props.scriptsSummary.tier,area:"kernels",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),t,e.createElement(r.ScriptList,{listTitle:"Kernels",banner:null,showFilters:!0,sourceBaseUrl:"/kernels/all/",userId:this.props.userId,languagesMetadataUrl:"/kernels/alllang",outputTypesMetadataUrl:"/kernels/allouttypes",loginAndReturnUrl:null,newNotebookUrl:null,newScriptUrl:null,showScriptProjectName:!0,showHiddenSelectionGroup:this.props.canEdit}))},n}(e.Component);t.Scripts=p}).call(t,n(0))},function(e,t,n){"use strict";function a(e){return e?new Date(e.toString()).getTime():null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,n){n(863),n(3),n(272),n(688),n(687),n(685),n(684),n(683),n(682),n(686),n(690),n(691),n(692),n(693),n(694),n(695),n(408),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(707),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(715),n(716),n(717),n(718),n(719),n(720),n(721),n(722),n(723),n(724),n(725),n(705),n(706),n(726),n(727),n(728),n(731),n(730),n(733),n(732),n(734),n(735),n(736),n(737),n(729),n(738),n(739),n(740),n(742),n(741),n(743),n(744),n(745),n(747),n(746),n(749),n(748),n(750),n(752),n(751),n(753),n(754),n(755),n(756),n(757),n(758),n(759),n(760),n(761),n(762),n(763),n(766),n(764),n(765),n(767),n(768),n(769),n(770),n(771),n(772),n(773),n(774),n(775),n(776),n(777),n(779),n(778),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(790),n(788),n(789),n(791),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(800),n(799),n(802),n(801),n(804),n(803),n(805),n(806),n(807),n(808),n(809),n(810),n(811),n(812),n(813),n(814),n(815),n(816),n(817),n(818),n(819),n(820),n(821),n(822),n(823),n(824),n(825),n(826),n(827),n(828),n(829),n(830),n(831),n(832),n(833),n(834),n(835),n(836),n(837),n(838),n(839),n(840),n(841),n(842),n(843),n(844),n(845),n(846),n(848),n(847),n(849),n(850),n(851),n(852),n(853),n(854),n(855),n(856),n(857),n(858),n(859),n(860),n(861),n(862),n(689),e.exports=n(681)}],[1881]);